jQuery(document).ready(function($){function initHeadline(){singleLetters($(".cd-headline.letters").find("b"));animateHeadline($(".cd-headline"))}function singleLetters($words){$words.each(function(){var word=$(this),letters=word.text().split(""),selected=word.hasClass("is-visible"),newLetters;for(i in letters)letters[i]==" "&&(letters[i]="&nbsp;"),word.parents(".rotate-2").length>0&&(letters[i]="<em>"+letters[i]+"<\/em>"),letters[i]=selected?'<i class="in">'+letters[i]+"<\/i>":"<i>"+letters[i]+"<\/i>";newLetters=letters.join("");word.html(newLetters).css("opacity",1)})}function animateHeadline($headlines){var duration=animationDelay;$headlines.each(function(){var headline=$(this),spanWrapper,newWidth,words,width;headline.hasClass("loading-bar")?(duration=barAnimationDelay,setTimeout(function(){headline.find(".cd-words-wrapper").addClass("is-loading")},barWaiting)):headline.hasClass("clip")?(spanWrapper=headline.find(".cd-words-wrapper"),newWidth=spanWrapper.width()+10,spanWrapper.css("width",newWidth)):headline.hasClass("type")||(words=headline.find(".cd-words-wrapper b"),width=0,words.each(function(){var wordWidth=$(this).width();wordWidth>width&&(width=wordWidth)}),headline.find(".cd-words-wrapper").css("width",width));setTimeout(function(){hideWord(headline.find(".is-visible").eq(0))},duration)})}function hideWord($word){var nextWord=takeNext($word),parentSpan,bool;$word.parents(".cd-headline").hasClass("type")?(parentSpan=$word.parent(".cd-words-wrapper"),parentSpan.addClass("selected").removeClass("waiting"),setTimeout(function(){parentSpan.removeClass("selected");$word.removeClass("is-visible").addClass("is-hidden").children("i").removeClass("in").addClass("out")},selectionDuration),setTimeout(function(){showWord(nextWord,typeLettersDelay)},typeAnimationDelay)):$word.parents(".cd-headline").hasClass("letters")?(bool=$word.children("i").length>=nextWord.children("i").length?!0:!1,hideLetter($word.find("i").eq(0),$word,bool,lettersDelay),showLetter(nextWord.find("i").eq(0),nextWord,bool,lettersDelay)):$word.parents(".cd-headline").hasClass("clip")?$word.parents(".cd-words-wrapper").animate({width:"2px"},revealDuration,function(){switchWord($word,nextWord);showWord(nextWord)}):$word.parents(".cd-headline").hasClass("loading-bar")?($word.parents(".cd-words-wrapper").removeClass("is-loading"),switchWord($word,nextWord),setTimeout(function(){hideWord(nextWord)},barAnimationDelay),setTimeout(function(){$word.parents(".cd-words-wrapper").addClass("is-loading")},barWaiting)):(switchWord($word,nextWord),setTimeout(function(){hideWord(nextWord)},animationDelay))}function showWord($word,$duration){$word.parents(".cd-headline").hasClass("type")?(showLetter($word.find("i").eq(0),$word,!1,$duration),$word.addClass("is-visible").removeClass("is-hidden")):$word.parents(".cd-headline").hasClass("clip")&&$word.parents(".cd-words-wrapper").animate({width:$word.width()+10},revealDuration,function(){setTimeout(function(){hideWord($word)},revealAnimationDelay)})}function hideLetter($letter,$word,$bool,$duration){if($letter.removeClass("in").addClass("out"),$letter.is(":last-child")?$bool&&setTimeout(function(){hideWord(takeNext($word))},animationDelay):setTimeout(function(){hideLetter($letter.next(),$word,$bool,$duration)},$duration),$letter.is(":last-child")&&$("html").hasClass("no-csstransitions")){var nextWord=takeNext($word);switchWord($word,nextWord)}}function showLetter($letter,$word,$bool,$duration){$letter.addClass("in").removeClass("out");$letter.is(":last-child")?($word.parents(".cd-headline").hasClass("type")&&setTimeout(function(){$word.parents(".cd-words-wrapper").addClass("waiting")},200),$bool||setTimeout(function(){hideWord($word)},animationDelay)):setTimeout(function(){showLetter($letter.next(),$word,$bool,$duration)},$duration)}function takeNext($word){return $word.is(":last-child")?$word.parent().children().eq(0):$word.next()}function switchWord($oldWord,$newWord){$oldWord.removeClass("is-visible").addClass("is-hidden");$newWord.removeClass("is-hidden").addClass("is-visible")}var animationDelay=2500,barAnimationDelay=3800,barWaiting=barAnimationDelay-3e3,lettersDelay=50,typeLettersDelay=150,selectionDuration=500,typeAnimationDelay=selectionDuration+800,revealDuration=600,revealAnimationDelay=1500;$(".cd-headline:not(.letters)").find("b").each(function(){$(this).html($(this).html().replace(/ /g,"&nbsp;"))});initHeadline()})