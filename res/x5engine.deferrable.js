!function(e,i){"use strict";e.extend(i,{imAccess:{showLogout:function(){var t=e(".imLogout");0!==t.length&&(t.empty(),i.utils.isOnline()?null!==e.imCookie("im_access_cookie_uid")&&""!==e.imCookie("im_access_cookie_uid")&&t.append('<a class="imLogoutLink" href="'+i.settings.currentPath+'res/imlogout.php">'+i.l10n.get("private_area_logout")+"<\/a>"):t.append('<a class="imLogoutLink" href="#">'+i.l10n.get("private_area_logout")+"<\/a>"))}}})}(_jq,x5engine),function(u,h){"use strict";u.extend(h,{imAdv:{showAdv:function(t){var e=new Date,e=new Date(e.getTime()+6e4*e.getTimezoneOffset());return u.extend(!0,{start:new Date(e.getTime()-1),end:new Date(e.getTime()+1),delay:0,callback:null},t),e>t.start&&e<t.end&&u.isFunction(t.callback)?setTimeout(t.callback,t.delay):-1},showCorner:function(t){var o=u.extend(!0,{position:"right-top",attentionSeeker:{media:null,effect:"",interval:1e3},sound:null,message:{media:null,effect:""},margin:20},h.settings.imAdv,t),a=null,r=null,s=h.responsive,l=o.attentionSeeker.media.load,c=u("body"),d=u(window),a=new h.mediaObject(u.extend(o.attentionSeeker.media,{load:function(t){function n(){var t=s.getCurrentBreakPoint();!s.isDesktopMode()&&t&&t.start<a.Width()?e.hide(0):e.show(0)}var e=u('<div id="adv-attention-seeker" style="overflow: hidden; cursor: pointer;"/>'),i=!1;switch(o.position){case"right-top":e.css({position:"absolute",top:o.margin,right:o.margin});break;case"right-bottom":e.css({position:"absolute",bottom:o.margin,right:o.margin});break;case"left-top":e.css({position:"absolute",top:o.margin,left:o.margin});break;case"left-bottom":e.css({position:"absolute",bottom:o.margin,left:o.margin})}c.append(e);e.width(t.Width()).height(t.Height());t.AppendTo(e,function(){e.add(t.DOMObject()).css("zIndex",h.settings.zIndex.popup);t.DOMObject().height(t.Height()).width(t.Width());e.addClass(o.attentionSeeker.effect);e.on("mouseenter",function(){i||(r=setTimeout(function(){i=!0;e.fadeOut();h.imShowBox({media:[o.message.media],effect:"custom",customEffect:o.message.effect,sound:o.sound,fullScreenEnabled:!1,zoomEnabled:!1,showThumbs:!1,onClose:function(){e.fadeIn(250,function(){i=!1})}})},250))}).on("mouseleave",function(){clearTimeout(r)});u.isFunction(l)&&l(t)});n();d.on("resize",n)}}))}}})}(_jq,x5engine),function(s,r){"use strict";s.extend(r,{imAdvertising:{cookieId:"",clUnroll:"",clClose:"",delay:0,timerClose:null,showPopup:function(e){function o(t){t?setTimeout(function(){t?s("#"+e.id+" #"+e.id+"-child .contText span").addClass("hid"):s("#"+e.id+" #"+e.id+"-child .contText span").removeClass("hid")},100):s("#"+e.id+" #"+e.id+"-child .contText span").removeClass("hid")}function a(){i.removeClass(r.imAdvertising.clUnroll).addClass(e.effect);o(!0)}var i,t,n;e=s.extend({id:"imAdvertisingPopup",offlineTimeStamp:0,delay:5e3,position:"right",priority:0,text:"",acceptButton:!1,textButton:"",actionButton:"",effect:"bounce",margin:10,backgroundColor:"#37474f",textColor:"#fff"},e);r.imAdvertising.clUnroll="unroll-"+e.position;r.imAdvertising.clClose="close-"+e.position;r.imAdvertising.delay=e.delay;r.imAdvertising.cookieId="imAdvertising_pop_up_yes"+(r.utils.isOnline()?"":"_"+e.offlineTimeStamp);r.imAdvertising.createContainer(e);i=s("#"+e.id);t=s("#"+e.id+" #"+e.id+"-child");i.addClass(r.imAdvertising.clClose);i.css({zIndex:r.settings.zIndex.advertising+e.priority,transition:e.position+" .3s cubic-bezier(.4,0,.2,1)"});Math.min(t.outerWidth()+2*e.margin,s(window).width());n=Math.min(t.outerWidth()+2*e.margin,s(window).width()-60);i.css("width",60);t.css({width:n,color:e.textColor,background:e.backgroundColor});t=document.createElement("style");t.innerHTML="#"+e.id+"."+r.imAdvertising.clUnroll+" { "+e.position+": "+(n-60)+"px; }";document.getElementsByTagName("head")[0].appendChild(t);i.mouseenter(function(){o(!1);s(this).addClass(r.imAdvertising.clUnroll).removeClass(e.effect);window.clearTimeout(r.imAdvertising.timerClose)});i.mouseleave(function(){r.imAdvertising.timerClose=window.setTimeout(a,r.imAdvertising.delay)});setTimeout(function(){var t=r.imAdvertising.alreadyVisited();t||(s("#"+e.id+" #"+e.id+"-child .contText span").removeClass("hid"),i.addClass("unroll-"+e.position),s.imCookie(r.imAdvertising.cookieId,1,{expires:365}),r.imAdvertising.activateScripts());r.imAdvertising.timerClose=window.setTimeout(a,t?0:5e3)},5e3)},createContainer:function(t){var e=s('<div id="'+t.id+'">'),i=s('<div id="'+t.id+'-child"><\/div>'),n=s('<div class="contIcon"><\/div>'),o=s('<svg xmlns="http://www.w3.org/2000/svg" width="30px" height="30px" viewBox="0 0 114.98 114.98">            <defs>                <style>                    .a {                        fill: #f1f1f1;                    }                                        .b {                        fill: #232323;                    }                <\/style>            <\/defs>            <circle class="a" cx="57.49" cy="57.49" r="57.49" />            <path class="b" d="M96.34,38.74a3.29,3.29,0,0,0,0-6.58H80.7a3,3,0,0,0-.67.07l-.16,0-.14,0-.21.08-.09,0-.2.09-.09,0-.16.09-.11.07-.13.09-.13.1a.39.39,0,0,1-.1.08l-.14.14a.46.46,0,0,0-.07.07l-.15.16a.56.56,0,0,0-.05.08,1.15,1.15,0,0,0-.14.17.75.75,0,0,1-.07.12l-.09.15a3.38,3.38,0,0,0-.26.62L73.33,48.05a3.29,3.29,0,0,0,2.17,4.12l.08,0a3.49,3.49,0,0,0,1.08.17h.21a13.11,13.11,0,0,1,12.64,9.76,13.31,13.31,0,0,1,.43,3.34,13.09,13.09,0,0,1-9.75,12.64,13.06,13.06,0,0,1-15.76-8.58c0-.15-11.7-35.1-11.7-35.1l0-.07-.06-.16L52.57,34a.91.91,0,0,0-.07-.14l-.08-.15a1,1,0,0,0-.08-.11,1,1,0,0,0-.1-.15l-.09-.11L52,33.23a1.14,1.14,0,0,1-.11-.11L51.81,33l-.13-.11-.11-.09-.15-.1-.11-.07-.15-.09L51,32.48l-.15-.06-.16-.07-.07,0-.07,0-.18-.05-.14,0-.17,0-.15,0h-.65l-.15,0-.18,0-.14,0-.18.05-.07,0-.06,0-.17.06-.14.06-.14.08-.15.08-.12.08-.15.1-.11.09-.13.11-.11.11-.11.11-.11.13-.09.11-.1.15-.08.12-.08.15a.91.91,0,0,0-.07.14.61.61,0,0,1-.07.14l-.06.17a.14.14,0,0,0,0,.07L34.17,71.63,21.77,34.41a3.29,3.29,0,0,0-6.24,2.08L31.06,83.1l0,.07a1.22,1.22,0,0,0,.07.17l.06.14s.05.09.07.14l.09.15.07.12.1.15.09.11.11.13a1.14,1.14,0,0,1,.11.11l.12.11.13.11.11.09.15.1.11.08a.8.8,0,0,0,.16.08l.13.07.15.07.16.06.07,0,.07,0,.18.05.14,0,.17,0,.15,0h.65l.15,0,.18,0,.14,0,.18,0,.06,0,.07,0,.17-.07L35.6,85l.14-.07.15-.09L36,84.8l.15-.1.11-.09.13-.12a1.14,1.14,0,0,0,.11-.11l.11-.11.11-.13.09-.11.1-.15.08-.11a1.19,1.19,0,0,0,.08-.16.83.83,0,0,0,.07-.13l.07-.15.06-.16,0-.07L49.62,45.87l8.22,24.58h0a19.66,19.66,0,0,0,38.68-5,19.77,19.77,0,0,0-.65-5A19.7,19.7,0,0,0,80.8,46.18l2.31-7.44Z" />        <\/svg>'),a=s('<div class="contText"><\/div>'),r=s('<span class="hid">'+t.text+"<\/span>");i.append(n.append(o)).append(a.append(r));1==t.acceptButton&&a.append(s("<button onclick=\"window.open('"+t.actionButton+"','_blank');\" >"+t.textButton+"<\/button>"));e.append(i).appendTo("body")},activateScripts:function(){s("#imContent").trigger("x5ActivateCookieScripts")},alreadyVisited:function(){return!!s.imCookie(r.imAdvertising.cookieId)}}})}(_jq,x5engine),function(k,_){"use strict";k.extend(_,{alertBox:function(i){function n(){i.sound&&i.sound&&new Audio(i.sound).play()}function o(){i.link&&s.find(".target-image, .mediaTarget").click(function(){k.isFunction(i.link)?i.link.call(this):location.href=i.link}).css("cursor","pointer")}function a(){i.cookie&&k.imCookie(v,"true",{expires:0,path:"/"})}function w(t){27==t.keyCode&&l()}var t='<img class="imCloseInn" src=\''+_.settings.currentPath+"res/imClose.png' style='width: 20px;' />",r=(i=k.extend(!0,{id:"",effect:"",link:"",priority:0,cookie:!1,position:"top",text:"",image:"",media:null,sound:"",acceptButton:!1,elementClose:t,onClose:null,offlineTimeStamp:0},i)).id,s=null,e=null,l=null,c=k("body"),d=null,u=null,h=null,p=null,f=0,g=null,m=null,v="cookie-"+i.id+(!_.utils.isOnline()&&i.offlineTimeStamp?"_"+i.offlineTimeStamp:""),b='<div id="'+r+'" class="alertbox" data-position="'+i.position+'" data-priority="'+i.priority+'"><div class="message-container"><div class="wrapper-content">'+i.text+(i.image?'<img class="target-image"/>':"")+(i.media?'<div class="mediaTarget" />':"")+"<\/div><\/div>",y,x,C;return""!==i.elementClose&&(b+='<div class="close-button close">'+i.elementClose+"<\/div>"),b+="<\/div>",c.keydown(w),(!i.cookie||"true"!=k.imCookie(v))&&("top"==i.position?(f=1e6,k('[data-priority][data-position="top"]').each(function(){var t=+k(this).attr("data-priority");!isNaN(t)&&t>i.priority&&t<f&&(p=k(this),f=t)}),p?p.after(b):c.prepend(b),d=k("#"+r+" .target-image"),0<(s=k("#"+r)).length&&(s.slideUp(0),y=k("#imHeaderBg"),x=function(){},l=function(){a();c.off("keydown",w);k.isFunction(i.onClose)&&i.onClose();h&&h.Stop();s.slideUp({duration:500,step:x,complete:function(){s.remove();+y.css("margin-top").replace(/px/g,"")<2&&y.css("margin-top",0)}})},e=function(t){var e;s.css({position:"fixed",top:0,left:0,right:0,"border-top-width":0,zIndex:_.settings.zIndex.popup});i.effect&&"fromtop"==i.effect&&(e={left:0,top:0},s.css({top:-k(window).height()+s.height()}),s.fadeIn(0),s.animate(e,{duration:500,complete:t}));n();o();s.slideDown({duration:500,step:x,complete:function(){s.outerHeight(!0);k.isFunction(t)&&t()}})},d&&d.length?(d.one("load",e),d.mouseenter(function(){d.attr("src",i.image).mouseleave(function(){d.attr("src",i.image).off("mouseleave")})}).attr("src",i.image)):i.media?(m=i.media.load,g=new _.mediaObject(k.extend(i.media,{load:function(t){t.AppendTo(k(".mediaTarget"));t.DOMObject().css("position","").height(t.Height());e(function(){k.isFunction(m)&&m(t)})}}))):e(),s.find(".close").click(l))):"bottom"==i.position&&((t=k("#bottom-alertbox-container")).length||(t=k('<div id="bottom-alertbox-container" />').css({position:"fixed",bottom:0,left:0,right:0,"z-index":_.settings.zIndex.popup}),c.append(t)),f=0,t.find("[data-priority]").each(function(){var t=+k(this).attr("data-priority");!isNaN(t)&&t<i.priority&&f<=t&&(p=k(this),f=t)}),p?p.before(b):t.append(b),s=k("#"+r),d=s.find(".target-image"),u=s.find(".message-container"),0<s.length&&(s.css({position:"relative",zIndex:_.settings.zIndex.splashBox}),e=function(t){i.sound&&(h=_.mediaPlayer({url:i.sound,target:s.find(".alertbox-mediaplayer"),type:"audio",width:1,height:1,loop:!0,autoplay:!0}));s.css({bottom:i.image?-k("#"+r+" img").outerHeight():g?-g.Height():"auto","border-bottom-width":0});var e=0<d.length?d.outerHeight():g?g.Height():"auto";u.css({height:e});s.stop(!0,!0).animate({bottom:0,height:e},{duration:500,complete:t});i.effect&&"frombottom"==i.effect&&(e={left:0,top:0},s.css({top:k(window).height()-s.height()}),s.fadeIn(0),s.animate(e,{duration:500,complete:t}));n();o();a()},l=function(){k.isFunction(i.onClose)&&i.onClose();h&&h.Stop();s.slideUp(500,function(){s.remove()});a()},C=function(){d.off("load mouseleave").attr("src",i.image);k([u,s]).animate({height:d.outerHeight()})},d&&d.length?(d.one("load",e),i.img_big&&d.mouseenter(function(){d.one("load",function(){k([u,s]).stop(!1,!1).animate({height:d.outerHeight()});d.mouseleave(C)}).attr("src",i.img_big)}),d.attr("src",i.image)):i.media?(m=i.media.load,g=new _.mediaObject(k.extend(i.media,{load:function(t){t.AppendTo(k(".mediaTarget"));t.DOMObject().css("position","").width("auto").height("auto").fadeIn(0);e(function(){k.isFunction(m)&&m(t)})}}))):e(),s.find(".close").click(l))),{close:function(){k.isFunction(l)&&l()}})}})}(_jq,x5engine),function(s,t,l){"use strict";s.extend(t,{analytics:{setPageView:function(t){t=s.extend(!0,{cookie:{name:"wsx5analytics",expiration:1800},postUrl:"analytics/wsx5analytics.php"},t);var i,e=l.imStorage,n=t.cookie.name,o=e.getItem(n),a=+e.getItem(n+"ex"),r=new Date;(!o||a<r.getTime())&&(i=(new Date).getTime(),o="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=(i+16*Math.random())%16|0;return i=Math.floor(i/16),("x"==t?e:3&e|8).toString(16)}));e.setItem(n,o);e.setItem(n+"ex",r.setTime(r.getTime()+1e3*t.cookie.expiration));"/"==(r=location.pathname).charAt(r.length-1)&&-1==r.indexOf("/index.html")&&(r+="index.html");s.ajax({url:t.postUrl,type:"POST",data:{uid:o,url:r,lang:navigator.language||navigator.userLanguage}})}}})}(_jq,x5engine,window),function(a){"use strict";function d(){return(new Date).getTime()}var r="x5enginepause",s=1,l={},c=a.fn.animate;a.fn.animate=function(e,t,i,n){var o=a.speed(t,i,n);return o.complete=o.old,this.each(function(){this[r]||(this[r]=s++);var t=a.extend({},o);c.apply(a(this),[e,t]);l[this[r]]={start:d(),run:!0,opt:t,prop:e,done:0}})};a.fn.pauseAnim=function(){return this.each(function(){this[r]||(this[r]=s++);var t=l[this[r]];t&&t.run&&(t.done+=d()-t.start,t.done>t.opt.duration?delete l[this[r]]:(a(this).stop(),t.run=!1))})};a.fn.resAnim=function(){return this.each(function(){this[r]||(this[r]=s++);var t=l[this[r]];t&&!t.run&&(t.opt.duration-=t.done,t.done=0,t.run=!0,t.start=d(),c.apply(a(this),[t.prop,t.opt]))})}}(_jq),function(p,f){"use strict";p.extend(f,{bgStretch:function(t,e,i){i=p('<div id="imFixedDivBg" />').css({position:"fixed",top:0,left:0,bottom:0,right:0,"z-index":i});p("body").prepend(i);f.divBgStretch(i,t,!1,"top")},divBgStretch:function(e,t,i,n){var o,a,r,s=0,l=0,c=0,d=0,u=0,h=0;i=null==i||i;n=n||"center";f.utils.supportsCSS("backgroundSize")&&!/(iPad|iPhone|android)/i.test(navigator.userAgent)||(e=p(e),(o=p("<div />").css("overflow","hidden")).css("display",f.responsive.isDesktopMode()?"block":"none"),p("#imContent").on("breakpointChanged",function(){o.css("display",f.responsive.isDesktopMode()?"block":"none")}),a=p("<img />").css({position:"absolute",top:-1e4}),p("body").append(a),a.one("load",function(){c=e.width();d=e.height();h=c;u=d;r=a.height()/a.width();a.detach();e.prepend(o);o.append(a),function t(){"static"==e.css("position")&&e.css("position","relative");e.children().each(function(){var t=p(this);"static"==t.css("position")&&t.css("position","relative")});o.width(h).height(u).css({position:"absolute",top:0,left:0});i?a.css({top:0,left:0}).width(h).height(u):((l=(s=h)*r)<u&&(s=(l=u)/r),a.width(s).height(l).css({top:"top"==n?0:(u-l)/2,left:(h-s)/2}),setTimeout(function(){h=e.width();u=e.height();h==c&&u==d||(t(),c=h,d=u)},250))}()}).attr("src",t))},eventBinder:function(a,r,n,o,s){var l=!1;p(a).each(function(){var e=p(this),i=function(t){if(isNaN(t.clientX)||isNaN(t.clientY)||0===t.clientX&&0===t.clientY)return!1;for(var e=document.elementsFromPoint(t.clientX,t.clientY),i=!1,n=!1,o=0;o<e.length&&!i&&!n;o++)p(e[o]).is(a)&&(i=!0),r&&(p(e[o]).is(r)||p(t.target).is(r))&&(n=!0);return i&&!n};n&&e.on("click",function(t){i(t)&&(p.isFunction(n)?n.apply(e):"string"==typeof n&&0===n.indexOf("http")&&(location.href=n))});(o||s)&&p("body").on("mousemove",function(t){i(t)?l||(l=!0,p.isFunction(o)?o.apply(e):"string"==typeof o&&0===o.indexOf("http")&&(location.href=o)):l&&(l=!1,p.isFunction(s)&&s())})})}})}(_jq,x5engine),function(o,t,e){"use strict";function i(){d=[];o(".imBlogHighlightedCards").each(function(){var t,e=o(this),i=e.find(".imBlogPostCard"),n=i.length||0;0!=n&&(t=e.width(),n=e.width()*(n-1),d.push({cards:i,current:0,step:t,end:n}),o.each(i,function(t,e){o(e).css("transform","translateX(0px)")}))})}function n(){o.each(d,function(t,i){i.current==i.end?i.current=0:i.current+=i.step;o.each(i.cards,function(t,e){o(e).css("transform","translateX(-"+i.current+"px)")})});c()}function a(){o.each(d,function(t,i){0==i.current?i.current=i.end:i.current-=i.step;o.each(i.cards,function(t,e){o(e).css("transform","translateX(-"+i.current+"px)")})});c()}function r(t){p=!1;1==t.touches.length&&(p=f={x:t.touches[0].pageX,y:t.touches[0].pageY})}function s(t){var e,i;1==t.touches.length&&(e=t.touches[0].pageX-p.x,i=t.touches[0].pageY-p.y,f=Math.abs(i)>Math.abs(e)?p=!1:{x:t.touches[0].pageX,y:t.touches[0].pageY})}function l(t){var e,i;p&&f&&(e=f.x-p.x,i=f.y-p.y,0!=e&&Math.abs(i)<Math.abs(e)&&(t.preventDefault(),(0<e?a:n)()),p=f=!1)}function c(){u&&clearTimeout(u);u=setTimeout(function(){n()},h)}var d,u,h,p,f;o.extend(t,{blogHighlightedSlideshow:(d=[],u=null,f=p=!(h=5e3),{start:function(t){h=t||5e3;i();0<d.length&&(o(e).resize(i),o("html").hasClass("touchevents")?(o(".imBlogHighlightedCards").on("touchstart",r),o(".imBlogHighlightedCards").on("touchmove",s),o(".imBlogHighlightedCards").on("touchend",l),o(".imBlogHighlightedBefore").css("display","none"),o(".imBlogHighlightedAfter").css("display","none")):(o(".imBlogHighlightedBefore").click(a),o(".imBlogHighlightedAfter").click(n)),c())}})})}(_jq,x5engine,window),function(t,e){"use strict";t.extend(e,{captcha:{instance:null}})}(_jq,x5engine),function(a,t){"use strict";a.extend(!0,t,{captcha:{recaptcha:function(o){o=a.extend({sitekey:""},o);this.create=function(t){function n(t){"console"in window&&console.log(t)}var e=a(t).find(".recaptcha"),i=-1;return e.length?(!function t(){"undefined"==typeof grecaptcha?setTimeout(t,50):i=grecaptcha.render(e[0],{sitekey:o.sitekey})}(),{remove:function(){e.empty()},reset:function(){"number"==typeof i&&grecaptcha.reset(i)},check:function(){var t,e;return"number"!=typeof i?!1:(t=grecaptcha.getResponse(i),!t)?!1:x5engine.utils.isOnline()?(e=!1,a.ajax({url:x5engine.settings.currentPath+o.phpfile,async:!1,type:"POST",data:{rsp:t},dataType:"json",success:function(t){e=t.success;!t.success&&t["error-codes"]&&t["error-codes"].length&&n("reCaptcha error: "+t["error-codes"][0])},error:function(t,e,i){n("reCatpcha error: "+e+i)}}),e):!0},getCaptchaField:function(){return e}}):!1}}}})}(_jq,x5engine),function(u,t){"use strict";u.extend(!0,t,{captcha:{x5captcha:function(d){d=u.extend({length:5,phpfile:"captcha/5captcha.php",offlineCodes:[]},d);this.create=function(t){function e(){var t,e;for(c.val(""),o=n="",a=0;a<s;a++){for(;t=parseInt(9*Math.random(),10),-1<n.indexOf(t););n+=t}if(x5engine.utils.isOnline())l=u('<iframe class="captcha-container" src="'+r+d.phpfile+"?action=show&code="+n+'" frameborder="0" marginwidth="0" marginheight="0" width="120" height="24" scrolling="no"><\/iframe>'),c.before(l);else{for(e='<div class="captcha-container">',a=0;a<n.length;a++)e+='<img src="'+r+d.offlineCodes[parseInt(n.charAt(a),10)].path+'" />';for(l=u(e+="<\/div>"),c.before(l),a=0;a<n.length;a++)o+=d.offlineCodes[parseInt(n.charAt(a),10)].letter}u("#imContent").change()}function i(){l&&l.remove()}var n,o,a,r=x5engine.settings.currentPath,s=d.length,l=null,c=u(t).find(".imCpt");return!!c.length&&(e(),{remove:i,reset:function(){i();e()},check:function(){var t=c.val(),e=!1;return x5engine.utils.isOnline()?u.ajax({url:r+d.phpfile+"?action=check&code="+n+"&ans="+t,async:!1,cache:!1,success:function(t){e="-1"!=t}}):e=t.toLowerCase()==o.toLowerCase(),e},getCaptchaField:function(){return c}})}}}})}(_jq,x5engine),function(y,x){"use strict";function o(){this.controls={bold:{groupIndex:1,visible:!0,tags:["b","strong"],css:{fontWeight:"bold"},tooltip:n("wysiwyg_bold","Bold"),hotkey:{ctrl:1,key:66}},copy:{groupIndex:0,visible:!1,hasState:!1,tooltip:n("wysiwyg_copy","Copy")},createLink:{groupIndex:6,visible:!0,exec:function(){var t=this;y.wysiwyg.controls&&y.wysiwyg.controls.link?y.wysiwyg.controls.link.init(this):y.wysiwyg.autoload?y.wysiwyg.autoload.control("wysiwyg.link.js",function(){t.controls.createLink.exec.apply(t)}):s.error("$.wysiwyg.controls.link not defined. You need to include wysiwyg.link.js file")},tags:["a"],tooltip:n("wysiwyg_add_link","Create link")},unLink:{groupIndex:6,hasState:!1,visible:!0,exec:function(){this.editorDoc.execCommand("unlink",!1,null)},tooltip:n("wysiwyg_remove_link","Remove link")},cut:{groupIndex:0,visible:!1,hasState:!1,tooltip:n("wysiwyg_cut","Cut")},decreaseFontSize:{groupIndex:9,visible:!1,hasState:!1,tags:["small"],tooltip:"Decrease font size",exec:function(){this.decreaseFontSize()}},h1:{groupIndex:7,visible:!1,className:"h1",command:C||k?"FormatBlock":"heading",arguments:C||k?"<h1>":"h1",tags:["h1"],tooltip:"Header 1"},h2:{groupIndex:7,visible:!1,className:"h2",command:C||k?"FormatBlock":"heading",arguments:C||k?"<h2>":"h2",tags:["h2"],tooltip:"Header 2"},h3:{groupIndex:7,visible:!1,className:"h3",command:C||k?"FormatBlock":"heading",arguments:C||k?"<h3>":"h3",tags:["h3"],tooltip:"Header 3"},highlight:{tooltip:"Highlight",className:"highlight",groupIndex:1,visible:!1,css:{backgroundColor:"rgb(255, 255, 102)"},exec:function(){var t,e,i=C||k?"backcolor":"hilitecolor";if(C)t=this.getInternalRange().parentElement();else for(t=(e=this.getInternalSelection()).extentNode||e.focusNode;void 0===t.style;)if((t=t.parentNode).tagName&&"body"===t.tagName.toLowerCase())return;e="rgb(255, 255, 102)"===t.style.backgroundColor||"#ffff66"===t.style.backgroundColor?"#ffffff":"#ffff66";this.editorDoc.execCommand(i,!1,e)}},html:{groupIndex:10,visible:!0,exec:function(){var t;this.options.resizeOptions&&y.fn.resizable&&(t=this.element.height());this.viewHTML?(this.setContent(this.original.value),y(this.original).hide(),this.editor.show(),this.options.resizeOptions&&y.fn.resizable&&(t===this.element.height()&&this.element.height(t+this.editor.height()),this.element.resizable(y.extend(!0,{alsoResize:this.editor},this.options.resizeOptions))),this.ui.toolbar.find("li").each(function(){var t=y(this);t.hasClass("html")||t.removeClass("disabled")})):(this.saveContent(),y(this.original).css({width:this.element.outerWidth()-6,height:this.element.height()-this.ui.toolbar.height()-10,resize:"none"}).show(),this.editor.hide(),this.options.resizeOptions&&y.fn.resizable&&(t===this.element.height()&&this.element.height(this.ui.toolbar.height()),this.element.resizable("destroy")),this.ui.toolbar.find("li").each(function(){var t=y(this);t.hasClass("html")||!1!==t.hasClass("fullscreen")||t.removeClass("active").addClass("disabled")}));this.viewHTML=!this.viewHTML},tooltip:"View source code"},increaseFontSize:{groupIndex:9,visible:!1,hasState:!1,tags:["big"],tooltip:"Increase font size",exec:function(){this.increaseFontSize()}},indent:{groupIndex:2,hasState:!1,visible:!1,tooltip:"Indent"},insertHorizontalRule:{groupIndex:6,visible:!1,hasState:!1,tags:["hr"],tooltip:"Insert Horizontal Rule"},insertImage:{groupIndex:6,hasState:!1,visible:!0,exec:function(){var t=this;y.wysiwyg.controls&&y.wysiwyg.controls.image?y.wysiwyg.controls.image.init(this):y.wysiwyg.autoload?y.wysiwyg.autoload.control("wysiwyg.image.js",function(){t.controls.insertImage.exec.apply(t)}):s.error("$.wysiwyg.controls.image not defined. You need to include wysiwyg.image.js file")},tags:["img"],tooltip:n("wysiwyg_image","Insert image")},insertOrderedList:{groupIndex:5,visible:!0,tags:["ol"],tooltip:n("wysiwyg_ol","Insert Ordered List")},insertTable:{groupIndex:6,hasState:!1,visible:!1,exec:function(){var t=this;y.wysiwyg.controls&&y.wysiwyg.controls.table?y.wysiwyg.controls.table(this):y.wysiwyg.autoload?y.wysiwyg.autoload.control("wysiwyg.table.js",function(){t.controls.insertTable.exec.apply(t)}):s.error("$.wysiwyg.controls.table not defined. You need to include wysiwyg.table.js file")},tags:["table"],tooltip:"Insert table"},insertUnorderedList:{groupIndex:5,visible:!0,tags:["ul"],tooltip:n("wysiwyg_ul","Insert Unordered List")},italic:{groupIndex:1,visible:!0,tags:["i","em"],css:{fontStyle:"italic"},tooltip:n("wysiwyg_italic","Italic"),hotkey:{ctrl:1,key:73}},justifyCenter:{groupIndex:2,visible:!0,exclusive:!0,tags:["center"],css:{textAlign:"center"},tooltip:n("wysiwyg_justify_center","Justify Center")},justifyFull:{groupIndex:2,visible:!0,exclusive:!0,css:{textAlign:"justify"},tooltip:n("wysiwyg_justify_full","Justify Full")},justifyLeft:{visible:!0,groupIndex:2,exclusive:!0,css:{textAlign:"left"},tooltip:n("wysiwyg_justify_left","Justify Left")},justifyRight:{groupIndex:2,visible:!0,exclusive:!0,css:{textAlign:"right"},tooltip:n("wysiwyg_justify_right","Justify Right")},ltr:{groupIndex:10,visible:!1,exec:function(){var t=this.dom.getElement("p");return!!t&&(y(t).attr("dir","ltr"),!0)},tooltip:"Left to Right"},outdent:{groupIndex:2,visible:!1,tooltip:"Outdent"},paragraph:{groupIndex:7,visible:!1,className:"paragraph",command:"FormatBlock",arguments:C||k?"<p>":"p",tags:["p"],tooltip:"Paragraph"},paste:{groupIndex:0,hasState:!1,visible:!1,tooltip:n("wysiwyg_paste","Paste")},undo:{groupIndex:3,hasState:!1,visible:!0,tooltip:n("wysiwyg_undo","Undo")},redo:{groupIndex:3,hasState:!1,visible:!0,tooltip:n("wysiwyg_redo","Redo")},removeFormat:{groupIndex:10,visible:!0,exec:function(){this.removeFormat()},tooltip:n("wysiwyg_reset","Remove formatting")},rtl:{groupIndex:10,visible:!1,exec:function(){var t=this.dom.getElement("p");return!!t&&(y(t).attr("dir","rtl"),!0)},tooltip:"Right to Left"},strikeThrough:{groupIndex:1,visible:!0,tags:["s","strike"],css:{textDecoration:"line-through"},tooltip:n("wysiwyg_strike","Strike-through")},subscript:{groupIndex:3,visible:!1,tags:["sub"],tooltip:"Subscript"},superscript:{groupIndex:3,visible:!1,tags:["sup"],tooltip:"Superscript"},underline:{groupIndex:1,visible:!0,tags:["u"],css:{textDecoration:"underline"},tooltip:n("wysiwyg_underline","Underline"),hotkey:{ctrl:1,key:85}},code:{visible:!1,groupIndex:6,tooltip:"Code snippet",exec:function(){var t=this.getInternalRange(),e=y(t.commonAncestorContainer),t=t.commonAncestorContainer.nodeName.toLowerCase();e.parent("code").length?e.unwrap():"body"!==t&&e.wrap("<code/>")}},cssWrap:{visible:!1,groupIndex:6,tooltip:"CSS Wrapper",exec:function(){y.wysiwyg.controls.cssWrap.init(this)}}};this.defaults={html:'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" style="margin:0;background-image:none;"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><\/head><body style="margin:0;">INITIAL_CONTENT<\/body><\/html>',debug:!1,controls:{},availableFonts:[],defaultFontFamily:"Tahoma",defaultFontSize:10,css:{},events:{},autoGrow:!1,autoSave:!0,brIE:!1,formHeight:270,formWidth:440,iFrameClass:null,initialContent:"<p>"+n("wysiwyg_default_text","Click here to edit this text!")+"<\/p>",maxHeight:1e4,maxLength:0,messages:{nonSelection:"Select the text you wish to link"},toolbarHtml:'<ul role="menu" class="toolbar"><\/ul>',removeHeadings:!1,replaceDivWithP:!1,resizeOptions:!1,rmUnusedControls:!1,rmUnwantedBr:!0,tableFiller:"Lorem ipsum",initialMinHeight:null,controlImage:{forceRelativeUrls:!1},controlLink:{forceRelativeUrls:!1},plugins:{autoload:!1,i18n:!1,rmFormat:{rmMsWordMarkup:!1}},dialog:"default"};this.availableControlProperties=["arguments","callback","className","command","hasState","exclusive","css","custom","exec","groupIndex","hotkey","icon","tags","tooltip","visible"];this.editor=null;this.editorDoc=null;this.element=null;this.options={};this.original=null;this.savedRange=null;this.timers=[];this.validKeyCodes=[8,9,13,16,17,18,19,20,27,33,34,35,36,37,38,39,40,45,46];this.isDestroyed=!1;this.dom={ie:{parent:null},w3c:{parent:null}};(this.dom.parent=this).dom.ie.parent=this.dom;this.dom.w3c.parent=this.dom;this.ui={};(this.ui.self=this).ui.toolbar=null;var t,e,i=this.ui.initialHeight=null;window.getSelection?(t=function(t){var e=t.getSelection(),i=[],n,o;if(e.rangeCount)for(n=0,o=e.rangeCount;n<o;++n)i.push(e.getRangeAt(n));return i},e=function(t,e){var i=t.getSelection(),n,o;for(i.removeAllRanges(),n=0,o=e.length;n<o;++n)i.addRange(e[n])}):document.selection&&document.selection.createRange&&(t=function(t){return t=t.document.selection,"None"!=t.type?t.createRange():null},e=function(t,e){e&&e.select()});this.saveSelection=function(){i=t(this.editor[0].contentWindow)};this.restoreSelection=function(){i&&e(this.editor[0].contentWindow,i)};this.dom.getAncestor=function(t,e){for(e=e.toLowerCase();t&&void 0!==t.tagName&&"body"!==t.tagName.toLowerCase();){if(e===t.tagName.toLowerCase())return t;t=t.parentNode}if(!t.tagName&&(t.previousSibling||t.nextSibling)){if(t.previousSibling&&t.previousSibling.tagName.toLowerCase()==e)return t.previousSibling;if(t.nextSibling&&t.nextSibling.tagName.toLowerCase()==e)return t.nextSibling}return null};this.dom.getElement=function(t){return t=t.toLowerCase(),(window.getSelection?this.w3c:this.ie).getElement(t)};this.dom.ie.getElement=function(t){var e,i=this.parent,n=i.parent.getInternalSelection(),o=n.createRange();if("Control"===n.type){if(1!==o.length)return null;e=o.item(0)}else e=o.parentElement();return i.getAncestor(e,t)};this.dom.w3c.getElement=function(t){var e,i=this.parent,n=i.parent.getInternalRange();if(!n||!(e=3===(e=n.commonAncestorContainer).nodeType?e.parentNode:e)||!(e=e===n.startContainer?e.childNodes[n.startOffset]:e))return null;if(!e.tagName&&(e.previousSibling||e.nextSibling)){if(e.previousSibling&&e.previousSibling.tagName.toLowerCase()==t)return e.previousSibling;if(e.nextSibling&&e.nextSibling.tagName.toLowerCase()==t)return e.nextSibling}return i.getAncestor(e,t)};this.ui.addHoverClass=function(){y(this).addClass("wysiwyg-button-hover")};this.ui.appendControls=function(){function t(t,e){e.visible&&(s!=e.groupIndex&&a&&(i.appendItemSeparator(),a=!1),s=e.groupIndex,a=!0,e.custom?i.appendItemCustom(t,e):i.appendItem(t,e))}function l(t,e,i){function n(){a&&a.hidePicker();o&&o.remove()}var o=y('<input id="colorPickerInput" style="visibility: hidden; width: 1px; height: 100%;"/>').appendTo(t),a;x.jscolor.dir="images/";a=new x.jscolor.color(document.getElementById("colorPickerInput"),{});"string"==(typeof e).toLowerCase()?a.fromString(e):"object"==(typeof e).toLowerCase()&&a.fromRGB(e.r,e.g,e.b);a.showPicker();setTimeout(function(){y(x.jscolor.picker.box).on("click",function(t){t.stopPropagation()});y("body").add(r.editorDoc).one("click",function(){a&&n()}).one("keydown",function(t){a&&(27==t.keyCode||13==t.keyCode)&&(t.preventDefault(),t.stopPropagation(),n())})},100);i&&y.isFunction(i)&&o.on("change",function(){i(o.val())})}function c(t){return t?0===t.indexOf("#")?t.substring(1):0===t.indexOf("rgb(")?{r:+(t=(t=(t=t.substring(4)).substring(0,t.length-1)).split(","))[0].trim()/255,g:+t[1].trim()/255,b:+t[2].trim()/255}:void 0:"000000"}var i=this,r=this.self,e=r.parseControls(),n=[],o={},a=!1,s=-1,d,u,h,p,f,g,m,v,b,w;for(y.each(e,function(t,e){var i="empty";void 0!==e.groupIndex&&(i=""===e.groupIndex?"empty":e.groupIndex);void 0===o[i]&&(n.push(i),o[i]={});o[i][t]=e}),n.sort(function(t,e){return"number"==typeof t&&typeof t==typeof e?t-e:(t=t.toString(),(e=e.toString())<t?1:t===e?0:-1)}),0<n.length&&(s=n[0]),f=0;f<n.length;f+=1)y.each(o[n[f]],t);if(a&&i.appendItemSeparator(),h=i.appendItemCustom("fontFamily",{event:"change",onControlAppended:function(t){t.parent("ul").find("li.bold").before(t.detach())},exec:function(){d=h.find("select").val();r.editorDoc.execCommand("fontname",!1,d)}}),h.append('<select unselectable="on" id="font-family" style="width:100px;" />').css("text-indent",0).width(100).parent("li").width("auto"),r.options.availableFonts.length)for(p=h.find("select"),f=0;f<r.options.availableFonts.length;f++)p.append('<option value="'+r.options.availableFonts[f]+'">'+r.options.availableFonts[f]+"<\/option>");for(g=i.appendItemCustom("fontSize",{event:"change",onControlAppended:function(t){t.parent("ul").find("li.bold").before(t.detach())},exec:function(){u=g.find("select").val();C||r.editorDoc.execCommand("styleWithCSS",!1,!0);r.editorDoc.execCommand("fontSize",!1,1);C||r.editorDoc.execCommand("styleWithCSS",!1,!1);y(r.editorDoc).find("[style*=small] span, [size=1] span").css("font-size","");y(r.editorDoc).find("[style*=small]").css("font-size",u+"pt");y(r.editorDoc).triggerHandler("mouseup")}}),g.after('<li role="separator" class="separator"><\/li>'),g.append('<select id="font-family" style="width:40px;" />').css("text-indent",0).width(40).parent("li").width("auto"),m=g.find("select"),v=[8,9,10,12,14,16,18,20,22,24,26,28,36,42,48,54,60,66,72],f=0;f<v.length;f++)m.append('<option value="'+v[f]+'">'+v[f]+"<\/option>");b=i.appendItemCustom("colorpicker",{onControlAppended:function(t){t.parent("ul").find("li.underline").after(t.detach())},exec:function(){b.css("text-indent",0);var t=r.getInternalSelection(),e="000000";t.focusNode&&t.focusNode.parentNode&&(e=c(y(t.focusNode.parentNode).css("color")));l(b,e,function(t){C||r.editorDoc.execCommand("styleWithCSS",!1,!0);r.editorDoc.execCommand("foreColor",!1,"#"+t);C||r.editorDoc.execCommand("styleWithCSS",!1,!1)})}});w=i.appendItemCustom("highlight",{onControlAppended:function(t){t.parent("ul").find("li.colorpicker").after(t.detach())},exec:function(){w.css("text-indent",0);var t=r.getInternalSelection(),e="000000";t.focusNode&&t.focusNode.parentNode&&(e=c(y(t.focusNode.parentNode).css("background-color")));l(w,e,function(t){var e=C||k?"backcolor":"hilitecolor";C||r.editorDoc.execCommand("styleWithCSS",!1,!0);r.editorDoc.execCommand(e,!1,"#"+t);C||r.editorDoc.execCommand("styleWithCSS",!1,!1)})}});y(r.element).on("initFrame.wysiwyg",function(){y(r.editorDoc).on("keydown mouseout mouseup",function(){var t;r.editorDoc.queryCommandValue&&(y(r.editorDoc).find("font").each(function(){var t=y(this),e=t.attr("style")||"";t.attr("face")&&(e+="font-family: '"+t.attr("face")+"';");t.attr("color")&&(e+="color: "+t.attr("color")+";");t.attr("size")&&u&&(e+="font-size: "+u+"pt;");t.wrap('<span style="'+e+'" />');t.contents().unwrap()}),!r.options.availableFonts.length||(t=r.getInternalSelection())&&(0<(t=(t=y(t.focusNode)).is("span")?t:t.parent("span")).length?p.val(t.css("font-family").replace(/['"]/g,"")):p.val(r.options.defaultFontFamily)),(t=r.getInternalSelection())&&(0<(t=(t=y(t.focusNode)).is("span")?t:t.parent("span")).length?m.val((parseFloat(t.css("font-size").replace("pt","").replace("px",""))/1.3333).toFixed(0)):m.val(r.options.defaultFontSize)))})})};this.ui.appendItem=function(n,o){var a=this.self,t=o.className||o.command||n||"empty",r=!("hasState"in o)||o.hasState,s="exclusive"in o&&o.exclusive,e=o.tooltip||o.command||n||"";return y('<li role="menuitem" unselectable="on">'+t+"<\/li>").addClass(t).attr("title",e).hover(this.addHoverClass,this.removeHoverClass).on("click",function(t){if(y(this).hasClass("disabled"))return!1;a.triggerControl.apply(a,[n,o]);var e,i=y(t.target);for(e in a.controls)s&&r&&a.controls[e].groupIndex==o.groupIndex&&a.ui.toolbar.find("."+e).removeClass("active"),i.hasClass(e)&&(r&&a.ui.toolbar.find("."+e).toggleClass("active"),a.editorDoc.rememberCommand=!0);return this.blur(),a.ui.returnRange(),a.ui.focus(),!0}).on("selectstart mousedown",function(){return!1}).appendTo(a.ui.toolbar)};this.ui.appendItemCustom=function(t,e){var i=this.self,n=e.tooltip||e.command||t||"";return e.event||(e.event="click"),e.callback&&y(window).on("trigger-"+t+".wysiwyg",e.callback),n=y('<li role="menuitem" unselectable="on" '+(e.icon?"style=\"background: url('"+e.icon+"') no-repeat;\")":"")+"><\/li>").addClass("custom-command-"+t).addClass("wysiwyg-custom-command").addClass(t).attr("title",n).hover(this.addHoverClass,this.removeHoverClass).on(e.event,function(){return!y(this).hasClass("disabled")&&(i.triggerControl.apply(i,[t,e]),C||(this.blur(),i.ui.returnRange(),i.ui.focus()),i.triggerControlCallback(t),!0)}).appendTo(i.ui.toolbar),e.onControlAppended&&y.isFunction(e.onControlAppended)&&e.onControlAppended(n),n};this.ui.appendItemSeparator=function(){var t=this.self;return y('<li role="separator" class="separator"><\/li>').appendTo(t.ui.toolbar)};this.autoSaveFunction=function(){this.saveContent()};this.ui.checkTargets=function(s){var l=this.self;y.each(l.options.controls,function(t,e){var i,n,o,a,r=e.className||e.command||t||"empty";if("fullscreen"!==r&&l.ui.toolbar.find("."+r).removeClass("active"),e.tags||e.options&&e.options.tags)for(i=e.tags||e.options&&e.options.tags,n=s;n&&1===n.nodeType;)-1!==y.inArray(n.tagName.toLowerCase(),i)&&l.ui.toolbar.find("."+r).addClass("active"),n=n.parentNode;if(e.css||e.options&&e.options.css)for(o=e.css||e.options&&e.options.css,a=y(s);a&&1===a[0].nodeType;)!function(t){var i=0,n=0;y.each(t,function(t,e){"function"==typeof e?e.apply(l,[a.css(t).toString().toLowerCase(),l])&&(i+=1):a.css(t).toString().toLowerCase()===e&&(i+=1);n+=1});n===i&&l.ui.toolbar.find("."+r).addClass("active")}(o),a=a.parent()})};this.ui.designMode=function(){var e=this.self,i=function(t){if("on"===e.editorDoc.designMode)return e.timers.designMode&&window.clearTimeout(e.timers.designMode),void(e.innerDocument()!==e.editorDoc&&e.ui.initFrame());try{e.editorDoc.designMode="on"}catch(t){}0<--t&&(e.timers.designMode=window.setTimeout(function(){i(t)},100))};i(3)};this.destroy=function(){this.isDestroyed=!0;for(var t=this.element.closest("form"),e=0;e<this.timers.length;e+=1)window.clearTimeout(this.timers[e]);return t.off(".wysiwyg"),this.element.remove(),y.removeData(this.original,"wysiwyg"),y(this.original).show(),this};this.getRangeText=function(){var t=this.getInternalRange();if(t)return t.toString?t=t.toString():t.text&&(t=t.text),t};this.execute=function(t,e){this.editorDoc.execCommand(t,!1,e=void 0===e?null:e)};this.extendOptions=function(e){var i={};return"object"==typeof e.controls&&(i=e.controls,delete e.controls),(e=y.extend(!0,{},this.defaults,e)).controls=y.extend(!0,{},i,this.controls,i),e.rmUnusedControls&&y.each(e.controls,function(t){i[t]||delete e.controls[t]}),e};this.ui.focus=function(){var t=this.self;return t.editor.get(0).contentWindow.focus(),t};this.ui.returnRange=function(){var t,e=this.self;if(null!==e.savedRange){if(window.getSelection){0<(t=window.getSelection()).rangeCount&&t.removeAllRanges();try{t.addRange(e.savedRange)}catch(t){s.error(t)}}else window.document.createRange?window.getSelection().addRange(e.savedRange):window.document.selection&&e.savedRange.select();e.savedRange=null}};this.increaseFontSize=function(){var t,e,i,n,o;a||l?this.editorDoc.execCommand("increaseFontSize",!1,null):k?(t=this.getInternalRange(),e=this.getInternalSelection(),i=this.editorDoc.createElement("big"),!0===t.collapsed&&3===t.commonAncestorContainer.nodeType?(n=(o=t.commonAncestorContainer.nodeValue.toString()).lastIndexOf(" ",t.startOffset)+1,o=-1===o.indexOf(" ",t.startOffset)?o:o.indexOf(" ",t.startOffset),t.setStart(t.commonAncestorContainer,n),t.setEnd(t.commonAncestorContainer,o),t.surroundContents(i)):(t.surroundContents(i),e.removeAllRanges()),e.addRange(t)):s.error("Internet Explorer?")};this.decreaseFontSize=function(){var t,e,i,n,o;a||l?this.editorDoc.execCommand("decreaseFontSize",!1,null):k?(t=this.getInternalRange(),e=this.getInternalSelection(),i=this.editorDoc.createElement("small"),!0===t.collapsed&&3===t.commonAncestorContainer.nodeType?(n=(o=t.commonAncestorContainer.nodeValue.toString()).lastIndexOf(" ",t.startOffset)+1,o=-1===o.indexOf(" ",t.startOffset)?o:o.indexOf(" ",t.startOffset),t.setStart(t.commonAncestorContainer,n),t.setEnd(t.commonAncestorContainer,o),t.surroundContents(i)):(t.surroundContents(i),e.removeAllRanges()),e.addRange(t)):s.error("Internet Explorer?")};this.getContent=function(){return this.viewHTML&&this.setContent(this.original.value),this.events.filter("getContent",this.editorDoc.body.innerHTML)};this.events={_events:{},bind:function(t,e){"object"!=typeof this._events.eventName&&(this._events[t]=[]);this._events[t].push(e)},trigger:function(t,i){var n;"object"==typeof this._events.eventName&&(n=this.editor,y.each(this._events[t],function(t,e){"function"==typeof e&&e.apply(n,i)}))},filter:function(t,i){var n,o;return"object"==typeof this._events[t]&&(n=this.editor,o=Array.prototype.slice.call(arguments,1),y.each(this._events[t],function(t,e){"function"==typeof e&&(i=e.apply(n,o))})),i}};this.getElementByAttributeValue=function(t,e,i){for(var n,o=this.editorDoc.getElementsByTagName(t),a=0;a<o.length;a+=1)if(n=o[a].getAttribute(e),(n=C?n.substr(n.length-i.length):n)===i)return o[a];return!1};this.getInternalRange=function(){var t=this.getInternalSelection();return t?t.rangeCount&&0<t.rangeCount?t.getRangeAt(0):t.createRange?t.createRange():null:null};this.getInternalSelection=function(){if(this.editor.get(0).contentWindow){if(this.editor.get(0).contentWindow.getSelection)return this.editor.get(0).contentWindow.getSelection();if(this.editor.get(0).contentWindow.selection)return this.editor.get(0).contentWindow.selection}return this.editorDoc.getSelection?this.editorDoc.getSelection():this.editorDoc.selection||null};this.getRange=function(){var t=this.getSelection();if(!t)return null;if(t.rangeCount&&0<t.rangeCount)t.getRangeAt(0);else if(t.createRange)return t.createRange();return null};this.getSelection=function(){return window.getSelection?window.getSelection():window.document.selection};this.ui.grow=function(){var t=this.self,e=y(t.editorDoc.body),i=C?e[0].scrollHeight:e.height()+2+20,n=t.ui.initialHeight,n=Math.max(i,n),n=Math.min(n,t.options.maxHeight);return t.editor.attr("scrolling",n<t.options.maxHeight?"no":"auto"),e.css("overflow",n<t.options.maxHeight?"hidden":""),t.editor.get(0).height=n,t};this.init=function(t,e){var i=this,n=y(t).closest("form"),o=t.width||t.clientWidth||0,a=t.height||t.clientHeight||0;this.options=this.extendOptions(e);this.original=t;this.ui.toolbar=y(this.options.toolbarHtml);0===o&&t.cols&&t.cols;0===a&&t.rows&&(a=16*t.rows+16);this.editor=y("https:"===window.location.protocol?'<iframe src="javascript:false;"><\/iframe>':"<iframe><\/iframe>").attr("frameborder","0");this.options.iFrameClass?this.editor.addClass(this.options.iFrameClass):this.editor.css({minHeight:(a-6).toString()+"px"});t.id&&(a=t.id+"-wysiwyg-iframe",document.getElementById(a)||this.editor.attr("id",a));this.editor.attr("tabindex",y(t).attr("tabindex"));this.element=y("<div/>").addClass("wysiwyg");y(t).hide().before(this.element);this.viewHTML=!1;this.initialContent=y(t).val();this.ui.initFrame();this.options.resizeOptions&&y.fn.resizable&&this.element.resizable(y.extend(!0,{alsoResize:this.editor},this.options.resizeOptions));this.options.autoSave&&n.on("submit.wysiwyg",function(){i.autoSaveFunction()});n.on("reset.wysiwyg",function(){i.resetFunction()})};this.ui.initFrame=function(){function n(t){if(C)try{e=r.editorDoc.createStyleSheet(t);y(e).attr({media:"all"})}catch(t){}else e=y("<link/>").attr({href:t,media:"all",rel:"stylesheet"}),y(r.editorDoc).find("head").append(e)}var e,t,i,r=this.self,o,a;if(r.ui.appendControls(),r.element.append(r.ui.toolbar).append(y("<div><!-- --><\/div>").css({clear:"both"})).append(r.editor),r.editorDoc=r.innerDocument(),r.isDestroyed)return null;if(r.ui.designMode(),r.editorDoc.open(),r.editorDoc.write(r.options.html.replace(/INITIAL_CONTENT/,function(){return r.wrapInitialContent()})),r.editorDoc.close(),y.wysiwyg.plugin.bind(r),y(r.editorDoc).add(r.element).trigger("initFrame.wysiwyg"),y(r.editorDoc).on("click.wysiwyg",function(t){r.ui.checkTargets(t.target||t.srcElement)}),setInterval(function(){var t=null,e;try{e=r.getInternalRange();e&&(t={range:e,parent:"endContainer"in e?e.endContainer.parentNode:e.parentElement(),width:("startOffset"in e?e.startOffset-e.endOffset:e.boundingWidth)||0})}catch(t){s.error(t)}t&&0===t.width&&!r.editorDoc.rememberCommand&&r.ui.checkTargets(t.parent)},400),y(r.original).focus(function(){0===y(this).filter(":visible").length||l||r.ui.focus()}),y(r.editorDoc).keydown(function(t){return 8===t.keyCode&&/^<([\w]+)[^>]*>(<br\/?>)?<\/\1>$/.test(r.getContent())?(t.stopPropagation(),!1):!(r.editorDoc.rememberCommand=!1)}),C||y(r.editorDoc).keydown(function(t){var e,i;if(t.ctrlKey||t.metaKey)for(e in r.options.controls)if((i=r.options.controls[e]).hotkey&&i.hotkey.ctrl&&t.keyCode===i.hotkey.key)return r.triggerControl.apply(r,[e,i]),!1;return!0}),r.options.brIE&&y(r.editorDoc).keydown(function(t){var e,i,n,o,a;if(13!==t.keyCode)return!0;if(C||l)e=r.getRange(),e?(e.pasteHTML("<br/>"),e.collapse(!1),e.select()):r.insertHtml("<br/>");else{if((t=r.editorDoc.getSelection(),!(t&&t.getRangeAt&&t.rangeCount))||(e=t.getRangeAt(0),!e))return!0;for(e.deleteContents(),i=document.createElement("div"),i.innerHTML="<br/>",a=document.createDocumentFragment();n=i.firstChild;)o=a.appendChild(n);e.insertNode(a);o&&((e=e.cloneRange()).setStartAfter(o),e.collapse(!0),t.removeAllRanges(),t.addRange(e))}return!1}),r.options.plugins.rmFormat.rmMsWordMarkup&&y(r.editorDoc).on("keyup.wysiwyg",function(t){(t.ctrlKey||t.metaKey)&&86===t.keyCode&&y.wysiwyg.rmFormat&&("object"==typeof r.options.plugins.rmFormat.rmMsWordMarkup?y.wysiwyg.rmFormat.run(r,{rules:{msWordMarkup:r.options.plugins.rmFormat.rmMsWordMarkup}}):y.wysiwyg.rmFormat.run(r,{rules:{msWordMarkup:{enabled:!0}}}))}),r.options.autoSave&&y(r.editorDoc).keydown(function(){r.autoSaveFunction()}).keyup(function(){r.autoSaveFunction()}).mousedown(function(){r.autoSaveFunction()}).on(y.support.noCloneEvent?"input.wysiwyg":"paste.wysiwyg",function(){r.autoSaveFunction()}),r.options.autoGrow?(r.ui.initialHeight=null!==r.options.initialMinHeight?r.options.initialMinHeight:y(r.editorDoc).height(),y(r.editorDoc.body).css("border","1px solid white"),t=function(){r.ui.grow()},y(r.editorDoc).keyup(t),y(r.editorDoc).on("editorRefresh.wysiwyg",t),r.ui.grow()):(i=y(r.editor).parents(".dynamicText").parent(),i=y(r.editor).height()-(i.find(".toolbar").outerHeight(!0)-21),y(r.editor).css("min-height",i+"px").height(i)),r.options.css)if(String===r.options.css.constructor)n(r.options.css);else if("[object Array]"===Object.prototype.toString.call(r.options.css))for(a=0;a<r.options.css.length;a++)n(r.options.css[a]);else r.timers.initFrame_Css=window.setTimeout(function(){y(r.editorDoc.body).css(r.options.css)},0);0===r.initialContent.length&&("function"==typeof r.options.initialContent?r.setContent(r.options.initialContent()):r.setContent(r.options.initialContent));0<r.options.maxLength&&y(r.editorDoc).keydown(function(t){y(r.editorDoc).text().length>=r.options.maxLength&&-1===y.inArray(t.which,r.validKeyCodes)&&t.preventDefault()});y.each(r.options.events,function(t,e){y(r.editorDoc).on(t+".wysiwyg",function(t){e.apply(r.editorDoc,[t,r])})});C?y(r.editorDoc).on("beforedeactivate.wysiwyg",function(){r.savedRange=r.getInternalRange()}):y(r.editorDoc).on("blur.wysiwyg",function(){r.savedRange=r.getInternalRange()});y(r.editorDoc.body).addClass("wysiwyg");r.options.events&&r.options.events.save&&(i=r.options.events.save,y(r.editorDoc).on("keyup.wysiwyg",i),y(r.editorDoc).on("change.wysiwyg",i),y.support.noCloneEvent?y(r.editorDoc).on("input.wysiwyg",i):(y(r.editorDoc).on("paste.wysiwyg",i),y(r.editorDoc).on("cut.wysiwyg",i)));r.options.xhtml5&&r.options.unicode&&(o={ne:8800,le:8804,para:182,xi:958,darr:8595,nu:957,oacute:243,Uacute:218,omega:969,prime:8242,pound:163,igrave:236,thorn:254,forall:8704,emsp:8195,lowast:8727,brvbar:166,alefsym:8501,nbsp:160,delta:948,clubs:9827,lArr:8656,Omega:937,Auml:196,cedil:184,and:8743,plusmn:177,ge:8805,raquo:187,uml:168,equiv:8801,laquo:171,rdquo:8221,Epsilon:917,divide:247,fnof:402,chi:967,Dagger:8225,iacute:237,rceil:8969,sigma:963,Oslash:216,acute:180,frac34:190,lrm:8206,upsih:978,Scaron:352,part:8706,exist:8707,nabla:8711,image:8465,prop:8733,zwj:8205,omicron:959,aacute:225,Yuml:376,Yacute:221,weierp:8472,rsquo:8217,otimes:8855,kappa:954,thetasym:977,harr:8596,Ouml:214,Iota:921,ograve:242,sdot:8901,copy:169,oplus:8853,acirc:226,sup:8835,zeta:950,Iacute:205,Oacute:211,crarr:8629,Nu:925,bdquo:8222,lsquo:8216,apos:39,Beta:914,eacute:233,egrave:232,lceil:8968,Kappa:922,piv:982,Ccedil:199,ldquo:8220,Xi:926,cent:162,uarr:8593,hellip:8230,Aacute:193,ensp:8194,sect:167,Ugrave:217,aelig:230,ordf:170,curren:164,sbquo:8218,macr:175,Phi:934,Eta:919,rho:961,Omicron:927,sup2:178,euro:8364,aring:229,Theta:920,mdash:8212,uuml:252,otilde:245,eta:951,uacute:250,rArr:8658,nsub:8836,agrave:224,notin:8713,ndash:8211,Psi:936,Ocirc:212,sube:8838,szlig:223,micro:181,not:172,sup1:185,middot:183,iota:953,ecirc:234,lsaquo:8249,thinsp:8201,sum:8721,ntilde:241,scaron:353,cap:8745,atilde:227,lang:10216,__replacement:65533,isin:8712,gamma:947,Euml:203,ang:8736,upsilon:965,Ntilde:209,hearts:9829,Alpha:913,Tau:932,spades:9824,dagger:8224,THORN:222,int:8747,lambda:955,Eacute:201,Uuml:220,infin:8734,rlm:8207,Aring:197,ugrave:249,Egrave:200,Acirc:194,rsaquo:8250,ETH:208,oslash:248,alpha:945,Ograve:210,Prime:8243,mu:956,ni:8715,real:8476,bull:8226,beta:946,icirc:238,eth:240,prod:8719,larr:8592,ordm:186,perp:8869,Gamma:915,reg:174,ucirc:251,Pi:928,psi:968,tilde:732,asymp:8776,zwnj:8204,Agrave:192,deg:176,AElig:198,times:215,Delta:916,sim:8764,Otilde:213,Mu:924,uArr:8657,circ:710,theta:952,Rho:929,sup3:179,diams:9830,tau:964,Chi:935,frac14:188,oelig:339,shy:173,or:8744,dArr:8659,phi:966,iuml:239,Lambda:923,rfloor:8971,iexcl:161,cong:8773,ccedil:231,Icirc:206,frac12:189,loz:9674,rarr:8594,cup:8746,radic:8730,frasl:8260,euml:235,OElig:338,hArr:8660,Atilde:195,Upsilon:933,there4:8756,ouml:246,oline:8254,Ecirc:202,yacute:253,auml:228,permil:8240,sigmaf:962,iquest:191,empty:8709,pi:960,Ucirc:219,supe:8839,Igrave:204,yen:165,rang:10217,trade:8482,lfloor:8970,minus:8722,Zeta:918,sub:8834,epsilon:949,yuml:255,Sigma:931,Iuml:207,ocirc:244},r.events.on("getContent",function(t){return t.replace(/&(?:amp;)?(?!amp|lt|gt|quot)([a-z][a-z0-9]*);/gi,function(t,e){return o[e]||(e=e.toLowerCase(),o[e]||(e="__replacement")),String.fromCharCode(o[e])})}));y(r.original).trigger("ready.jwysiwyg",[r.editorDoc,r])};this.innerDocument=function(){var t=this.editor.get(0);if("iframe"===t.nodeName.toLowerCase()){if(t.contentDocument)return t.contentDocument;if(t.contentWindow)return t.contentWindow.document;if(this.isDestroyed)return null;s.error("Unexpected error in innerDocument")}return t};this.insertHtml=function(t){var e;return t&&0!==t.length&&(C?(this.ui.focus(),this.editorDoc.execCommand("insertImage",!1,"http://images.com/image.jpg"),(e=this.getElementByAttributeValue("img","src","http://images.com/image.jpg"))&&y(e).replaceWith(t)):a?1===y(t).length?((e=this.getInternalRange()).deleteContents(),e.insertNode(y(t).get(0))):this.editorDoc.execCommand("insertHTML",!1,t):this.editorDoc.execCommand("insertHTML",!1,t)||(this.editor.focus(),this.editorDoc.execCommand("insertHTML",!1,t)),this.saveContent()),this};this.parseControls=function(){var i=this;return y.each(this.options.controls,function(e,t){y.each(t,function(t){if(-1===y.inArray(t,i.availableControlProperties))throw e+'["'+t+'"]: property "'+t+'" not exists in Wysiwyg.availableControlProperties';})}),this.options.parseControls?this.options.parseControls.call(this):this.options.controls};this.removeFormat=function(){return C&&this.ui.focus(),this.options.removeHeadings&&this.editorDoc.execCommand("formatBlock",!1,"<p>"),this.editorDoc.execCommand("removeFormat",!1,null),this.editorDoc.execCommand("unlink",!1,null),y.wysiwyg.rmFormat&&y.wysiwyg.rmFormat.enabled&&("object"==typeof this.options.plugins.rmFormat.rmMsWordMarkup?y.wysiwyg.rmFormat.run(this,{rules:{msWordMarkup:this.options.plugins.rmFormat.rmMsWordMarkup}}):y.wysiwyg.rmFormat.run(this,{rules:{msWordMarkup:{enabled:!0}}})),this};this.ui.removeHoverClass=function(){y(this).removeClass("wysiwyg-button-hover")};this.resetFunction=function(){this.setContent(this.initialContent)};this.saveContent=function(){var t,e;if(!this.viewHTML)return this.original&&(e=this.getContent(),this.options.rmUnwantedBr&&(e=e.replace(/<br\/?>$/,"")),this.options.replaceDivWithP&&((t=y("<div/>").addClass("temp").append(e)).children("div").each(function(){var t,e=y(this),i=e.find("p");if(0===i.length){if(i=y("<p><\/p>"),0<this.attributes.length)for(t=0;t<this.attributes.length;t+=1)i.attr(this.attributes[t].name,e.attr(this.attributes[t].name));i.append(e.html());e.replaceWith(i)}}),e=t.html()),y(this.original).val(e).change(),this.options.events&&this.options.events.save&&this.options.events.save.call(this)),this};this.setContent=function(t){return this.editorDoc.body.innerHTML=t,this.saveContent(),this};this.triggerControl=function(t,e){var i=e.command||t,t=e.arguments||[];if(e.exec)e.exec.apply(this);else{this.ui.focus();this.ui.withoutCss();try{this.editorDoc.execCommand(i,!1,t)}catch(t){s.error(t)}}this.options.autoSave&&this.autoSaveFunction()};this.triggerControlCallback=function(t){y(window).trigger("trigger-"+t+".wysiwyg",[this])};this.ui.withoutCss=function(){var e=this.self;if(a)try{e.editorDoc.execCommand("styleWithCSS",!1,!1)}catch(t){try{e.editorDoc.execCommand("useCSS",!1,!0)}catch(t){}}return e};this.wrapInitialContent=function(){return this.initialContent}}y.extend(x,{cms:{initialize:function(e,i){var t=y(e);i=y.extend({autoGrow:!1,css:"style/style.css",imageuploadurl:"res/imageupload.php"},i);t.css("cursor","pointer").one("click",function(t){y(t.target).is("a")||x.cms.edit(e,i)}).hover(function(){t.css({border:"1px dashed gray",overflow:x.utils.imHasScrollBar(t)?"auto":"hidden"}).width(t.width()-2).height(t.height()-2)},function(){t.css({border:"none",overflow:"auto"}).width("auto").height(i.autoGrow?"auto":t.height()+2)})},edit:function(t,e){var i=y(t),n=i.find("form"),o=i.find(".dynamicText"),t=i.find(".staticText"),a=o.find("textarea");i.css({border:"none",cursor:"auto",overflow:""}).off("mouseenter mouseleave");e.autoGrow&&(i.height("auto"),a.height(Math.max(i.height(),200)));t.hide(0);o.show(0);e.autoGrow=!1;a.html(a.html().replace(/imCssLink/g,""));n.one("submit",function(t){t.preventDefault();t=a.wysiwyg("getContent");t=y("<div />").html(t);t.find("a").addClass("imCssLink");a.after('<textarea name="'+a.attr("name")+'" style="display:none;">'+t.html()+"<\/textarea>");a.attr("name","donotuse");n.submit()});e.autoGrow||i.on("ready.jwysiwyg",function(){var t=i.find(".wysiwyg").find(".toolbar").outerHeight();t+=i.find(".wysiwyg-buttons").outerHeight();t+=+i.find(".wysiwyg").css("margin-bottom").replace(/px/g,"");t+=2;i.find(".wysiwyg").find("iframe").height(i.height()-t);i.css("width","100%")});a.wysiwyg(e)}}});var s=window.console||{log:y.noop,error:function(t){y.error(t)}},t="prop"in y.fn&&"removeProp"in y.fn,n=x.l10n.get,C=/MSIE/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)||/MSHTML/i.test(navigator.userAgent),l=/opera/i.test(navigator.userAgent),a=/firefox/i.test(navigator.userAgent),k=/safari/i.test(navigator.userAgent)&&!/chrome/i.test(navigator.userAgent);y.wysiwyg={messages:{noObject:"Something goes wrong, check object"},addControl:function(t,i,n){return t.each(function(){var t=y(this).data("wysiwyg"),e={};if(!t)return this;e[i]=y.extend(!0,{visible:!0,custom:!0},n);y.extend(!0,t.options.controls,e);e=y(t.options.toolbarHtml);t.ui.toolbar.replaceWith(e);t.ui.toolbar=e;t.ui.appendControls()})},clear:function(t){return t.each(function(){var t=y(this).data("wysiwyg");if(!t)return this;t.setContent("")})},console:s,destroy:function(t){return t.each(function(){var t=y(this).data("wysiwyg");if(!t)return this;t.destroy()})},document:function(t){return t=t.data("wysiwyg"),t?y(t.editorDoc):void 0},focus:function(t){var e=t.data("wysiwyg");if(e)return e.ui.focus(),t},getContent:function(t){return t=t.data("wysiwyg"),t?t.getContent():void 0},getSelection:function(t){return t=t.data("wysiwyg"),t?t.getRangeText():void 0},init:function(t,i){return t.each(function(){var t,e=y.extend(!0,{},i);"textarea"!==this.nodeName.toLowerCase()||y(this).data("wysiwyg")||((t=new o).init(this,e),y.data(this,"wysiwyg",t),y(t.editorDoc).trigger("afterInit.wysiwyg"))})},insertHtml:function(t,e){return t.each(function(){var t=y(this).data("wysiwyg");if(!t)return this;t.insertHtml(e)})},plugin:{listeners:{},bind:function(o){var a=this;y.each(this.listeners,function(t,e){for(var i,n=0;n<e.length;n+=1)i=a.parseName(e[n]),y(o.editorDoc).on(t+".wysiwyg",{plugin:i},function(t){y.wysiwyg[t.data.plugin.name][t.data.plugin.method].apply(y.wysiwyg[t.data.plugin.name],[o])})})},exists:function(t){return"string"==typeof t&&(t=this.parseName(t),!(!y.wysiwyg[t.name]||!y.wysiwyg[t.name][t.method]))},listen:function(t,e){var i=this.parseName(e);return!(!y.wysiwyg[i.name]||!y.wysiwyg[i.name][i.method])&&(this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e),!0)},parseName:function(t){return"string"==typeof t&&!((t=t.split(".")).length<2)&&{name:t[0],method:t[1]}},register:function(e){return e.name||s.error("Plugin name missing"),y.each(y.wysiwyg,function(t){t===e.name&&s.error("Plugin with name '"+e.name+"' was already registered")}),y.wysiwyg[e.name]=e,!0}},removeFormat:function(t){return t.each(function(){var t=y(this).data("wysiwyg");if(!t)return this;t.removeFormat()})},save:function(t){return t.each(function(){var t=y(this).data("wysiwyg");if(!t)return this;t.saveContent()})},selectAll:function(t){var e=t.data("wysiwyg");if(!e)return this;t=e.editorDoc.body;window.getSelection?e.getInternalSelection().selectAllChildren(t):((e=t.createTextRange()).moveToElementText(t),e.select())},setContent:function(t,e){return t.each(function(){var t=y(this).data("wysiwyg");if(!t)return this;t.setContent(e)})},triggerControl:function(t,e){return t.each(function(){var t=y(this).data("wysiwyg");if(!t)return this;t.controls[e]||s.error("Control '"+e+"' not exists");t.triggerControl.apply(t,[e,t.controls[e]])})},support:{prop:t},utils:{extraSafeEntities:[["<",">","'",'"'," "],[32]],encodeEntities:function(t){var i,n=this,o=[];return 0===this.extraSafeEntities[1].length&&y.each(this.extraSafeEntities[0],function(t,e){n.extraSafeEntities[1].push(e.charCodeAt(0))}),i=t.split(""),y.each(i,function(t){var e=i[t].charCodeAt(0);y.inArray(e,n.extraSafeEntities[1])&&(e<65||127<e||90<e&&e<97)?o.push("&#"+e+";"):o.push(i[t])}),o.join("")}}};y.wysiwyg.dialog=function(e,t){var i=e&&e.options&&e.options.dialog?e.options.dialog:t.theme||"default",n=new y.wysiwyg.dialog.createDialog(i),o=this,a=y(o);return this.options={modal:!0,draggable:!0,title:"Title",content:"Content",width:"auto",height:"auto",zIndex:x.settings.zIndex.popup,open:!1,close:!1},this.isOpen=!1,y.extend(this.options,t),this.object=n,this.open=function(){this.isOpen=!0;n.init.apply(o,[]);var t=n.show.apply(o,[]);a.trigger("afterOpen",[t])},this.show=function(){this.isOpen=!0;a.trigger("beforeShow");n.show.apply(o,[]);a.trigger("afterShow")},this.hide=function(){this.isOpen=!1;a.trigger("beforeHide");var t=n.hide.apply(o,[]);a.trigger("afterHide",[t])},this.close=function(){this.isOpen=!1;var t=n.hide.apply(o,[]);a.trigger("beforeClose",[t]);n.destroy.apply(o,[]);a.trigger("afterClose",[t]);e.ui.focus()},this.options.open&&a.on("afterOpen",this.options.open),this.options.close&&a.on("afterClose",this.options.close),this};y.extend(!0,y.wysiwyg.dialog,{_themes:{},_theme:"",register:function(t,e){y.wysiwyg.dialog._themes[t]=e},deregister:function(t){delete y.wysiwyg.dialog._themes[t]},createDialog:function(t){return new y.wysiwyg.dialog._themes[t]},getDimensions:function(){var t=document.body.scrollWidth,e=document.body.scrollHeight;return[t,e=l?Math.max(y(document).height(),y(window).height(),document.documentElement.clientHeight):e]}});y(function(){y.ui&&y.wysiwyg.dialog.register("jqueryui",function(){var i=this;this._$dialog=null;this.init=function(){var t=this.options.content,e;return"object"==typeof t&&("function"==typeof t.html?t=t.html():"function"==typeof t.toString&&(t=t.toString())),i._$dialog=y("<div><\/div>").attr("title",this.options.title).html(t),e="auto"==this.options.height?300:this.options.height,t="auto"==this.options.width?450:this.options.width,i._$dialog.dialog({modal:this.options.modal,draggable:this.options.draggable,height:e,width:t}),i._$dialog};this.show=function(){return i._$dialog.dialog("open"),i._$dialog};this.hide=function(){return i._$dialog.dialog("close"),i._$dialog};this.destroy=function(){return i._$dialog.dialog("destroy"),i._$dialog}});y.wysiwyg.dialog.register("default",function(){var o=this;this._$dialog=null;this.init=function(){var t=this,e=this.options.content,i,n;return"object"==typeof e&&("function"==typeof e.html?e=e.html():"function"==typeof e.toString&&(e=e.toString())),o._$dialog=y('<div class="wysiwyg-dialog"><\/div>').css({"z-index":this.options.zIndex}),i=y('<div class="wysiwyg-dialog-topbar"><div class="wysiwyg-dialog-close-wrapper"><\/div><div class="wysiwyg-dialog-title">'+this.options.title+"<\/div><\/div>"),n=y('<a href="#" class="wysiwyg-dialog-close-button">X<\/a>'),n.click(function(){t.close()}),i.find(".wysiwyg-dialog-close-wrapper").prepend(n),e=y('<div class="wysiwyg-dialog-content">'+e+"<\/div>"),o._$dialog.append(i).append(e),i="auto"==this.options.height?300:this.options.height,e="auto"==this.options.width?450:this.options.width,o._$dialog.hide().css({width:e,height:i,left:(y(window).width()-e)/2,top:(y(window).height()-i)/3}),y("body").append(o._$dialog),o._$dialog};this.show=function(){var t,a;return this.options.modal&&(t=y.wysiwyg.dialog.getDimensions(),t=y('<div class="wysiwyg-dialog-modal-div"><\/div>').css({width:t[0],height:t[1]}),o._$dialog.wrap(t)),this.options.draggable&&(a=!1,o._$dialog.find("div.wysiwyg-dialog-topbar").on("mousedown",function(t){t.preventDefault();y(this).css({cursor:"move"});var e=y(this),i=y(this).parents(".wysiwyg-dialog"),n=t.pageX-parseInt(i.css("left"),10),o=t.pageY-parseInt(i.css("top"),10);a=!0;y(this).css({cursor:"move"});y(document).on("mousemove",function(t){t.preventDefault();a&&i.css({top:t.pageY-o,left:t.pageX-n})}).on("mouseup",function(t){t.preventDefault();a=!1;e.css({cursor:"auto"});y(document).off("mousemove").off("mouseup")})})),o._$dialog.show(),o._$dialog};this.hide=function(){return o._$dialog.hide(),o._$dialog};this.destroy=function(){return this.options.modal&&o._$dialog.unwrap(),this.options.draggable&&o._$dialog.find("div.wysiwyg-dialog-topbar").off("mousedown"),o._$dialog.remove(),o._$dialog}})});y.fn.wysiwyg=function(t){var e,i=arguments;return void 0!==y.wysiwyg[t]?(i=Array.prototype.concat.call([i[0]],[this],Array.prototype.slice.call(i,1)),y.wysiwyg[t].apply(y.wysiwyg,Array.prototype.slice.call(i,1))):"object"!=typeof t&&t?y.wysiwyg.plugin.exists(t)?(e=y.wysiwyg.plugin.parseName(t),i=Array.prototype.concat.call([i[0]],[this],Array.prototype.slice.call(i,1)),y.wysiwyg[e.name][e.method].apply(y.wysiwyg[e.name],Array.prototype.slice.call(i,1))):void s.error("Method '"+t+"' does not exist on jQuery.wysiwyg.\nTry to include some extra controls or plugins"):(Array.prototype.unshift.call(i,this),y.wysiwyg.init.apply(y.wysiwyg,i))};y.fn.getWysiwyg=function(){return this.data("wysiwyg")}}(_jq,x5engine),function(u){"use strict";if(void 0===u.wysiwyg)throw"wysiwyg.link.js depends on $.wysiwyg";u.wysiwyg.controls||(u.wysiwyg.controls={});var h=x5engine.l10n.get,p=/MSIE/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)||/MSHTML/i.test(navigator.userAgent);/opera/i.test(navigator.userAgent);/firefox/i.test(navigator.userAgent);/safari/i.test(navigator.userAgent)&&/chrome/i.test(navigator.userAgent);u.wysiwyg.controls.link={init:function(o){var t,a,r,e,i,n,s,l=x5engine.utils.trim,c={legend:l(h("wysiwyg_add_link","Insert Link")," :"),url:"URL",title:l(h("wysiwyg_image_title","Title")," :"),target:"Target",submit:l(h("wysiwyg_add_link","Insert Link")," :"),reset:l(h("dynamicobj_cancel","Cancel")," :")},d='<form class="wysiwyg"><fieldset><div class="form-row"><label for="linkhref">{url}:<\/label><div class="form-row-value"><input type="text" name="linkhref" value=""/><\/div><\/div><div class="form-row"><label for="linkhref">{title}:<\/label><div class="form-row-value"><input type="text" name="linktitle" value=""/><\/div><\/div><div class="form-row"><label for="linkhref">{target}:<\/label><div class="form-row-value"><input type="text" name="linktarget" value=""/><\/div><\/div><div class="form-row" style="text-align: center;"><input type="submit" class="button" value="{submit}"/> <input type="reset" value="{reset}"/><\/fieldset><\/form><\/div>';for(e in c)u.wysiwyg.i18n&&((i=u.wysiwyg.i18n.t(c[e],"dialogs.link"))===c[e]&&(i=u.wysiwyg.i18n.t(c[e],"dialogs")),c[e]=i),i=new RegExp("{"+e+"}","g"),d=d.replace(i,c[e]);(a={self:o.dom.getElement("a"),href:"http://",title:"",target:""}).self&&(a.href=a.self.href||a.href,a.title=a.self.title||"",a.target=a.self.target||"");u.wysiwyg.dialog?(s=new u.wysiwyg.dialog(o,{title:c.legend,content:d}),p&&o.saveSelection(),u(s).on("afterOpen",function(){var i=u("form.wysiwyg");i.find("input[name=linkhref]").val(a.href);i.find("input[name=linktitle]").val(a.title);i.find("input[name=linktarget]").val(a.target);i.find("[type=submit]").click(function(t){p&&o.restoreSelection();t.preventDefault();var e,i=u('form.wysiwyg input[name="linkhref"]').val(),n=u('form.wysiwyg input[name="linktitle"]').val(),t=u('form.wysiwyg input[name="linktarget"]').val();return o.options.controlLink.forceRelativeUrls&&(e=window.location.protocol+"//"+window.location.hostname,0===i.indexOf(e)&&(i=i.substr(e.length))),a.self?"string"==typeof i&&(0<i.length?u(a.self).attr("href",i).attr("title",n).attr("target",t):u(a.self).replaceWith(a.self.innerHTML)):(p&&o.ui.returnRange(),r=o.getRangeText(),e=o.dom.getElement("img"),r&&0<r.length||e?(p&&o.ui.focus(),"string"==typeof i&&(0<i.length?o.editorDoc.execCommand("createLink",!1,i):o.editorDoc.execCommand("unlink",!1,null)),a.self=o.dom.getElement("a"),u(a.self).attr("href",i).attr("title",n),u(a.self).attr("target",t)):o.options.messages.nonSelection&&window.alert(o.options.messages.nonSelection)),o.saveContent(),s.close(),!1});u("form.wysiwyg").find("[type=reset]").click(function(){s.close()})}),s.open()):(a.self?(t=window.prompt("URL",a.href),o.options.controlLink.forceRelativeUrls&&(n=window.location.protocol+"//"+window.location.hostname,0===t.indexOf(n)&&(t=t.substr(n.length))),"string"==typeof t&&(0<t.length?u(a.self).attr("href",t):u(a.self).replaceWith(a.self.innerHTML))):(r=o.getRangeText(),l=o.dom.getElement("img"),r&&0<r.length||l?p?(o.ui.focus(),o.editorDoc.execCommand("createLink",!0,null)):(t=window.prompt(c.url,a.href),o.options.controlLink.forceRelativeUrls&&(n=window.location.protocol+"//"+window.location.hostname,0===t.indexOf(n)&&(t=t.substr(n.length))),"string"==typeof t&&(0<t.length?o.editorDoc.execCommand("createLink",!1,t):o.editorDoc.execCommand("unlink",!1,null))):o.options.messages.nonSelection&&window.alert(o.options.messages.nonSelection)),o.saveContent());u(o.editorDoc).trigger("editorRefresh.wysiwyg")}};u.wysiwyg.createLink=function(t,o,a){return t.each(function(){var t=u(this).data("wysiwyg");if(!t||!o||0===o.length)return this;var e=t.getRangeText(),i=t.getInternalRange(),n=!1;return i&&i.extractContents&&null!==(i=i.cloneContents())&&i.childNodes&&0<i.childNodes.length&&(n=!0),e&&0<e.length||n?(p&&t.ui.focus(),t.editorDoc.execCommand("unlink",!1,null),t.editorDoc.execCommand("createLink",!1,o)):a?t.insertHtml('<a href="'+o+'">'+a+"<\/a>"):t.options.messages.nonSelection&&window.alert(t.options.messages.nonSelection),this})}}(_jq),function(b,w){"use strict";if(void 0===b.wysiwyg)throw"wysiwyg.image.js depends on $.wysiwyg";b.wysiwyg.controls||(b.wysiwyg.controls={});var c=w.l10n.get,d=/MSIE/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)||/MSHTML/i.test(navigator.userAgent);/opera/i.test(navigator.userAgent);/firefox/i.test(navigator.userAgent);/safari/i.test(navigator.userAgent)&&/chrome/i.test(navigator.userAgent);b.wysiwyg.controls.image={groupIndex:6,visible:!0,exec:function(){b.wysiwyg.controls.image.init(this)},tags:["img"],tooltip:"Insert image",init:function(i){var n,t,e,o=this,a=w.utils.trim,r={alt:"",self:i.dom?i.dom.getElement("img"):null,src:"http://",title:""},s={legend:a(c("wysiwyg_image","Insert Image")," :"),preview:a(c("wysiwyg_preview","Preview")," :"),url:a(c("wysiwyg_image_url","URL")," :"),local_file:a(c("wysiwyg_local_file","Local file")," :"),title:a(c("wysiwyg_image_title","Title")," :"),description:a(c("wysiwyg_image_description","Description")," :"),width:a(c("wysiwyg_image_width","Width")," :"),height:a(c("wysiwyg_image_height","Height")," :"),original:a(c("wysiwyg_image_original","Original W x H")," :"),float:a(c("wysiwyg_image_float","Float")," :"),floatNone:a(c("wysiwyg_image_float_none","None")," :"),floatLeft:a(c("wysiwyg_image_float_left","Left")," :"),floatRight:a(c("wysiwyg_image_float_right","Right")," :"),submit:a(c("form_submit")," :"),reset:a(c("form_reset")," :"),fileManagerIcon:"Select file from server"},l='<form class="wysiwyg" id="wysiwyg-addImage"><fieldset><div class="form-row"><label for="file_type_local"><input type="radio" name="file_type" id="file_type_local" value="local" checked/>{local_file}:<\/label><div class="form-row-value"><input type="file" name="file" id="file"/><\/div><\/div><div class="form-row"><label for="file_type_remote"><input type="radio" name="file_type" id="file_type_remote" value="remote" />{url}:<\/label><div class="form-row-value"><input type="text" name="src" value="" disabled/><\/div><\/div><div class="form-row"><label for="name">{title}:<\/label><div class="form-row-value"><input type="text" name="imgtitle" value=""/><\/div><\/div><div class="form-row"><label for="description">{description}:<\/label><div class="form-row-value"><input type="text" name="description" value=""/><\/div><\/div><div class="form-row"><label for="width">{width} x {height}:<\/label><div class="form-row-value"><input type="text" name="width" value="" class="width-small"/> x <input type="text" name="height" value="" class="width-small"/><\/div><\/div><div class="form-row"><label for="name">{float}:<\/label><div class="form-row-value"><select name="float"><option value="">{floatNone}<\/option><option value="left">{floatLeft}<\/option><option value="right">{floatRight}<\/option><\/select><\/div><\/div><div class="form-row form-row-last"><label for="name"><\/label><div class="form-row-value"><input type="submit" class="button" value="{submit}"/> <input type="reset" value="{reset}"/><\/div><\/div><\/fieldset><\/form>';for(t in s)b.wysiwyg.i18n&&((e=b.wysiwyg.i18n.t(s[t],"dialogs.image"))===s[t]&&(e=b.wysiwyg.i18n.t(s[t],"dialogs")),s[t]=e),e=new RegExp("{"+t+"}","g"),l=l.replace(e,s[t]);r.self&&(r.src=r.self.src||"",r.alt=r.self.alt||"",r.title=r.self.title||"",r.width=r.self.width||"",r.height=r.self.height||"",r.styleFloat=b(r.self).css("float"));n=new b.wysiwyg.dialog(i,{title:s.legend,content:l,width:650});d&&i.saveSelection();b(n).on("afterOpen",function(t,e){e.find("form#wysiwyg-addImage").submit(function(t){return d&&i.restoreSelection(),t.preventDefault(),o.processInsert(e.container,i,r),n.close(),!1});b.wysiwyg.fileManager&&b("div.wysiwyg-fileManager").on("click",function(){b.wysiwyg.fileManager.init(function(t){e.find("input[name=src]").val(t);e.find("input[name=src]").trigger("change")})});b("input:reset",e).click(function(){return n.close(),!1});b("fieldset",e).click(function(t){t.stopPropagation()});o.makeForm(e,r)});n.open();b(i.editorDoc).trigger("editorRefresh.wysiwyg")},processInsert:function(t,e,i){function n(t){i.self?(b(i.self).attr("src",t).attr("title",d).attr("alt",u).css("float",f),h.toString().match(/^[0-9]+(px|%)?$/)?b(i.self).css("width",h):b(i.self).css("width",""),p.toString().match(/^[0-9]+(px|%)?$/)?b(i.self).css("height",p):b(i.self).css("height",""),e.saveContent()):((o=h.toString().match(/^[0-9]+(px|%)?$/))&&(o[1]?m.push("width: "+h+";"):m.push("width: "+h+"px;")),(o=p.toString().match(/^[0-9]+(px|%)?$/))&&(o[1]?m.push("height: "+p+";"):m.push("height: "+p+"px;")),0<f.length&&m.push("float: "+f+";"),0<m.length&&(v=' style="'+m.join(" ")+'"'),o="<img src='"+t+"' title='"+d+"' alt='"+u+"'"+v+"/>",e.insertHtml(o))}var o,a,r,s,l,c=b('input[name="src"]',t).val(),d=b('input[name="imgtitle"]',t).val(),u=b('input[name="description"]',t).val(),h=b('input[name="width"]',t).val(),p=b('input[name="height"]',t).val(),f=b('select[name="float"]',t).val(),g=b('input[name="file"]',t),m=[],v="";b("#file_type_local",t).prop("checked")?e.options.imageuploadurl?window.FileReader?((a=new FileReader).onload=function(){n(a.result)},a.readAsDataURL(g.get(0).files[0])):w.settings.islocal?alert(w.l10n.get("blog_offline_message")):(l=g.val(),r=b('<iframe id="upload_iframe" />'),s=!1,"jpeg"==(l="jpg"==(l=l.substr(l.lastIndexOf(".")+1))?"jpeg":l)||"png"==l||"gif"==l||"bmp"==l?(l="image/"+l,r.load(function(){var t;s?((t=r.contents().find("body").text()).length&&n("data:"+l+";base64,"+t),r.remove()):(t=b('<form enctype="multipart/form-data" method="post" action="'+e.options.imageuploadurl+'" />'),r.contents().find("body").append(t),t.append(g).submit(function(){s=!0}).submit())}),b("body").append(r),r.attr("src","#")):alert("Cannot upload the image: unsupported format.")):alert("Cannot upload the image: upload url not found."):b("#file_type_remote",t).prop("checked")&&n(c)},makeForm:function(t,e){return t.find("input[name=src]").val(e.src),t.find("input[name=imgtitle]").val(e.title),t.find("input[name=description]").val(e.alt),t.find('input[name="width"]').val(e.width),t.find('input[name="height"]').val(e.height),t.find('select[name="float"]').val(e.styleFloat),t.find("img").attr("src",e.src),t.find("input[type=radio]").click(function(){"local"==b(this).attr("value")?(t.find('[name="file"]').removeAttr("disabled"),t.find('[name="src"]').attr("disabled","true")):(t.find('[name="src"]').removeAttr("disabled").focus(),t.find('[name="file"]').attr("disabled","true"))}),t}};b.wysiwyg.insertImage=function(t,n,o){return t.each(function(){var t,e,i=b(this).data("wysiwyg");if(!i||!n||0===n.length)return this;if(d&&i.ui.focus(),o){if(i.editorDoc.execCommand("insertImage",!1,"http://emptyvalue"),t=i.getElementByAttributeValue("img","src","http://emptyvalue"))for(e in t.src=n,o)o.hasOwnProperty(e)&&t.setAttribute(e,o[e])}else i.editorDoc.execCommand("insertImage",!1,n);return i.saveContent(),b(i.editorDoc).trigger("editorRefresh.wysiwyg"),this})}}(_jq,x5engine),function(o,a){"use strict";function D(t,e){for(var i=t.classList,n=0;n<e.length;n++)i.add(e[n])}function A(t,e){for(var i=t.classList,n=0;n<e.length;n++)i.remove(e[n])}function r(o){function i(t,e,i){A(f[t.last],[E.classes.slideOut,E.classes.slideOut+E.classes.prev,E.classes.slideOut+E.classes.next]);A(f[t.current],[E.classes.defaultSlide,E.classes.slideIn,E.classes.slideIn+E.classes.prev,E.classes.slideIn+E.classes.next]);t.last=t.current;t.current=e;i=i||function(t,e){return t=e-t,0<t^Math.abs(t)>f.length/2?E.classes.next:E.classes.prev}(t.last,t.current);D(f[t.last],[E.classes.slideOut,E.classes.slideOut+i]);D(f[t.current],[E.classes.slideIn,E.classes.slideIn+i])}function n(t){var e;document.getElementById((e=t.current,o.id+E.classes.radioIdSeparator+e)).checked=!0;a(t,t.current)}function a(t,e){E.config.radioSliding&&E.config.radioSliding.enabled&&f.length>E.radio.visibleNumber&&(e=k(e))!==t.radioBarIndex&&(t.radioBarIndex=e,C(t))}function e(t){return 0==(t=(w-t)*E.radio.size)?t:t+"px"}function r(t,e){(e?I:_)(t)}function s(){M||(O&&(clearTimeout(O),O=null),!E.config.ctrlHidingDuringAnimations||!E.config.ctrlHidingDuringAnimations.enabled||E.config.ctrlHidingDuringAnimations.animations&&E.config.ctrlHidingDuringAnimations.animations.length&&!S(E.config.ctrlHidingDuringAnimations.animations)||_(g),M=!0)}function l(){T(F.next)}function c(t){if(x)return t;var e=t.getElementsByClassName(E.classes.animated);return 0<e.length?e[e.length-1]:t}var d,t,u,h,p,f=o.getElementsByClassName(E.classes.slide),g=o.getElementsByClassName(E.classes.ctrlContainer)[0],m=!!g&&g.getElementsByClassName(E.classes.radioBar)[0],v=!!g&&g.getElementsByClassName(E.classes.radioBarNext)[0],b=!!g&&g.getElementsByClassName(E.classes.radioBarPrev)[0],w=(E.radio.visibleNumber-1)/2,y=f.length-w-1,x=!!o.getElementsByClassName(E.classes.noElementEffect).length,C=function(t){m&&(t.vertical?(m.style.top=e(t.radioBarIndex),m.style.left=0):(m.style.top=0,m.style.left=e(t.radioBarIndex)));r(v,t.radioBarIndex<y);r(b,t.radioBarIndex>w)},k=function(t){return Math.max(w,Math.min(y,t))},_=function(t){t&&t.classList.remove(E.classes.ctrlVisible)},I=function(t){t&&t.classList.add(E.classes.ctrlVisible)},S=function(t){for(var n,e=!1,i=0;!e&&i<t.length;i++)n=o.getElementsByClassName(t[i]),e=n&&n.length;return!!e},M=!1,O=null,T=function(t){s();0<d&&(O=setTimeout(t,d));I(g);M=!1},F;return u=function(t){0<t?F.prev():F.next()},(t=o).addEventListener("touchstart",function(t){h=t.changedTouches[0].pageX;p=(new Date).getTime()},!1),t.addEventListener("touchend",function(t){t=t.changedTouches[0].pageX-h;(new Date).getTime()-p<=E.swipe.maxTime&&Math.abs(t)>=E.swipe.requiredDistance&&u(t)},!1),F={current:0,last:0,vertical:!1,radioBarIndex:w,goTo:function(t,e){t=function(t,e){for(;t<0;)t+=e;return t%e}(t,f.length);t!=F.current&&(s(),i(F,t,e),c(f[(e=F).last]).removeEventListener("animationend",l),c(f[e.current]).addEventListener("animationend",l),n(F))},next:function(){return F.goTo(F.current+1,E.classes.next)},prev:function(){return F.goTo(F.current-1,E.classes.prev)},autoplay:function(t){d=t;T(F.next)},radioBarNext:function(){a(F,F.radioBarIndex+E.radio.slideBarGap)},radioBarPrev:function(){a(F,F.radioBarIndex-E.radio.slideBarGap)}}}var E,s;o.extend(a,{contentSlider:(E={swipe:{requiredDistance:150,maxTime:300}},s={init:function(t){o.extend(!0,E,t||{});for(var e=a.responsive.isMobileDevice(),i=document.getElementsByClassName(E.classes.root),n=0;n<i.length;n++)s[i[n].id]=r(i[n]),e&&i[n].classList.add(E.classes.ctrlVisibleOnMobile);return 0<i.length}})})}(_jq,x5engine,window),function(l,c){"use strict";l(".imMnMnTxt img").css("position");var d=null,u=l(window),h=l("#imContent"),p=l("#imFooPad"),t=h.css("padding-bottom"),f=t?+t.replace(/px/g,""):0;l.extend(c,{content:{getContentHeight:function(){d=(p.length?p:h).height()},setNewHeight:function(){var t,e=l("#imContentContainer"),i=l("#imMnMn"),n=l("#imPgMn"),o=l("#imBtMnContainer"),a=0,r=0,s=0;i.attr("data-verticalscroll")&&(a+=+i.children("ul").css("margin-top").replace(/px/g,""),u.one("scroll",c.content.setNewHeight));i.find("ul").length&&"fixed"!=i.children("ul").css("position")&&(r=a+i.outerHeight());n.length&&(s=n.outerHeight(!0),s+=+n.css("padding-top").replace(/px/g,""),s+=+n.css("margin-top").replace(/px/g,""));s=Math.max(d,r,s,h.outerHeight(!0));t=!!p.length&&!!o.length&&r>h.outerHeight(!0);e.css("min-height",s+"px");t&&p.height(s-o.outerHeight(!0)-2*f)}}});c.settings.autoHeight.enabled&&(h.on("change breakpointChangedOrFluid",function(){h.add(p).height("");l("#imContentContainer").css("min-height","");setTimeout(function(){c.content.getContentHeight();c.content.setNewHeight()},200)}),h.trigger("change"))}(_jq,x5engine),function(d,u){"use strict";d.imCookie=function(t,e,i){var n=u.settings.siteId+"_"+t,o,a,r,s,l;if(null==e){if(o=null,document.cookie&&""!==document.cookie)for(a=document.cookie.split(";"),r=0;r<a.length;r++)if(s=d.trim(a[r]),s.substring(0,n.length+1)==n+"="){o=decodeURIComponent(s.substring(n.length+1));break}return o}null!==(i=i||{}).expires&&void 0!==i.expires||(i.expires=60);null===e&&(e="",i.expires=-1);l="";i.expires&&("number"==typeof i.expires||i.expires.toUTCString)&&("number"==typeof i.expires?(c=new Date).setTime(c.getTime()+864e5*i.expires):c=i.expires,l="; expires="+c.toUTCString());var t=i.path?"; path="+i.path:"",c=i.domain?"; domain="+i.domain:";",i=i.secure?"; secure":"";document.cookie=[n,"=",encodeURIComponent(e),l,t,c,i].join("")}}(_jq,x5engine),function(n,o){"use strict";n.extend(o,{cookielaw:{cookieId:"",showBanner:function(t){var e,i;if(t=n.extend({id:"cookiebanner",offlineTimeStamp:0,bannerStyle:"bar",position:"top",texts:[],acceptButton:!1,priority:2,acceptOnScroll:!1,elementClose:'<svg class="svgClose imCloseInn" viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1490 1322q0 40-28 68l-136 136q-28 28-68 28t-68-28l-294-294-294 294q-28 28-68 28t-68-28l-136-136q-28-28-28-68t28-68l294-294-294-294q-28-28-28-68t28-68l136-136q28-28 68-28t68 28l294 294 294-294q28-28 68-28t68 28l136 136q28 28 28 68t-28 68l-294 294 294 294q28 28 28 68z"/><\/svg>',effect:"fade",margin:10},t),o.cookielaw.cookieId="cookie_law_yes"+(o.utils.isOnline()?"":"_"+t.offlineTimeStamp),t.onClose=function(){n.imCookie(o.cookielaw.cookieId,1,{expires:365});o.cookielaw.activateScripts()},o.cookielaw.accepted())o.cookielaw.activateScripts();else{switch(t.position){case"bottom":t.effect="frombottom";break;case"center":case"top":t.effect="fromtop";break;case"center-right":case"bottom-right":case"top-right":t.effect="fromright";break;case"center-left":case"bottom-left":case"top-left":t.effect="fromleft"}for(t.text="",i=0;i<t.texts.length&&!t.text;i++)t.texts[i].basepath==o.settings.currentPath&&(t.text=t.texts[i].text);t.acceptButton&&(t.text="box"==t.bannerStyle?t.text+="<\/br>":t.text,t.text+='<div class="imClose close"><div class="imCloseInn">'+o.l10n.get("privacy_button_agree")+"<\/div><\/div>",t.elementClose="");e="box"==t.bannerStyle?o.imSplashBox(t):o.alertBox(t);t.acceptOnScroll&&n(window).one("scroll",function(){e.close()})}},activateScripts:function(){n("#imContent").trigger("x5ActivateCookieScripts")},accepted:function(){return!!n.imCookie(o.cookielaw.cookieId)}}})}(_jq,x5engine),function(c,d){"use strict";c.extend(d,{imCover:function(e){function r(t){c.isFunction(e.onClose)&&e.onClose();l.animate({top:"-100%"},n,function(){l.remove()});s.animate({opacity:"0"},n,function(){s.remove()});t&&t.stopPropagation()}var s,t,l;e=c.extend(!0,{id:"cover",cookie:!1,priority:0,link:"",scrollImage:"",onClose:null,offlineTimeStamp:0},e);var i,n=1e3,o="cookie-"+e.id+(!d.utils.isOnline()&&e.offlineTimeStamp?"_"+e.offlineTimeStamp:""),a=c(window);return e.cookie&&"true"==c.imCookie(o)?!1:(s=c('<div id="im-cover-overlay"><\/div>'),c("body").append(s),t='<div id="'+e.id+'" class="im-cover '+(""!==e.link?"im-cover-clickable":"")+'" style="">',t+=d.settings.imLoadingAnimation,t+=e.scrollImage?'<img class="scroll-image close-element" alt="scroll down" src="'+e.scrollImage+'"><\/div>':"",t+="<\/div>\n",c("body").append(t),l=c("#"+e.id).css({zIndex:d.settings.zIndex.cover+e.priority}),e.media?(e.media.load,new d.mediaObject(c.extend(e.media,{load:function(){setTimeout(function(){"image"==e.media.type&&(i=c('<div class="cover-bg" style="background: url(\''+e.media.url+"') center center/cover no-repeat; filter: blur(10px); transition: filter 500ms ease-out;\"><\/div>"));l.find(".imLoadAnim").remove();i.appendTo(l);setTimeout(function(){i.css({filter:"blur(0)"})},50);l.find(".close-element").click(function(t){t.stopPropagation();r()});a.one("scroll",r);l.one("mousewheel touchmove",r);l.click(function(){c.isFunction(e.link)?e.link.call(l):""!==e.link&&(location.href=e.link)});e.cookie&&c.imCookie(o,"true",{expires:0})},100)}}))):r(),{close:function(){c.isFunction(r)&&r()}})}})}(_jq,x5engine),function(y,x){"use strict";y.extend(x,{imDatePicker:function(t,u){function e(t,e){var i=a();i&&(u.date.setFullYear(i.getFullYear()),u.date.setMonth(i.getMonth()),u.date.setDate(i.getDate()),c.setFullYear(i.getFullYear()),c.setMonth(i.getMonth()),c.setDate(i.getDate()));i='<div class="date-picker">';u.vDay;u.vMonths;i+='<div class="header"><div class="year"><\/div><div class="date"><\/div><\/div>';i+='<div class="container month-container"><span class="arrow">&lang;<\/span><span class="month-text"><\/span><span class="arrow">&rang;<\/span><\/div>';i+='<div class="container year-container"><span class="arrow">&lang;<\/span><span class="year-text"><\/span><span class="arrow">&rang;<\/span><\/div>';i+='<div class="calendar">'+f()+"<\/div>";i+="<\/div>";y("body").append('<div class="date-picker-background"><\/div>');(n=y(".date-picker-background")).css({position:"fixed",width:y(window).width(),height:y(window).height(),top:0,left:0,zIndex:x.settings.zIndex.datePicker+1}).on("click",w);y("body").append(i);o=y(".date-picker");b();o.find(".month-container .arrow").first().on("click",function(){m(-1)});o.find(".month-container .arrow").last().on("click",function(){m(1)});o.find(".year-container .arrow").first().on("click",function(){v(-1)});o.find(".year-container .arrow").last().on("click",function(){v(1)});y(".day").on("click",g);t+o.width()>y(window).width()+y(window).scrollLeft()&&(t=y(window).width()-o.outerWidth()-5+y(window).scrollLeft());e+o.height()>y(window).height()+y(window).scrollTop()&&(e=y(window).height()-o.outerHeight()-5+y(window).scrollTop());o.fadeOut(0).css({top:e,left:t,zIndex:x.settings.zIndex.datePicker+2}).fadeIn(200)}var c,n=y(),o=y(),h=y(t),r=x.l10n.get("date_months"),s=x.l10n.get("date_full_months"),d=x.l10n.get("date_days"),l=x.l10n.get("date_full_days"),p=function(t,e){for(var i,n=[],o=!1,a=0;!o&&a<e.length;)-1!=t.indexOf(e.charAt(a))&&(o=!0),a++;if(!o||0===e.length)return[t];for(i=t.split(e.charAt(0)),a=0;a<i.length;a++)n=n.concat(p(i[a],e.substring(1)));return n},a=function(){var t,e=h.val(),i=u.format;if(""===e||(t="^"+i.replace(/\//g,"\\/").replace(/\s/g,"\\s+").replace(/\-/g,"\\-").replace(/\./g,"\\.").replace(/\[dd\]/g,"\\d{1,2}").replace(/\[mm\]/g,"\\d{1,2}").replace(/\[yy\]/g,"\\d{2}").replace(/\[yyyy\]/g,"\\d{4}").replace(/\[DD\]/g,"[\\wìòàùèé']+").replace(/\[MM\]/g,"[\\wìòàùèé']+").replace(/\[D\]/g,"[\\wìòàùèé']+").replace(/\[M\]/g,"[\\wìòàùèé']+")+"$",!new RegExp(t).test(e)))return!1;for(var n,o,i=i.replace("[M]","").replace("[D]","").replace("[MM]","").replace("[DD]","").replace("[yy]","").replace("[yyyy]","").replace("[mm]","").replace("[dd]",""),a=p(u.format,i),r=p(e,i),s="",l="",c="",d=0;d<a.length;d++)switch(a[d]){case"[M]":for(n=x.l10n.get("date_months"),o=0;o<n.length;o++)n[o].toLowerCase()==r[d].toLowerCase()&&(s=o+1);break;case"[MM]":for(n=x.l10n.get("date_full_months"),o=0;o<n.length;o++)n[o].toLowerCase()==r[d].toLowerCase()&&(s=o+1);break;case"[D]":for(n=x.l10n.get("date_days"),o=0;o<n.length;o++)n[o].toLowerCase()==r[d].toLowerCase()&&(l=o+1);break;case"[DD]":for(n=x.l10n.get("date_full_days"),o=0;o<n.length;o++)n[o].toLowerCase()==r[d].toLowerCase()&&(l=o+1);break;case"[yy]":c="20"+r[d];break;case"[yyyy]":c=r[d];break;case"[mm]":s=r[d];break;case"[dd]":l=r[d]}return new Date(c,s-1,l)},f=function(){var t,e="<table>",i,n,o,a,r,s,l;for(e+="<tr>",i=0;i<d.length;i++)6<(t=i+u.start)&&(t-=7),e+='<td class="table-header">'+d[t]+"<\/td>";for(e+="<\/tr>",n=new Date(u.date.getYear(),u.date.getMonth(),u.date.getDate()),n.setFullYear(u.date.getFullYear()),n.setDate(1),o=parseInt(n.getDay(),10),(o-=u.start)<=0&&(o+=7),a=parseInt(n.getMonth(),10),r=0;n.getMonth()==a;){for(e+="<tr>",i=1;i<=7;i++)l="day",o<=i+7*r&&n.getMonth()==a?((s=i-o+1+7*r)==c.getDate()&&n.getMonth()==c.getMonth()&&(l+=" selDay"),e+='<td class="'+l+'">'+s+"<\/td>",n.setDate(n.getDate()+1)):e+="<td><\/td>";e+="<\/tr>";r++}return e+"<\/table>"},g=function(t,e,i){"boolean"!=typeof i&&(i=!0);e?(u.date.setFullYear(e.getFullYear()),u.date.setMonth(e.getMonth()),u.date.setDate(e.getDate()),c.setFullYear(e.getFullYear()),c.setMonth(e.getMonth()),c.setDate(e.getDate())):(u.date.setDate(y(this).text()),c.setFullYear(u.date.getFullYear()),c.setMonth(u.date.getMonth()),c.setDate(y(this).text()));var n=u.date.getFullYear().toString(),o=x.utils.imFormatInt(parseInt(u.date.getDate(),10)),a=x.utils.imFormatInt(parseInt(u.date.getMonth(),10)+1),e=(e=u.format.replace(/\[yyyy\]/g,n)).replace(/\[yy\]/g,n.substring(2)).replace(/\[mm\]/g,a).replace(/\[dd\]/g,o).replace(/\[D\]/g,0<=parseInt(c.getDay(),10)-1?d[parseInt(c.getDay(),10)-1]:d[6]).replace(/\[DD\]/g,0<=parseInt(c.getDay(),10)-1?l[parseInt(c.getDay(),10)-1]:l[6]).replace(/\[M\]/g,r[parseInt(c.getMonth(),10)]).replace(/\[MM\]/g,s[parseInt(c.getMonth(),10)]);h.val(e);h.data("data-was-set",!0);w();i&&y.isFunction(u.onChange)&&u.onChange()},m=function(t){u.date.setDate(1);u.date.setMonth(u.date.getMonth()+t);b()},v=function(t){u.date.setFullYear(u.date.getFullYear()+t);b()},b=function(){var t;o.find(".calendar").empty().append(f());o.find(".month-text").empty().append(s[parseInt(u.date.getMonth(),10)]);o.find(".year-text").empty().append(u.date.getFullYear().toString());o.find(".header .year").html(u.date.getFullYear().toString());"toLocaleDateString"in u.date?(t=u.date.toLocaleDateString(x.l10n.get("lang_code"),{weekday:"long",month:"short",day:"numeric"}),o.find(".header .date").html(t)):o.find(".header .date").html(u.date.toDateString().replace(u.date.getFullYear().toString(),""));o.find(".day").click(g)},t=function(t){0<o.length?o.fadeOut(200,function(){o.remove();e(t.pageX,t.pageY)}):e(t.pageX,t.pageY)},w=function(){n.remove();o.fadeOut(200,function(){o.remove()})};return(u=y.extend({icon:!0,start:0,float:"left",format:x.l10n.get("date_format"),date:null,setInitial:!1,onChange:null},u)).start<0&&(u.start=Math.abs(u.start)%7),u.date?"string"==typeof u.date&&(u.date=new Date(u.date.substring(6),parseInt(u.date.substring(3,5),10)-1,u.date.substring(0,2))):u.date=new Date,c=new Date(u.date.getFullYear(),u.date.getMonth(),u.date.getDate()),(u.icon?h.next(".imDatePickerIcon"):h).click(t),h.on("change",function(){var t=a();!1!==t&&(g(null,t),y.isFunction(u.onChange)&&u.onChange())}),h.click(function(){y(this).removeClass(x.imForm.constants.mark)}),u.setInitial&&g(null,u.date,!1),{date:function(){return u.date}}}})}(_jq,x5engine),function(n,h){"use strict";n.extend(h,{setupDateTime:function(){var t=h.dateTime;t(n(".imHour"),"hour");t(n(".imNow"),"now")},dateTime:function(a,t){a=n(a);var r,e=h.l10n.get,s=e("date_days"),l=e("date_months"),c=e("date_full_months"),d=e("date_full_days"),u=e("date_format"),i=h.utils.imFormatInt;if("hour"==t||"now"==t)switch(t){case"hour":!function t(){var e=new Date;a.html(i(e.getHours())+":"+i(e.getMinutes())+":"+i(e.getSeconds())+" ");setTimeout(t,1e3)}();break;case"now":!function t(){var e=new Date,i=e.getFullYear().toString(),n=h.utils.imFormatInt(parseInt(e.getDate(),10)),o=h.utils.imFormatInt(parseInt(e.getMonth(),10)+1);r=u.replace(/\[yyyy\]/g,i).replace(/\[yy\]/g,i.substring(2)).replace(/\[aaaa\]/g,i).replace(/\[aa\]/g,i.substring(2)).replace(/\[mm\]/g,o).replace(/\[dd\]/g,n).replace(/\[D\]/g,0<=parseInt(e.getDay(),10)-1?s[parseInt(e.getDay(),10)-1]:s[6]).replace(/\[DD\]/g,0<=parseInt(e.getDay(),10)-1?d[parseInt(e.getDay(),10)-1]:d[6]).replace(/\[M\]/g,l[parseInt(e.getMonth(),10)]).replace(/\[MM\]/g,c[parseInt(e.getMonth(),10)]);a.html(r);setTimeout(t,6e4)}()}else a.html(t)}})}(_jq,x5engine),function(f,g){"use strict";f.fn.loudStop=function(t,e){return f(this).trigger("loudStop").stop(t,e),this};f.extend(f.easing,{iOsSwing:function(t,e,i,n,o){return e==o?i+n:n*(1-Math.pow(2,-10*e/o))+i},elasticIn:function(t,e,i,n,o){var a=1.70158,r=0,s=n;return 0===e?i:1==(e/=o)?i+n:(r=r||.3*o,a=s<Math.abs(n)?(s=n,r/4):r/(2*Math.PI)*Math.asin(n/s),s*Math.pow(2,-11*e)*Math.sin((e*o-a)*2*Math.PI/r)+n+i)},elasticOut:function(t,e,i,n,o){var a=1.70158,r=0,s=n;return 0===e?i:1==(e/=o)?i+n:(r=r||.3*o,a=s<Math.abs(n)?(s=n,r/4):r/(2*Math.PI)*Math.asin(n/s),-(s*Math.pow(2,11*--e)*Math.sin((e*o-a)*2*Math.PI/r))+i)},bounceIn:function(t,e,i,n,o){return n-f.easing.bounceOut(t,o-e,0,n,o)+i},bounceOut:function(t,e,i,n,o){return(e/=o)<1/2.75?n*7.5625*e*e+i:e<2/2.75?n*(7.5625*(e-=1.5/2.75)*e+.75)+i:e<2.5/2.75?n*(7.5625*(e-=2.25/2.75)*e+.9375)+i:n*(7.5625*(e-=2.625/2.75)*e+.984375)+i},easeInOutSwing:function(t,e,i,n,o){return 0===e?i:e==o?i+n:(e/=o/2)<1?n/2*Math.pow(2,10*(e-1))+i:n/2*(2-Math.pow(2,-10*--e))+i},imBounce:function(t,e,i,n,o){return(e/=o)<1/2.75?n*7.5625*e*e+i:e<2/2.75?n*(7.5625*(e-=1.5/2.75)*e+.75)+i:e<2.5/2.75?n*(7.5625*(e-=2.25/2.75)*e+.9375)+i:n*(7.5625*(e-=2.625/2.75)*e+.984375)+i}});f.extend(!0,g,{effects:{none:{animateIn:function(t,e,i,n){t.DOMObject().width(e.width).height(e.height).css({position:"absolute",top:e.y,left:e.x}).loudStop(!1,!1).show(0);f.isFunction(n)&&n(t)},animateOut:function(t,e,i){t.DOMObject().loudStop(!1,!1).hide(0);f.isFunction(i)&&i(t)}},fade:{animateIn:function(t,e,i,n){i=f(i);t.DOMObject().width(e.width).height(e.height).css({position:"absolute",top:e.y,left:e.x,display:"none"}).loudStop(!1,!1).fadeIn(500,function(){f.isFunction(n)&&n(t)})},animateOut:function(t,e,i){t.DOMObject().loudStop(!1,!1).fadeOut(500,function(){f.isFunction(i)&&i(t)})}},horizontalSlide:{animateIn:function(t,e,i,n,o){i=f(i);t.DOMObject().width(e.width).height(e.height).css({position:"absolute",top:e.y,left:o?-e.width:i.width()}).show(0).loudStop(!1,!1).animate({left:e.x},{duration:500,complete:function(){f.isFunction(n)&&n(t)}})},animateOut:function(t,e,i,n){var o=t.DOMObject();e=f(e);o.loudStop(!1,!1).animate({left:n?e.width():-o.width()},{duration:500,complete:function(){f.isFunction(i)&&i(t)}})}},horizontalSlideSwing:{animateIn:function(t,e,i,n,o){t.DOMObject();i=f(i);t.DOMObject().width(e.width).height(e.height).css({position:"absolute",top:e.y,left:o?-e.width:i.width()}).show(0).loudStop(!1,!1).animate({left:e.x},{duration:2e3,easing:"easeInOutSwing",complete:function(){f.isFunction(n)&&n(t)}})},animateOut:function(t,e,i,n){var o=t.DOMObject();e=f(e);o.loudStop(!1,!1).animate({left:n?e.width():-o.width()},{duration:2e3,easing:"easeInOutSwing",complete:function(){f.isFunction(i)&&i(t)}})}},verticalSlide:{animateIn:function(t,e,i,n,o){var a=t.DOMObject();i=f(i);a.width(e.width).height(e.height);a.css({position:"absolute",left:e.x,top:o?i.height():-e.height});a.show(0);a.loudStop(!1,!1).animate({top:e.y},{duration:500,complete:function(){f.isFunction(n)&&n(t)}})},animateOut:function(t,e,i,n){var o=t.DOMObject();e=f(e);o.loudStop(!1,!1).animate({top:n?-t.Height():e.height()},{duration:500,complete:function(){f.isFunction(i)&&i(t)}})}},verticalSlideSwing:{animateIn:function(t,e,i,n,o){var a=t.DOMObject();i=f(i);a.width(e.width).height(e.height);a.css({position:"absolute",left:e.x,top:o?i.height():-e.height});a.show(0);a.loudStop(!1,!1).animate({top:e.y},{duration:2e3,easing:"easeInOutSwing",complete:function(){f.isFunction(n)&&n(t)}})},animateOut:function(t,e,i,n){var o=t.DOMObject();e=f(e);o.loudStop(!1,!1).animate({top:n?-t.Height():e.height()},{duration:2e3,easing:"easeInOutSwing",complete:function(){f.isFunction(i)&&i(t)}})}},zoom:{animateIn:function(t,e,i,n){var a=t.DOMObject();i=f(i);a.css({position:"absolute",top:i.height()/2,left:i.width()/2}).width(10).height(10);a.fadeIn(0);a.loudStop(!1,!1).animate({top:e.y,left:e.x,width:e.width,height:e.height},{duration:500,complete:function(){f.isFunction(n)&&n(t)}})},animateOut:function(t,e,i){var o=t.DOMObject();e=f(e);o.loudStop(!1,!1).animate({top:e.height()/2,left:e.width()/2,width:1,height:1},{duration:500,complete:function(){f.isFunction(i)&&i(t)}})}},elasticFromTop:{animateIn:function(t,e,i,n,o){var a=t.DOMObject();i=f(i);a.width(e.width).height(e.height);a.css({position:"absolute",left:e.x,top:o?i.height():-e.height});a.show(0);a.loudStop(!1,!1).animate({top:e.y},{easing:"elasticIn",duration:1500,complete:function(){f.isFunction(n)&&n(t)}})},animateOut:function(t,e,i){var o=t.DOMObject();e=f(e);o.loudStop(!1,!1).fadeOut(500,function(){f.isFunction(i)&&i(t)})}},elasticFromBottom:{animateIn:function(t,e,i,n,o){var a=t.DOMObject();i=f(i);a.width(e.width).height(e.height);a.css({position:"absolute",left:e.x,top:o?-e.height:i.height()});a.show(0);a.loudStop(!1,!1).animate({top:e.y},{easing:"elasticIn",duration:500,complete:function(){f.isFunction(n)&&n(t)}})},animateOut:function(t,e,i){var o=t.DOMObject();e=f(e);o.loudStop(!1,!1).fadeOut(500,function(){f.isFunction(i)&&i(t)})}},elasticFromLeft:{animateIn:function(t,e,i,n,o){var a=t.DOMObject();i=f(i);a.width(e.width).height(e.height);a.css({position:"absolute",top:e.y,left:o?i.width():-e.width});a.show(0);a.loudStop(!1,!1).animate({left:e.x},{duration:1500,easing:"elasticIn",complete:function(){f.isFunction(n)&&n(t)}})},animateOut:function(t,e,i,n){var o=t.DOMObject();e=f(e);o.loudStop(!1,!1).animate({left:n?-o.width():e.width()},{duration:1500,easing:"elasticIn",complete:function(){f.isFunction(i)&&i(t)}})}},elasticFromRight:{animateIn:function(t,e,i,n,o){var a=t.DOMObject();i=f(i);a.width(e.width).height(e.height);a.css({position:"absolute",top:e.y,left:o?-e.width:i.width()});a.show(0);a.loudStop(!1,!1).animate({left:e.x},{duration:1500,easing:"elasticIn",complete:function(){f.isFunction(n)&&n(t)}})},animateOut:function(t,e,i,n){var o=t.DOMObject();e=f(e);o.loudStop(!1,!1).animate({left:n?e.width():-o.width()},{duration:1500,easing:"elasticIn",complete:function(){f.isFunction(i)&&i(t)}})}},bounceFromRight:{animateIn:function(t,e,i,n,o){var a=t.DOMObject();i=f(i);a.width(e.width).height(e.height);a.css({position:"absolute",top:e.y,left:o?-e.width:i.width()});a.show(0);a.loudStop(!1,!1).animate({left:e.x},{duration:1e3,easing:"bounceOut",complete:function(){f.isFunction(n)&&n(t)}})},animateOut:function(t,e,i,n){var o=t.DOMObject();e=f(e);o.loudStop(!1,!1).animate({left:n?e.width():-o.width()},{duration:1e3,easing:"bounceOut",complete:function(){f.isFunction(i)&&i(t)}})}},bounceFromLeft:{animateIn:function(t,e,i,n,o){var a=t.DOMObject();i=f(i);a.width(e.width).height(e.height);a.css({position:"absolute",top:e.y,left:o?i.width():-e.width});a.show(0);a.loudStop(!1,!1).animate({left:e.x},{duration:1e3,easing:"bounceOut",complete:function(){f.isFunction(n)&&n(t)}})},animateOut:function(t,e,i,n){var o=t.DOMObject();e=f(e);o.loudStop(!1,!1).animate({left:n?-o.width():e.width()},{duration:1e3,easing:"bounceOut",complete:function(){f.isFunction(i)&&i(t)}})}},bounceFromTop:{animateIn:function(t,e,i,n,o){var a=t.DOMObject();i=f(i);a.width(e.width).height(e.height);a.css({position:"absolute",left:e.x,top:o?i.height():-e.height});a.show(0);a.loudStop(!1,!1).animate({top:e.y},{easing:"bounceOut",duration:1500,complete:function(){f.isFunction(n)&&n(t)}})},animateOut:function(t,e,i,n){var o=t.DOMObject();e=f(e);o.loudStop(!1,!1).animate({top:n?-o.height():e.height()},{duration:1500,easing:"bounceOut",complete:function(){f.isFunction(i)&&i(t)}})}},bounceFromBottom:{animateIn:function(t,e,i,n,o){var a=t.DOMObject();i=f(i);a.width(e.width).height(e.height);a.css({position:"absolute",left:e.x,top:o?-e.height:i.height()});a.show(0);a.loudStop(!1,!1).animate({top:e.y},{easing:"bounceOut",duration:1500,complete:function(){f.isFunction(n)&&n(t)}})},animateOut:function(t,e,i,n){var o=t.DOMObject();e=f(e);o.loudStop(!1,!1).animate({top:n?e.height():-o.height()},{duration:1500,easing:"bounceOut",complete:function(){f.isFunction(i)&&i(t)}})}},rotateLinear:{animateIn:function(t,e,i,n,o){var a,r=t.DOMObject(),s=g.utils.supportsCSS("transform"),l=g.utils.supportsCSS("transformOrigin");s&&l?(r.loudStop(!1,!1).css({top:e.y,left:e.x,"-my-anim-step":0}).width(e.width).height(e.height),a=o?-90:90,r.css(l,"0% 0%").fadeIn(0),r.animate({"-my-anim-step":100},{step:function(t){r.css(s,"rotate("+Math.floor(a-a*t/100)+"deg)")},complete:function(){f.isFunction(n)&&n(t)}})):g.effects.fade.animateIn(t,e,i,n,o)},animateOut:function(t,e,i,n){var o,a=t.DOMObject(),r=g.utils.supportsCSS("transform"),s=g.utils.supportsCSS("transformOrigin");r&&s?(a.loudStop(!1,!1).css("-my-anim-step",0),o=n?90:-90,a.css(s,"0% 0%").fadeIn(0),a.animate({"-my-anim-step":100},{step:function(t){a.css(r,"rotate("+Math.floor(o*t/100)+"deg)")},complete:function(){f.isFunction(i)&&i(t)}})):g.effects.fade.animateOut(t,e,i,n)}},rotateZoom:{animateIn:function(t,e,i,n,o){var a=t.DOMObject(),r=g.utils.supportsCSS("transform");r?(a.css({position:"absolute",top:i.height()/2,left:i.width()/2,"-my-anim-step":0}).width(10).height(10).fadeIn(0),a.loudStop(!1,!1).animate({top:e.y,left:e.x,width:e.width,height:e.height,"-my-anim-step":100},{duration:500,step:function(t){a.css(r,"rotate("+Math.floor(-280- -280*t/100)+"deg)")},complete:function(){f.isFunction(n)&&n(t)}})):g.effects.zoom.animateIn(t,e,i,n,o)},animateOut:function(t,e,i,n){var o=t.DOMObject(),a=g.utils.supportsCSS("transform");a?(o.css("-my-anim-step",0),o.loudStop(!1,!1).animate({top:e.height()/2,left:e.width()/2,width:1,height:1,"-my-anim-step":100},{duration:500,step:function(t){o.css(a,"rotate("+Math.floor(280*t/100)+"deg)")},complete:function(){f.isFunction(i)&&i(t)}})):g.effects.zoom.animateOut(t,e,i,n)}},carousel:{animateIn:function(t,e,i,n,o){var a,r=t.DOMObject(),s=g.utils.supportsCSS("transform"),l=g.utils.supportsCSS("transformOrigin");s&&l?(r.loudStop(!1,!1).css({top:e.y,left:e.x,"-my-anim-step":0}).width(e.width).height(e.height),a=o?90:-90,r.fadeIn(0),r.css(l,(r.width()-i.width())/2+"px 50%"),r.animate({"-my-anim-step":100},{step:function(t){r.css(s,"perspective(600px) rotateY("+Math.floor(a-a*t/100)+"deg)")},complete:function(){f.isFunction(n)&&n(t)}})):g.effects.fade.animateIn(t,e,i,n,o)},animateOut:function(t,e,i,n){var o,a=t.DOMObject(),r=g.utils.supportsCSS("transform"),s=g.utils.supportsCSS("transformOrigin");r&&s?(a.loudStop(!1,!1).css("-my-anim-step",0),o=n?-90:90,a.fadeIn(0),a.css(s,(a.width()-e.width())/2+"px 50%"),a.animate({"-my-anim-step":100},{step:function(t){a.css(r,"perspective(600px) rotateY("+Math.floor(o*t/100)+"deg)")},complete:function(){f.isFunction(i)&&i(t)}})):g.effects.fade.animateOut(t,e,i,n)}},verticalSlices:{animateIn:function(e,i,n,o,a){var c;if("image"==e.Type()){var r=e.DOMObject(),s=f(null),t=e.Width()/5,l=r.attr("src");r.loudStop(!1,!1).one("loudStop",function(){s.stop(!1,!1).remove();s=f(null)});for(c=0;c<5;c++)s=s.add(f("<div />").css({position:"absolute",top:i.y+n.height()*(a?1:-1),left:i.x+t*c,"background-image":'url("'+l+'")',"background-position":-t*c+"px 0px","background-size":5*t+"px "+e.Height()+"px",opacity:0}).width(t).height(e.Height()));r.hide(0).after(s);s.each(function(t){f(this).delay(80*t).animate({top:i.y},{duration:400,step:function(t,e){"top"==e.prop&&f(this).css("opacity",1+t/n.height()*(a?-1:1))},complete:function(){4==t&&0<s.length&&(r.css({position:"absolute",top:i.y,left:i.x}).width(i.width).height(i.height).show(0),s.remove(),o(e))}})})}else g.effects.fade.animateIn(e,i,n,o,a)},animateOut:function(e,i,n,o){var c;if("image"==e.Type()){var t=e.DOMObject(),a=f(null),r=e.Width()/5,s={x:+t.css("left").replace(/px/,""),y:+t.css("top").replace(/px/,"")},l=t.attr("src");t.loudStop(!1,!1).hide(0).one("loudStop",function(){a.stop(!1,!1).remove();a=f(null)});for(c=0;c<5;c++)a=a.add(f("<div />").css({position:"absolute",top:s.y,left:s.x+r*c,"background-image":'url("'+l+'")',"background-position":-r*c+"px 0px","background-size":5*r+"px "+e.Height()+"px"}).width(r).height(e.Height()));t.after(a);a.each(function(t){f(this).delay(80*t).animate({top:s.y+i.height()*(o?-1:1)},{duration:400,step:function(t,e){"top"==e.prop&&f(this).css("opacity",1-t/i.height()*(o?-1:1))},complete:function(){4==t&&0<a.length&&(a.remove(),n(e))}})});n(e)}else g.effects.fade.animateOut(e,i,n,o)}},scramble:{animateIn:function(n,t,e,o,i){var c,d,u;if("image"==n.Type()){var a=n.DOMObject(),r=n.Width()/4,s=n.Height()/4,l=a.attr("src");a.loudStop(!1,!1).css({position:"absolute",top:t.y,left:t.x}).width(t.width).height(t.height).hide(0).one("loudStop",function(){c.stop(!1,!1).remove();c=f(null)});for(c=f(null),d=0;d<4;d++)for(u=0;u<4;u++)var h=0<=Math.random()-.5?e.width()+Math.random()*r:-Math.random()*r-r,p=0<=Math.random()-.5?e.height()+Math.random()*r:-Math.random()*s-s,c=c.add(f("<div />").css({position:"absolute",top:p,left:h,"background-image":'url("'+l+'")',"background-position":-r*u+"px -"+s*d+"px","background-size":4*r+"px "+4*s+"px"}).width(r).height(s).data("endposx",t.x+r*u).data("endposy",t.y+s*d));a.after(c);c.each(function(t){var i=f(this);i.animate({top:+i.data("endposy"),left:+i.data("endposx")},{duration:1e3,complete:function(){t==c.length-1&&0<c.length&&(a.show(0),c.remove(),o(n))}})})}else g.effects.fade.animateIn(n,t,e,o,i)},animateOut:function(o,a,r,t){var d,u,h;if("image"==o.Type()){var s=o.DOMObject(),l=o.Width()/4,c=o.Height()/4,e=s.attr("src"),i=+s.css("left").replace(/px/,""),n=+s.css("top").replace(/px/,"");s.loudStop(!1,!1).hide(0).one("loudStop",function(){d.stop(!1,!1).remove();d=f(null)});for(d=f(null),u=0;u<4;u++)for(h=0;h<4;h++)d=d.add(f("<div />").css({position:"absolute",top:n+c*u,left:i+l*h,"background-image":'url("'+e+'")',"background-position":-l*h+"px -"+c*u+"px","background-size":4*l+"px "+4*c+"px"}).width(l).height(c));s.after(d);d.each(function(t){var i=0<=Math.random()-.5?a.width()+Math.random()*l:-Math.random()*l-l,n=0<=Math.random()-.5?a.height()+Math.random()*l:-Math.random()*c-c;f(this).animate({top:i,left:n},{duration:800,complete:function(){t==d.length-1&&0<d.length&&(s.hide(0),d.remove(),r(o))}})})}else g.effects.fade.animateOut(o,a,r,t)}},squares:{animateIn:function(e,t,i,n,o){var d,u;if("image"==e.Type()){var a=e.DOMObject(),r=e.Width()/4,s=e.Height()/4,l=a.attr("src"),c=f(null);a.loudStop(!1,!1).css({position:"absolute",top:t.y,left:t.x}).width(t.width).height(t.height).hide(0).one("loudStop",function(){c.stop(!1,!1).remove();c=f(null)});for(d=0;d<4;d++)for(u=0;u<4;u++)c=c.add(f("<div />").css({position:"absolute",top:t.y+s*d,left:t.x+r*u,"background-image":'url("'+l+'")',"background-position":-r*u+"px -"+s*d+"px","background-size":4*r+"px "+4*s+"px",display:"none"}).width(r).height(s));a.after(c);c.each(function(t){f(this).delay(50*t).fadeIn(150,function(){t==c.length-1&&0<c.length&&(a.fadeIn(0),c.remove(),n(e))})})}else g.effects.fade.animateIn(e,t,i,n,o)},animateOut:function(e,t,i,n){var u,h;if("image"==e.Type()){var o=e.DOMObject(),a=e.Width()/4,r=e.Height()/4,s=o.attr("src"),l=+o.css("left").replace(/px/,""),c=+o.css("top").replace(/px/,""),d=f(null);o.loudStop(!1,!1).one("loudStop",function(){d.stop(!1,!1).remove();d=f(null)});for(u=0;u<4;u++)for(h=0;h<4;h++)d=d.add(f("<div />").css({position:"absolute",top:c+r*u,left:l+a*h,"background-image":'url("'+s+'")',"background-position":-a*h+"px -"+r*u+"px","background-size":4*a+"px "+4*r+"px"}).width(a).height(r));o.after(d).hide(0);d.each(function(t){f(this).delay(50*t).fadeOut(150,function(){t==d.length-1&&0<d.length&&(d.remove(),i(e))})})}else g.effects.fade.animateOut(e,t,i,n)}},flip:{animateIn:function(t,e,i,n,o){var a,r=t.DOMObject(),s=g.utils.supportsCSS("transform"),l=g.utils.supportsCSS("transformOrigin");s&&l&&"image"==t.Type()?(r.loudStop(!1,!1).css({top:e.y,left:e.x,"-my-anim-step":0}).width(e.width).height(e.height),a=o?180:-180,r.fadeIn(0).css(l,"50% 50%"),r.animate({"-my-anim-step":100},{step:function(t){r.css(s,"perspective(600px) rotateY("+Math.floor(a-a*t/100)+"deg)");r.css("opacity",50<t?(t-50)/50:0)},complete:function(){f.isFunction(n)&&n(t)}})):g.effects.fade.animateIn(t,e,i,n,o)},animateOut:function(t,e,i,n){var o,a=t.DOMObject(),r=g.utils.supportsCSS("transform"),s=g.utils.supportsCSS("transformOrigin");r&&s&&"image"==t.Type()?(a.loudStop(!1,!1).css("-my-anim-step",0),o=n?-180:180,a.fadeIn(0).css(s,"50% 50%"),a.animate({"-my-anim-step":100},{step:function(t){a.css(r,"perspective(600px) rotateY("+Math.floor(o*t/100)+"deg)");a.css("opacity",50<t?0:(50-t)/50)},complete:function(){f.isFunction(i)&&i(t)}})):g.effects.fade.animateOut(t,e,i,n)}}}})}(_jq,x5engine),function(s,n,o,i){"use strict";i.settings.fallback.animFrame&&(n.requestAnimFrame=n.requestAnimationFrame||n.webkitRequestAnimationFrame||n.mozRequestAnimationFrame||n.oRequestAnimationFrame||n.msRequestAnimationFrame||function(t){return n.setTimeout(function(){t((new Date).getTime())},1e3/60)},n.cancelAnimFrame=n.cancelAnimationFrame||n.webkitCancelAnimationFrame||n.mozCancelAnimationFrame||n.oCancelAnimationFrame||n.msCancelAnimationFrame||function(t){n.clearTimeout(t)});"onhashchange"in n||!i.settings.fallback.onhashchange||function t(e){var i=n.top.location.hash;i!=e&&o(n).triggerHandler("hashchange");n.setTimeout(function(){t(i)},200)}(n.top.location.hash);i.settings.fallback.json&&("undefined"==typeof JSON&&(this.JSON={}),"function"!=typeof JSON.stringify&&(JSON.stringify=function(t){var e=typeof t,i,n,o,a;if("object"!=e||null===t)return"string"==e&&(t='"'+t+'"'),String(t);o=[];a=t&&t.constructor==Array;for(i in t)"string"==(e=typeof(n=t[i]))?n='"'+n+'"':"object"==e&&null!==n&&(n=JSON.stringify(n)),o.push((a?"":'"'+i+'":')+String(n));return(a?"[":"{")+String(o)+(a?"]":"}")}),"function"!=typeof JSON.parse&&(JSON.parse=function(t){if(null===t)return null;if("string"==typeof t&&(t=o.trim(t))&&/^[\],:{}\s]*$/.test(t.replace(/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,"@").replace(/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return new Function("return "+t)();throw"Invalid JSON: "+t;}));n.imStorage=function(){try{if(!("localStorage"in n&&n.localStorage))return;var t=n.sessionStorage;return t.setItem("test","1"),t.removeItem("test"),1}catch(t){return}}()?{setItem:function(t,e){n.localStorage.setItem(i.settings.siteId+"_"+t,e)},getItem:function(t){return n.localStorage.getItem(i.settings.siteId+"_"+t)},removeItem:function(t){n.localStorage.removeItem(i.settings.siteId+"_"+t)}}:{setItem:function(t,e){o.imCookie(t,e,{path:"/"})},getItem:function(t){return t=o.imCookie(t),t||null},removeItem:function(t){o.imCookie(t,"",{path:"/"})}};"function"!=typeof s.elementsFromPoint&&(s.elementsFromPoint=function(t,e){for(var i,n,o,a=[],r=[];(i=s.elementFromPoint(t,e))&&-1===a.indexOf(i)&&null!==i;)a.push(i),r.push({value:i.style.getPropertyValue("pointer-events"),priority:i.style.getPropertyPriority("pointer-events")}),i.style.setProperty("pointer-events","none","important");for(n=r.length-1;0<=n;n--)o=r[n],a[n].style.setProperty("pointer-events",o.value||"",o.priority);return a})}(document,window,$,x5engine),function(u,h){"use strict";u.extend(h,{imForm:{constants:{mark:"imFormMark"},initForm:function(t,e,i){e=e||!1;i=u.extend(!0,{base:"",offlineMessage:"",jsid:""},i);var n=u(t);n.append('<input type="hidden" value="'+i.jsid+'" name="imJsCheck" />');n.find("img").not(".imDatePickerIcon").each(function(){u(this).on("mouseover",function(){h.imTip.Show(u(this),{position:"top"})})});e&&n.find(":input").each(function(){var t=u(this),e=u("#"+t.attr("id")+"_tip");0<e.length&&t.on("focus click",function(){e.triggerHandler("mouseover");t.one("blur",function(){e.triggerHandler("mouseout")})})});n.find(".datepicker").each(function(){var t=u(this).attr("data-format");t&&h.imDatePicker(u(this),{format:t,icon:"true"==u(this).attr("data-showicon")})});u("[class*=valMaxLength], [class*=valLength]").each(function(){u(this).attr("class").match(/Length\[([0-9]+)\]/g);var t=RegExp.$1;u(this).keyup(function(){u(this).val(u(this).val().substring(0,t))})});u("[class*=valDate]").keypress(function(t){return t=t.charCode||t.keyCode,8==t||37==t||39==t||46==t||9==t||/^[0-9\/\.]+$/g.test(u(this).val()+String.fromCharCode(t))});u("[class*=valTelephone]").keypress(function(t){return t=t.charCode||t.keyCode,8==t||37==t||39==t||46==t||9==t||/^[0-9\s\-\(\)]+$/g.test(u(this).val()+String.fromCharCode(t))});h.imForm.setPagination(t,i);h.imForm.lockCopyPaste(t);h.utils.switchFocus(t);h.imForm.showCaptcha(t)},activeFocusPasswordPolicy:function(e){u("input[type=password].requirePolicy").each(function(){var t=u(this);t.on("focus",function(){h.imForm.showPasswordPolicy(t,e)})})},showPasswordPolicy:function(t,e){var n,o,i;if(t=u(t),t.addClass(h.imForm.constants.mark),null!=e){if(i="",Array.isArray(e)){for(n=0;n<=e.length;n++)o=h.l10n.get(e[n]),i=i+(o="form_password_length"==e[n]&&-1!==o.indexOf("{0}")?o.replace("{0}",h.passwordpolicy.getMinimumCharacters()):o)+"<br>";"<br><br>"==i.substring(i.length-8)&&(i=i.substring(0,i.length-8))}else i=h.l10n.get(e);null!=t&&(t.removeClass(h.imTip.constants.locked),h.imTip.Show(t,{position:"right",text:i,unique:!1,classes:"textLeft",persistant:!0,hideOnFocus:!1,hideOnBlur:!0}))}},showCaptcha:function(t){var e;(t=u(t)).length&&(!1!==(e=h.captcha.instance.create(t))?t.data("cpt-res",e):t.removeData("cpt-res"))},resetCaptcha:function(t){t=t.data("cpt-res");t&&t.reset()},checkCaptcha:function(t){return(t=u(t)).length?(t=t.data("cpt-res"),!t||t.check()):!1},getCaptchaField:function(t){return(t=u(t)).length&&(t=t.data("cpt-res"),t)?t.getCaptchaField():u()},setPagination:function(a,e){function i(e,i){var t=u(a+"_next"),n=u(a+"_prev"),o=u(a+"_submit");i=i||400;t.add(n).attr("disabled",!1);u("."+h.imTip.constants.classId).remove();u("."+h.imForm.constants.mark).removeClass(h.imForm.constants.mark);1==e?(n.add(o).hide(0),t.show(0)):0===l.find("[pageCount="+(e+1)+"]").length?(n.add(o).show(0),t.hide(0)):(n.add(o).hide(0),n.add(t).show(0));l.find("fieldset").each(function(){var t=u(this);parseInt(t.attr("pageCount"),10)==e?t.css({display:"block",height:"auto"}).children("div").slideDown(i):t.children("div").slideUp(i,function(){t.height(0).css("display","none")})});u(a+"_pageCounter").val(e)}function t(){var t=parseInt(u(a+"_pageCounter").val(),10);!0===h.imForm.validate(l.find("fieldset[pageCount="+t+"]"),{showAll:!0,paginate:!0,type:s})&&(0<l.find("[pageCount="+ ++t+"]").length?i(t):h.imForm.submit(a,e))}var n,o,r=0,s=(e=e||{}).type||"tip",l=u(a),c=!1,d="";l.find("fieldset").each(function(){var t=u(this);(t.hasClass("newPage")||0===r)&&r++;t.attr("pageCount",r)});n=1<r?(l.append('<input type="hidden" name="'+a.replace("#","")+'_pageCounter" id="'+a.replace("#","")+'_pageCounter" value="1" />'),l.children("div:last").append('<input type="button" id="'+a.replace("#","")+'_prev" value="'+h.l10n.get("cart_goback")+'"/>'),l.children("div:last").append('<input type="button" id="'+a.replace("#","")+'_next" value="'+h.l10n.get("cart_gonext")+'"/>'),d=h.l10n.get("form_submit"),(o=l.find("input[type=submit]"))&&(o.data("submitValue")&&(d=o.data("submitValue")),o.remove()),l.children("div:last").append('<input type="button" id="'+a.replace("#","")+'_submit" value="'+d+'"/>'),l.find(a+"_submit").fadeOut(0).css("margin-right","4px"),u(a+"_prev").click(function(){var t=parseInt(u(a+"_pageCounter").val(),10);0<--t&&(u(a+"_pageCounter").attr("value",t),i(t))}).css("margin-right","4px"),u(a+"_next").click(t).css("margin-right","4px"),i(1,1),function(){t()}):(d=l.find("input[type=submit]").attr("value"),l.find("input[type=submit]").after('<input type="button" id="'+a.replace("#","")+'_submit" value="'+d+'"/>'),l.find("input[type=submit]").remove(),function(){h.imForm.submit(a,e)});u(a+"_submit").click(function(){h.imForm.submit(a,e)});l.submit(function(){return c=!1,n(),!1});l.find("input").keypress(function(t){40==t.keyCode?c=!0:13==t.which&&(c||n(),c=!1)}).focus(function(){c=!1})},lockCopyPaste:function(t){u(t).find("input[class*=equalTo]").each(function(){for(var t,e=u(this).attr("class").split(" "),i=function(t){return t.preventDefault(),!1},n=0;n<e.length;n++)"equalTo"==e[n].substring(0,7)&&(t=e[n].substring(8,e[n].length-1),u("#"+t).on("contextmenu cut copy paste",i))});u(t).find("input[class*=equalTo]").on("contextmenu cut copy paste",function(t){return t.preventDefault(),!1})},validate:function(o,l){function r(t,e){var i=u(t).is("input[type=radio]")?u(t).parent().parent().parent().parent().find("label").find("span").html():0<u("label[for="+u(t).attr("id")+"] span").length?u("label[for="+u(t).attr("id")+"] span").html():0<u("label[for="+u(t).attr("id")+"]").length?u("label[for="+u(t).attr("id")+"]").html():u(t).attr("placeholder"),o,a,n,r,s;if(u(t).addClass(h.imForm.constants.mark),u(t).is(":radio")&&u(t).css("border","none"),null!=e&&"form_mandatory"==e&&u(t).addClass("mandatoryInvalid"),null!=e&&"form_captcha"==e&&u(t).addClass("captchaInvalid"),null!=e&&(!d||l.showAll)){if(d=!0,n="",Array.isArray(e)){for("form_password"==e[0]&&(l.classes=null==l.classes?"textLeft":l.classes+=" textLeft"),o=0;o<=e.length;o++)a=h.l10n.get(e[o]),n=n+(a="form_password_length"==e[o]&&-1!==a.indexOf("{0}")?a.replace("{0}",h.passwordpolicy.getMinimumCharacters()):a)+"<br>";"<br><br>"==n.substring(n.length-8)&&(n=n.substring(0,n.length-8))}else n=h.l10n.get(e);if(null!=i){for(s=!0;":"==i.charAt(i.length-1)||"*"==i.charAt(i.length-1)||" "==i.charAt(i.length-1);)i=i.substr(0,i.length-1);try{n=n.replace(/\[FIELD\]/g,"'"+i+"'")}catch(t){}switch(l.type){case"alert":alert(n);break;case"popup":(new h.utils.Gui).showPopUp({text:n});break;default:u(t).attr("class")&&u(t).attr("class").match(/datePicker\[(.*),([\d]{1})\]/)&&0!=u(t).next("span").find("img.imDatePickerIcon").is("img")?r=u(t).next("span").find(".imDatePickerIcon"):u(t).is("input[type=radio]")?(u(t).one("click",function(){u("[tiptarget="+u(this).attr("id").substring(0,u(this).attr("id").lastIndexOf("_"))+"_target]").remove();u("label[for="+u(t).attr("id").substring(0,u(t).attr("id").lastIndexOf("_"))+"] span").removeClass(h.imTip.constants.locked).attr("id","")}),(r=u(t).parent().parent().parent()).attr("id",u(t).attr("id").substring(0,u(t).attr("id").lastIndexOf("_"))+"_target"),0<u("[tiptarget="+u(t).attr("id").substring(0,u(t).attr("id").lastIndexOf("_"))+"_target]").length&&(r=null)):r=u(t).next("img").is("img")?(s=u(t),u(t).next("img")):u(t).nextAll("iframe.imFrame\\["+u(t).attr("id")+"\\]").is("iframe")?(s=u(t),u(t).nextAll("iframe.imFrame\\["+u(t).attr("id")+"\\]")):u(t);null!=r&&(r.removeClass(h.imTip.constants.locked),h.imTip.Show(r,{position:"right",text:n,unique:!1,classes:l.classes,persistant:!0,hideOnFocus:s}))}}}c=!1}var t,e,c=!0,d=!1,i=u(o).attr("id");return"popup"!=(l=u.extend(!0,{type:"tip",showAll:!1,paginate:!1},l)).type&&"alert"!=l.type||(l.showAll=!1),(o=u(o)).find("*").removeClass(h.imForm.constants.mark),"tip"==l.type&&u("."+h.imTip.constants.classId).remove(),0<o.find("[type=submit]").length&&(t=u(o).find("[type=submit]").attr("value"),o.find("input[type=submit]").attr("disabled",!0).attr("value",h.l10n.get("form_validating"))),0<o.find(i+"_fakebutton2").length&&(e=o.find(id+"_fakebutton2").attr("value"),o.find(i+"_fakebutton2").attr("disabled",!0).attr("value",h.l10n.get("form_validating"))),o.find(".mandatory").removeClass("mandatoryInvalid"),o.find("[class*=striptags]").each(function(){for(var t=u(this).attr("class").split(" "),e=0;e<t.length;e++)"striptags"==t[e].substring(0,9)&&u(this).val(u(this).val().replace(/(<([^>]+)>)/gi,""))}),o.find("[class*=trim]").each(function(){for(var t=u(this).attr("class").split(" "),e=0;e<t.length;e++)"trim"==t[e].substring(0,4)&&u(this).val(u.trim(u(this).val()))}),o.find(".mandatory").not(":checkbox").not(":radio").each(function(){var t=u(this).val();t||0===t||r(this,"form_mandatory")}),o.find(".mandatory:checkbox").each(function(){0==this.checked&&r(this,"form_mandatory")}),o.find(".mandatory:radio").each(function(){0==u(".mandatory[name="+u(this).attr("name")+"]:checked").length&&r(this,"form_mandatory")}),o.find("[class*=equalTo]").each(function(){for(var t,e=u(this).attr("class").split(" "),i=0;i<e.length;i++)"equalTo"==e[i].substring(0,7)&&(t=e[i].substring(8,e[i].length-1),u(this).val()!=u("#"+t).val()&&r(this,"form_equal"))}),o.find("[class*=valMinLength]").each(function(){for(var t,e=u(this).attr("class").split(" "),i=0;i<e.length;i++)"valMinLength"==e[i].substring(0,12)&&(t=parseInt(e[i].substring(13,e[i].length-1)),u(this).val().length<t&&r(this,"form_length"))}),o.find("[class*=valLength]").each(function(){for(var t,e=u(this).attr("class").split(" "),i=0;i<e.length;i++)"valLength"==e[i].substring(0,9)&&(t=parseInt(e[i].substring(10,e[i].length-1)),u(this).val().length!=t&&r(this,"form_length"))}),o.find(".valChars").each(function(){""!=u(this).val()&&0==/^\D*$/.test(u(this).val())&&r(this,"form_characters")}),o.find(".valGenTelephone").each(function(){""!=u(this).val()&&0==/^[0-9\-\.\/\(\)\s]*$/.test(u(this).val())&&r(this,"form_telephone")}),o.find(".valTelephone").each(function(){""!=u(this).val()&&0==/^[0-9 \-\.\/]*$/.test(u(this).val())&&r(this,"form_telephone")}),o.find(".valUSTelephone").each(function(){""!=u(this).val()&&0==/^\([1-9]\d{2}\)\s?\d{3}\-\d{4}$/.test(u(this).val())&&r(this,"form_telephone")}),o.find(".valDate").each(function(){""!=u(this).val()&&0==/^\d{1,2}(\-|\/|\.)\d{1,2}\1\d{2}$/.test(u(this).val())&&r(this,"form_date")}),o.find(".valDate2").each(function(){""!=u(this).val()&&0==/^\d{1,2}(\-|\/|\.)\d{1,2}\1\d{2,4}$/.test(u(this).val())&&r(this,"form_date")}),o.find(".valUSDate").each(function(){""!=u(this).val()&&0==/^\d{1,2}(\-|\/|\.)\d{1,2}\1\d{4}$/.test(u(this).val())&&r(this,"form_date")}),o.find("[class*=datePicker]").each(function(){var t=u(this);t.attr("class").match(/datePicker\[(.*),([\d]{1})\]/);""!=t.val()&&""!=RegExp.$1&&""!=RegExp.$2&&(t="^"+(t=(t=RegExp.$1).replace(/\//g,"\\/").replace(/\s/g,"\\s+").replace(/\-/g,"\\-").replace(/\./g,"\\.").replace(/\[dd\]/g,"\\d{1,2}").replace(/\[mm\]/g,"\\d{1,2}").replace(/\[yy\]/g,"\\d{2}").replace(/\[yyyy\]/g,"\\d{4}").replace(/\[DD\]/g,"[^\\d]+").replace(/\[MM\]/g,"[^\\d]+").replace(/\[D\]/g,"[^\\d]+").replace(/\[M\]/g,"[^\\d]+"))+"$",new RegExp(t).test(u(this).val())||r(this,"form_date"))}),o.find("[class*=valCDate]").each(function(){for(var t,e=u(this).attr("class").split(" "),i=0;i<e.length;i++)""!=u(this).val()&&"valCDate"==e[i].substring(0,8)&&(t="^"+(t=(t=(t=e[i].substring(9,e[i].length-1)).replace(/\_/g,"\\s").replace(/\//g,"\\/").replace(/\-/g,"\\-").replace(/\./g,"\\.").replace(/\[dd\]/g,"\\d{1,2}").replace(/\[mm\]/g,"\\d{1,2}").replace(/\[yy\]/g,"\\d{2}").replace(/\[yyyy\]/g,"\\d{4}").replace(/\[DD\]/g,"[\\wìòàùèé']+").replace(/\[MM\]/g,"[\\wìòàùèé']+").replace(/\[D\]/g,"[\\wìòàùèé']+")).replace(/\[M\]/g,"[\\wìòàùèé']+"))+"$",new RegExp(t).test(u(this).val())||r(this,"form_date"))}),o.find(".valEmail").each(function(){var t=u(this).val();0<t.length&&!h.utils.isValidEmail(t)&&r(this,"form_email")}),o.find(".valPassword").each(function(){var t=u(this),e=t.val();0<e.length&&t.hasClass("requirePolicy")&&!h.passwordpolicy.isValidPassword(e)&&r(this,h.passwordpolicy.getPolicy())}),o.find(".valCF").each(function(){u(this).val(u(this).val().toUpperCase());""!=u(this).val()&&0==/^[A-Z]{6}\d{2}[A-Z]\d{2}[A-Z]\d{3}[A-Z]$/.test(u(this).val())&&0==/^[0-9]+$/.test(u(this).val())&&r(this,"form_CF")}),o.find(".valURL").each(function(){""!=u(this).val()&&0==/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/.test(u(this).val())&&r(this,"form_URL")}),o.find(".valUSZIP").each(function(){u(this).val(u(this).val().toUpperCase());""!=u(this).val()&&0==/(^\d{5}$)|(^\d{5}-\d{4}$)/.test(u(this).val())&&r(this,"form_format")}),o.find("[class*=valCustom]").each(function(){for(var t,e=u(this).attr("class").split(" "),i=0;i<e.length;i++)""!=u(this).val()&&"valCustom"==e[i].substring(0,9)&&(t=function(t){for(var e="",i=0;i<t.length;i++)switch(t.charAt(i)){case"N":e+="[0-9]{1}";break;case"F":e+="[0-9]{0,1}";break;case"A":e+="[a-zA-Z]{1}";break;case"Z":e+="[a-zA-Z]{0,1}";break;default:e+=("[]_\\(){}-.+*?".indexOf(t.charAt(i))?"\\":"")+t.charAt(i)}return e="^"+e+"$",new RegExp(e)}(t=e[i].substring(10,e[i].length-1)),""!=u(this).val()&&""!=u(this).val()&&0==t.test(u(this).val())&&r(this,"form_format"))}),o.find("[class*=valVAT]").each(function(){return!0}),o.find("input.valDisclaimer").each(function(){this.checked||r(u(this),"form_err_disclaimer")}),o.find("input[data-extensions]").each(function(){var t,e,i=u(this),n=!1,o=i.val(),a=o.lastIndexOf("."),i=i.attr("data-extensions");if(i&&o&&-1<a){for(o=o.substring(a+1),t=i.split(","),e=0;e<t.length;e++)o==t[e]&&(n=!0);n||r(u(this),"form_format")}}),h.imForm.checkCaptcha(o)||(h.imForm.resetCaptcha(o),r(h.imForm.getCaptchaField(o),"form_captcha")),o.find("input[type=submit]").attr("disabled",!1).attr("value",t),o.find(i+"_fakebutton2").attr("disabled",!1).attr("value",e),o.find("[class*=valQuestion]").each(function(){var n,t=u(this),e=t.attr("class"),i=u(o).attr("action");e.match(/valQuestion\[([A-Za-z0-9]+)\]/);h.utils.isOnline()?""!=RegExp.$1&&(n=t,u.ajax({type:"POST",url:i,data:{action:"check_answer",id:RegExp.$1,answer:n.val()},async:!1,cache:!1,success:function(t){"0"===t&&r(u(n),"form_question")}})):t.attr("data-answer").replace(/\"/g,"'").replace(/\</g,"&lt;").replace(/\>/g,"&gt;")!=t.val().replace(/\"/g,"'").replace(/\</g,"&lt;").replace(/\>/g,"&gt;")&&r(t,"form_question")}),c},submit:function(t,e){t=u(t);h.imForm.validate(t,e)&&(h.utils.isOnline()?t.off("submit").submit():h.utils.showOfflineMessage(e.offlineMessage))}}})}(_jq,x5engine),function(l,c){"use strict";function e(){function t(t){C&&t.preventDefault()}l.each(b,function(){var t=l(this);t.on("rowEntersInViewport",function(){r(t[0])})});l("body").on("touchstart",function(){x=!0});l("body").on("touchend",function(){x=!1;p&&r(p)});var e=!!c.utils.isAddEventListenerPassiveOptionSupported()&&{passive:!1};window.addEventListener("wheel",t,e);window.addEventListener("mousewheel",t,e);window.addEventListener("DOMMouseScroll",t,e);window.addEventListener("MozMousePixelScroll",t,e)}function o(){void 0!==n&&clearInterval(n);n=setInterval(i,500);y||l("#imPageRowScrollButton").fadeOut()}function i(){l("#imPageRowScrollButton").is(":hover")||l("#imPageRowScrollButton").fadeOut()}function r(t,e){if(e=e||!1,x)p=t;else if(void 0===p||h!==p){var i=(document.documentElement||document.body.parentNode||document.body).scrollTop||window.pageYOffset,n=window.innerHeight,o=t.offsetHeight,a=l(t).offset().top,r=a+o,s=i;if(k||Math.round(a-i)<-1&&1<Math.round(r-(i+n)))return;if(0<i||e){if(s=!(Math.round(i-a)<-1)&&1<Math.round(o-n)?o+a-n:a,Math.abs(_-s)<1||null!=m&&m!=t)return v=t,0;m=t;_=s;a={duration:d.autoscroll.autoscrollDuration,start:function(){l("body").trigger("fullHeightRowsAutoscrollAnimationInProgress",t)},complete:function(){l("body").trigger("fullHeightRowsAutoscrollAnimationCompleted",t)}};c.utils.scrollTo(s,a)}}else p=void 0}var d,s,a,u,h,p,n,f,g,m,v,b,w,y,x,C,k,_;l.extend(c,{fullHeightRows:(b=[],k=C=x=y=!(w=[]),_=-1,{start:function(t){d=l.extend(!0,{scrollingEffect:"none",autoscroll:{active:!1,autoscrollDuration:1e3},scrollButton:{show:!1,url:null,type:"visible",width:20,height:20,distanceBottom:10},bullets:{show:!1,url:null,size:22,position:"right",distanceLeft:10,distanceRight:10}},t);s=l("#imContent");u=l(".imPageRow:visible:last").offset().top;l(".imPageRow").each(function(){var n=l(this);n.on("rowEntersInViewport",function(){var t,e,i;a=n;d.scrollButton.show&&(t=l("<div />"),e=d.scrollButton,i=(document.documentElement||document.body.parentNode||document.body).scrollTop||window.pageYOffset,0==l("#imPageRowScrollButton").length&&(t.attr("id","imPageRowScrollButton").width(e.width).height(e.height).css({position:"fixed","z-index":5e3,bottom:e.distanceBottom,left:"calc(50% - "+e.width/2+"px)","background-image":'url("'+e.url+'")',"background-repeat":"no-repeat",cursor:"pointer","background-position":"0 0",display:"none"}),s.append(t)),t.click(function(){_=-1;var t=0<a.nextAll(".imPageRow:first").length?a.nextAll(".imPageRow:first"):null,e=(document.documentElement||document.body.parentNode||document.body).scrollTop||window.pageYOffset,i=a.offset().top;1<Math.round(i-e)?r(a[0],!0):null!=t&&(r(t[0],!0),a=t)}),"visibleonmousemove"!=d.scrollButton.type&&(0<u-i&&(y=!0,l("#imPageRowScrollButton").fadeIn()),l(".imPageRow:visible:last").on("rowFillsViewport",function(){y=!1;l("#imPageRowScrollButton").fadeOut()})),y=!n.is(l(".imPageRow:visible:last"))||0!=w.length,"visibleonmousemove"==d.scrollButton.type&&o());-1==w.indexOf(n)&&w.push(n)});b.push(n)});l(".imPageRow:visible:last").on("rowFillsViewport",function(){d.scrollButton.show&&(y=!1,"visibleonmousemove"==d.scrollButton.type&&o())});l("body").on("fullHeightRowsAutoscrollAnimationInProgress",function(){C=!0});l("body").on("fullHeightRowsAutoscrollAnimationCompleted",function(t,e){m=void 0;C=!1;v==(h=e)?v=void 0:null!=v&&r(v)});l("body").on("pageToTopAnimationInProgress scrollToAnchorAnimationInProgress",function(){_=-1;k=!0});l("body").on("pageToTopAnimationCompleted scrollToAnchorAnimationCompleted",function(){k=!1});!c.responsive.isMobileDevice()&&d.autoscroll.active&&e();d.scrollButton.show&&"visibleonmousemove"==d.scrollButton.type&&l(window).mousemove(function(t){y&&(f!==t.clientX||g!==t.clientY)&&(clearInterval(n),n=setInterval(i,500),l("#imPageRowScrollButton").is(":hidden")&&l("#imPageRowScrollButton").fadeIn());f=t.clientX;g=t.clientY});d.bullets.show&&function(){var t=b.length,e=l("<div />"),i="",n=d.bullets,o=n.position,a;for(e.attr("id","imPageRowBullets").width(n.size).height(n.size*t).css({position:"fixed","z-index":5e3,top:"calc(50% - "+n.size*t/2+"px)",left:"right"==o?"auto":n.distanceLeft,right:"left"==o?"auto":n.distanceRight,display:"none"}),s.append(e),a=0;a<t;a++)i+='<div data-row="'+b[a].attr("id")+'"><\/div>';e.html(i).find("div").css({display:"block","background-image":'url("'+n.url+'")',"background-repeat":"no-repeat",cursor:"pointer","background-position":"0 0"}).width(n.size).height(n.size).click(function(t){t=l("#"+l(t.target).data("row"));r(t[0],!0)});e.fadeIn();l.each(b,function(){var t=l(this);t.on("rowFillsHalfViewport",function(){e.find("div").css("background-position","0 0");e.find('[data-row="'+t.attr("id")+'"]').css("background-position",-n.size+"px 0")})})}();c.pageRowsObserver.start()}})})}(_jq,x5engine),function(yt,xt){"use strict";yt.extend(xt,{gallery:function(t){function F(){var t=l;(++t>=s.length||null===s[t]||void 0===s[t])&&(t=0);L(t,(c||i)&&(null==m||"none"==m.css("display")),!1,!0)}function D(){var t=l;(--t<0||null===s[t]||void 0===s[t])&&(t=s.length-1);L(t,(c||i)&&(null==m||"none"==m.css("display")),!0,!0)}function A(){return i||(i=!0,function(){lt!==null&&lt.Play()}(),j.trigger(O)),n=setTimeout(function(){F();null!==n&&(clearTimeout(n),n=null);A()},s[l].AutoplayTime()),1}function E(){return function(){lt!==null&&lt.Pause()}(),null!==n&&(clearTimeout(n),n=null,s[l].Stop()),i=!1,j.trigger(T),1}function H(i){if(void 0===a.media[i]||null===a.media[i])return null!==o&&(o.remove(),o=null),"bottom"===a.thumbs.position||"top"===a.thumbs.position?$.width(s.length*z):"embed"!==a.thumbs.position&&"none"!==a.thumbs.position&&$.height(s.length*z),0;0===i&&W.prepend(xt.settings.imLoadingAnimation);var e=s.length,t=a.media[i].width,n=a.media[i].height;t>a.width&&(n=a.width/t*n,t=a.width);n>a.height&&(t=a.height/n*t,n=a.height);new xt.mediaObject(yt.extend(a.media[i],{showControls:a.media[i].showControls||c,touchDevice:c,contentWidth:P().width,contentHeight:P().height,width:t,height:n,load:function(t){s[e]=t;e===a.startFrom&&(W.find(".imLoadAnim").remove(),null===o&&null!=$&&(o=yt("<div />").css({float:"left"}).width(a.thumbs.size).height(a.thumbs.size).prepend(xt.settings.imLoadingAnimation),$.append(o)),L(a.startFrom),!0===a.autoplay&&A());var n=t.GetThumb();n.click(function(){E();L(e,("embed"!==a.thumbs.position||c)&&(!m||"none"==m.css("display")))}).css({float:"left",display:"none",cursor:"pointer"}).width(a.thumbs.size).height(a.thumbs.size);"bottom"==a.thumbs.position||"top"==a.thumbs.position?n.css("margin","0 "+Math.ceil(B)+"px 0 "+Math.floor(B)+"px"):"left"!=a.thumbs.position&&"right"!=a.thumbs.position||n.css("margin",Math.ceil(B)+"px 0 "+Math.floor(B)+"px 0");"embed"==a.thumbs.position&&n.mouseenter(function(){yt(".im-big-thumb").remove();var e=n.offset().left-W.offset().left,i=yt("<img />").addClass("im-big-thumb");W.append(i);i.one("load",function(){var t=Math.min(P().width-i.width(),Math.max(0,e+(a.thumbs.size-i.width())/2));i.css("left",t).fadeIn(250)}).css({position:"absolute",display:"none",bottom:a.controlBar.height}).attr("src",n.attr("src")).attr("alt","");n.off("mouseleave").mouseleave(function(){null!==i&&i.stop(!1,!1).fadeOut(250,function(){i.remove()})})});"bottom"!==a.thumbs.position&&"top"!==a.thumbs.position||$.width((s.length+1)*z);o?o.before(n):$&&$.append(n);n.fadeIn();c&&!a.disableTouch&&s[e].AfterMove(function(t,e){t.preventDefault();a.controlBar.show&&1<a.media.length&&(g.html(l+1+"/"+s.length),u.stop(!1,!1).fadeIn(),h&&(clearTimeout(h),h=null),h=setTimeout(function(){u.fadeOut()},2e3));S&&("false"==S.attr("data-hide")?S.attr("data-hide","true"):S.stop(!1,!1).fadeOut(),M&&(clearTimeout(M),M=null),M=setTimeout(function(){S.stop(!1,!1).fadeIn()},7e3));E();((Math.abs(e.offsetX)>Math.abs(e.offsetY)?e.offsetX:e.offsetY)<0?F:D)()});null!==g&&g.html(l+1+"/"+s.length);H(i+1)},error:function(){H(i+1)}}))}function P(){return{width:"right"==a.thumbs.position||"left"==a.thumbs.position?a.width-a.thumbs.size:a.width,height:"top"==a.thumbs.position||"bottom"==a.thumbs.position?a.height-a.thumbs.size:a.height}}var e,a=yt.extend(!0,{target:"",media:[],startFrom:0,width:400,height:400,backgroundColor:"#f7f7f7",helperBg:"black",swipeImage:"res/imSwipe.png",thumbsArrowLImage:"res/imArrL.png",thumbsArrowRImage:"res/imArrR.png",thumbsArrowUImage:"res/imArrT.png",thumbsArrowDImage:"res/imArrB.png",description:{backgroundColor:"#444",color:"white",alpha:.8,alignment:"center",fontFamily:"Arial",fontSize:14,fontStyle:"normal",fontWeight:"normal"},thumbs:{position:"none",number:4,size:20},disableTouch:!1,autoplay:!1,music:null,controlBar:{show:!1,height:28,color:"#f7f7f7",alpha:1,image:null},buttons:{playImage:"",pauseImage:"",nextImage:"",prevImage:""},random:!1,fullScreen:!1,slideshow:{active:!1,nextPrevMode:"hover",buttonPrev:{url:"",x:0,y:0,width:0,height:0},buttonNext:{url:"",x:0,y:0,width:0,height:0}},bullets:{show:!1,url:null,size:22,positionX:"center",positionY:"bottom",distanceTop:30,distanceBottom:30,distanceLeft:10,distanceRight:10}},t),r=yt(a.target),s=[],l=null,o=null,c=(navigator.userAgent.toLowerCase(),yt("html").hasClass("touchevents")),d=null,i=!1,n=null,u=null,h=null,p=0,f=0,g=null,m=null,v=null,b=null,w=null,y=null,x=null,C=null,k=xt.utils.hex2rgb(a.controlBar.color,-50,-50,-50),_=xt.utils.hex2rgb(a.controlBar.color,-20,-20,-20,!0),I=yt.Callbacks(),S=(yt(document),yt("body"),yt(window),null),M=null,O="autoplay_start",T="autoplay_stop",q,U,$,lt,ft,gt,mt,vt,bt,wt;a.thumbs.number="top"===a.thumbs.position||"bottom"===a.thumbs.position?Math.floor(a.width/a.thumbs.size):Math.floor(a.height/a.thumbs.size);a.thumbs.number=Math.min(a.thumbs.number,a.media.length);B=("bottom"==a.thumbs.position||"top"==a.thumbs.position?a.width:a.height)%(a.thumbs.number*a.thumbs.size);var B=Math.round(B/a.thumbs.number/2),z=a.thumbs.size+2*B,L=function(t,e,i,n){if(l===t||null==t||null===s[t]||void 0===s[t])return!1;null==e&&(e=!0);null==i&&(i=!1);null==n&&(n=!1);s[t].DOMObject().css("display","none");null!=l?(s[l].DOMObject().after(s[t].DOMObject()),s[l].AnimateOut(W,function(t){t.DOMObject().detach()},i)):W.prepend(s[t].DOMObject());s[l=t].AnimateIn(W,function(){n&&R(l);I.fire(l)},i);null!==g&&g.html(l+1+"/"+s.length);var o=s[l].GetDescription();null!=o&&""!==o?(null===d&&(d=yt("<div />").attr("id",r.attr("id")+"_description").css({position:"absolute",left:0,right:0,bottom:0,"background-color":a.description.backgroundColor,display:"none",color:a.description.color,"text-align":a.description.alignment,padding:2,"font-family":a.description.fontFamily,"font-size":a.description.fontSize,"font-style":a.description.fontStyle,"font-weight":a.description.fontWeight}),W.append(d)),d.stop(!1,!1).fadeOut(250,function(){d.html(o.replace(/\n/g,"<br />"));e&&d.stop(!1,!1).fadeTo(250,a.description.alpha)}),c||r.mouseenter(function(){null!==d&&d.stop(!1,!1).fadeOut(250)}).mouseleave(function(){null!==d&&d.stop(!1,!1).fadeTo(250,a.description.alpha)})):null!==d&&d.stop(!1,!1).fadeOut(250,function(){d.detach();d=null})},R=function(t){return!("embed"!=a.thumbs.position&&"none"!=a.thumbs.position&&a.thumbs.number>=s.length)&&!("embed"==a.thumbs.position&&f/a.thumbs.size>=s.length)&&(t=Math.max(0,Math.min(t,s.length)),void(null!=$&&(e=t,t="embed"!=a.thumbs.position?(e="top"==a.thumbs.position||"bottom"==a.thumbs.position?z*(e+1)-N.width()/2:z*(e+1)-N.height()/2,Math.abs(e%z)):(e=a.thumbs.size*(e+1)-N.width()/2,Math.abs(e%a.thumbs.size)),z/2<t?e-=t:e+=t,"top"==a.thumbs.position||"bottom"==a.thumbs.position||"embed"==a.thumbs.position?$.stop(!1,!1).animate({left:Math.min(0,Math.max(-e,-$.width()+N.width()))}):$.stop(!1,!1).animate({top:Math.min(0,Math.max(-e,-$.height()+N.height()))}))));var e},j=yt("<div />").css({position:"relative","background-color":a.backgroundColor,margin:"0 auto"}).width(a.width).height(a.height),W=yt("<div />").css({overflow:"hidden",position:"absolute",top:"top"!==a.thumbs.position?"0":"auto",bottom:"bottom"!==a.thumbs.position?"0":"auto",left:"left"!==a.thumbs.position?"0":"auto",right:"right"!==a.thumbs.position?"0":"auto",margin:"0 auto"}).width(P().width).height(P().height),N=yt("<div />");j.append(W);"embed"!==a.thumbs.position&&j.append(N);r.empty().append(j);"static"==r.css("position")&&r.css("position","relative");!0!==a.controlBar.show&&"outside"!==a.controlBar.show||c||(m=yt("<div />").css({position:"absolute",top:"outside"===a.controlBar.show?P().height:"auto",bottom:"outside"===a.controlBar.show?"auto":0,left:0,right:0,"background-color":a.controlBar.color}).height(a.controlBar.height),null===a.controlBar.image||void 0===a.controlBar.image||""===a.controlBar.image?m.css("background-image",xt.utils.cssPropertyPrefix("linear-gradient(bottom, "+xt.utils.hex2rgb(a.controlBar.color,-50,-50,-50,!0)+" 0%, "+a.controlBar.color+" 50%, "+xt.utils.hex2rgb(a.controlBar.color,50,50,50,!0)+" 100%)")):m.css("background-image",""!==a.controlBar.image&&void 0!==a.controlBar.image&&null!==a.controlBar.image?"url('"+a.controlBar.image+"')":"none"),"outside"===a.controlBar.show?W.after(m):W.append(m),t=function(){var t=null;""===a.buttons.playImage||void 0===a.buttons.playImage||null===a.buttons.playImage?(t=yt("<div />").css({"background-color":"transparent","border-style":"solid"}),i?t.css({position:"static",margin:(x.height()-16)/2+"px "+x.height()/3+"px","border-width":"0 3px 0 3px","border-color":k,"border-radius":0}).width(4).height(16):t.css({margin:(x.height()-20)/2+"px "+x.height()/3+"px","border-width":10,"border-color":"transparent transparent transparent "+k,"border-radius":3}).width(1).height(1)):t=yt("<img />").attr("src",i?a.buttons.pauseImage:a.buttons.playImage).attr("alt",i?"pause":"play");x.empty().append(t)},(x=null===a.buttons.playImage||void 0===a.buttons.playImage||""===a.buttons.playImage?yt("<div />").css({float:"left",cursor:"pointer","border-right":"1px solid "+_}).width(a.controlBar.height-1).height(a.controlBar.height):yt("<div />").attr("src",a.buttons.playImage).css({float:"left",cursor:"pointer"})).click(function(t){t.preventDefault();(i?E:A)()}),t(),j.on(O,t).on(T,t),m.append(x),t=yt("<span />").html(a.media.length+"/"+a.media.length),m.append(t),e=t.width()+(a.slideshow.active?14:54),t.remove(),t=null,u=yt("<div />").css({position:"absolute",right:0,top:0,"border-left":"1px solid "+_,"text-align":"center",overflow:"hidden"}).height(a.controlBar.height).width(e),m.append(u),u.append(g=yt("<span />").css({color:k,"font-family":"arial","font-size":"11pt","line-height":a.controlBar.height+"px",padding:"0 5px"}).html(a.media.length+"/"+a.media.length)),a.slideshow.active||(w=""===a.buttons.prevImage||null===a.buttons.prevImage||void 0===a.buttons.prevImage?yt("<div />").css({color:k,cursor:"pointer","line-height":a.controlBar.height+"px","font-size":a.controlBar.height-5,"font-family":"Arial",float:"left",padding:"0 0 0 5px"}).html("&lt;"):yt("<img />").attr("src",a.buttons.prevImage).attr("alt",xt.l10n.get("common_prev")).css({cursor:"pointer"}),u.prepend(w.click(function(t){return t.preventDefault(),E(),D(),!1}).on("selectstart mousedown",function(){return!1})),y=""===a.buttons.nextImage||null===a.buttons.nextImage||void 0===a.buttons.nextImage?yt("<div />").css({color:k,cursor:"pointer","line-height":a.controlBar.height+"px","font-size":a.controlBar.height-5,"font-family":"Arial",float:"right",padding:"0 5px 0 0"}).html("&gt;"):yt("<img />").attr("src",a.buttons.nextImage).attr("alt",xt.l10n.get("common_next")).css({cursor:"pointer"}),u.append(y.click(function(t){return t.preventDefault(),E(),F(),!1}).on("selectstart mousedown",function(){return!1}))),a.fullScreen&&(C=yt("<div />").css({position:"absolute",top:0,right:e,"border-left":"1px solid "+_,cursor:"pointer"}).width(a.controlBar.height).height(a.controlBar.height).attr("title","Full Screen").click(function(){!function(){var t=a.thumbs.position,e=a.media,i,n,o;for(E(),i=[],n=0;n<e.length;n++)o=s[n].GetDescription(),i[n]={url:null!==e[n].hiresUrl&&""!==e[n].hiresUrl&&void 0!==e[n].hiresUrl?e[n].hiresUrl:e[n].url,type:e[n].type,width:e[n].hiresWidth,height:e[n].hiresHeight,thumbUrl:e[n].thumbUrl,description:null!=o?o:""};xt.imShowBox({showThumbs:"none"!=t,media:i},l,yt(a.target))}()}),m.append(C),_=yt("<div />"),ut=yt("<div />"),ht=yt("<div />"),pt=yt("<div />"),C.append(_.add(ut).add(ht).add(pt).css({"border-color":k,"border-style":"solid",position:"absolute"}).width(3).height(3)),_.css({top:6,left:6,"border-width":"2px 0 0 2px"}),ut.css({top:6,right:6,"border-width":"2px 2px 0 0"}),ht.css({bottom:6,right:6,"border-width":"0 2px 2px 0"}),pt.css({bottom:6,left:6,"border-width":"0 0 2px 2px"})),p=m.width()-x.outerWidth()-u.outerWidth()-(C?C.outerWidth():0),"outside"!==a.controlBar.show&&(m.hide(0),r.mouseenter(function(){m.stop(!1,!1).fadeTo(250,a.controlBar.alpha)}).mouseleave(function(){m.stop(!1,!1).fadeOut(250)})));$=null;switch(a.thumbs.position){case"top":case"bottom":case"left":case"right":N.css({overflow:"hidden",position:"absolute",top:"bottom"!==a.thumbs.position?0:"auto",bottom:"top"!==a.thumbs.position?0:"auto",left:"right"!==a.thumbs.position?0:"auto",right:"left"!==a.thumbs.position?0:"auto"});N.width("bottom"===a.thumbs.position||"top"===a.thumbs.position?a.width:a.thumbs.size);N.height("bottom"===a.thumbs.position||"top"===a.thumbs.position?a.thumbs.size:a.height);$=yt("<div />");N.append($);"bottom"!==a.thumbs.position&&"top"!==a.thumbs.position?$.width(a.thumbs.size):"bottom"!==a.thumbs.position&&"top"!==a.thumbs.position||$.height(a.thumbs.size);$.css({position:"absolute",top:0,left:0});N.offset();var Y,V,X,G,Z,J,K,Q,tt,et,it,nt,ot,at=N.width(),rt=N.height(),st=a.thumbs.number*z;c?a.disableTouch||(X=!1,G=V=Y=null,N[Z=0].addEventListener("touchstart",function(t){$.stop(!0,!1);1==t.touches.length&&(t.preventDefault(),G=t.target,J=Math.round(+$.css("left").replace(/px/g,"")),K=Math.round(+$.css("top").replace(/px/g,"")),Y=t.touches[0].pageX,V=t.touches[0].pageY);X=!1}),N[0].addEventListener("touchmove",function(t){t.preventDefault();var e=null;1==t.touches.length&&(t=t.touches[0],X=!0,$.stop(!0,!1),"top"==a.thumbs.position||"bottom"==a.thumbs.position?(Z=Y-t.pageX,(0<J-Z||J-Z<-$.width()+at)&&(Z/=2),window.cancelAnimFrame(e),J-=Z,e=window.requestAnimFrame(function(){$.css({left:J})}),Y=t.pageX):(Z=V-t.pageY,(0<K-Z||K-Z<-$.height()+rt)&&(Z/=2),window.cancelAnimFrame(e),K-=Z,e=window.requestAnimFrame(function(){$.css({top:K})}),V=t.pageY))}),N[0].addEventListener("touchend",function(){var e,i;X?($.stop(!0,!1),"top"===a.thumbs.position||"bottom"===a.thumbs.position?(i=0,s.length>a.thumbs.number&&(i=+$.css("left").replace(/px/g,""),i=Math.max(-$.width()+at,Math.min(0,i-10*Z))),i!==-$.width()+at&&0!==i&&(e=Math.abs(i%z),z/2<e?i-=z-e:i+=e),$.animate({left:i},{duration:1e3,easing:"iOsSwing"})):(i=0,s.length>a.thumbs.number&&(i=+$.css("top").replace(/px/g,""),i=Math.max(-$.height()+rt,Math.min(0,i-10*Z))),i!==-$.height()+rt&&0!==i&&(e=Math.abs(i%z),z/2<e?i-=z-e:i+=e),$.animate({top:i},{duration:1e3,easing:"iOsSwing"})),Z=0):null!==G&&(yt(G).click(),G=null)})):a.media.length>a.thumbs.number&&("top"===a.thumbs.position||"bottom"===a.thumbs.position?(Q=N.height(),tt=yt("<img />").css({cursor:"pointer",left:0,position:"absolute",display:"none"}).click(function(){var t=+$.css("left").replace(/px/g,"");t-=t%z;$.stop(!1,!1).animate({left:Math.min(0,t+st)})}).one("load",function(){N.append(tt);tt.css("top",(Q-tt.height())/2)}).attr("src",a.thumbsArrowLImage).attr("alt",xt.l10n.get("common_prev")),et=yt("<img />").width(22).css({cursor:"pointer",right:0,position:"absolute",display:"none"}).click(function(){var t=+$.css("left").replace(/px/g,"");t-=t%z;$.stop(!1,!1).animate({left:Math.max(-$.width()+at,t-st)})}).one("load",function(){N.append(et);et.css("top",(Q-et.height())/2)}).attr("src",a.thumbsArrowRImage).attr("alt",xt.l10n.get("common_next")),N.mouseenter(function(){tt.add(et).stop(!1,!1).fadeTo(250,.925)}).mouseleave(function(){tt.add(et).stop(!1,!1).fadeOut(250)})):(it=yt("<img />"),nt=N.width(),N.append(it),it.height(22).css({cursor:"pointer",top:0,position:"absolute",display:"none"}).click(function(){var t=+$.css("top").replace(/px/g,"");t-=t%z;$.animate({top:Math.min(0,t+st)})}).one("load",function(){N.append(it);it.css("left",(nt-it.width())/2)}).attr("src",a.thumbsArrowUImage).attr("alt",xt.l10n.get("common_prev")),ot=yt("<img />"),N.append(ot),ot.height(22).css({cursor:"pointer",bottom:0,position:"absolute",display:"none"}).click(function(){var t=+$.css("top").replace(/px/g,"");t-=t%z;$.animate({top:Math.max(-$.height()+rt,t-st)})}).one("load",function(){N.append(ot);ot.css("left",(nt-ot.width())/2)}).attr("src",a.thumbsArrowDImage).attr("alt",xt.l10n.get("common_next")),N.mouseenter(function(){it.add(ot).stop(!1,!1).fadeTo(250,.925)}).mouseleave(function(){it.add(ot).stop(!1,!1).fadeOut(250)})));break;case"embed":a.controlBar.show&&!c&&(q=!1,U=0,f=a.width-(a.slideshow.active?110:180),(q=(f-=f%a.thumbs.size)/a.thumbs.size<a.media.length&&!c)&&(p-=46),p-=p%a.thumbs.size,U=a.width-p-(q?46:0)-(null!==x?x.width():0)-(null!==C?C.width():0)-(null!==u?u.width():0),U/=2,0<f&&(N.css({position:"relative",float:"left",overflow:"hidden","margin-top":(a.controlBar.height-a.thumbs.size)/2,"background-color":"#444"}).width(p).height(a.thumbs.size),x.after(N),$=yt("<div />").css({position:"absolute",top:0,left:0}).width(a.thumbs.size*a.media.length),N.append($),q?(N.before(v=yt("<div />")),v.css({"margin-top":(a.controlBar.height-a.thumbs.size)/2+2,"margin-right":3,"margin-left":U,height:0,"border-width":a.thumbs.size/2-2,"border-color":"transparent "+k+" transparent transparent","border-style":"solid",width:0,cursor:"pointer",float:"left","border-radius":3}).click(function(){var t=+$.css("left").replace(/px/g,"");$.animate({left:Math.min(0,t+N.width())})}),N.after(b=yt("<div />")),b.css({"margin-top":(a.controlBar.height-a.thumbs.size)/2+2,"margin-left":3,height:0,"border-width":a.thumbs.size/2-2,"border-color":"transparent transparent transparent "+k,"border-style":"solid",width:0,cursor:"pointer",float:"left","border-radius":3}).click(function(){var t=+$.css("left").replace(/px/g,"");$.animate({left:Math.max(-$.width()+N.width(),t-N.width())})})):N.css("margin-left",U)))}if(a.slideshow.active&&"none"!=a.slideshow.nextPrevMode&&!c&&(yt("<img />").one("load",function(){var t=yt(this);j.append(w=t.css("display","none"));w.css({position:"absolute",top:(P().height-a.slideshow.buttonPrev.height)/2+a.slideshow.buttonPrev.y,left:a.slideshow.buttonPrev.x,display:"visible"==a.slideshow.nextPrevMode?"block":"none",cursor:"pointer"}).click(function(t){t.preventDefault();E();D()})}).attr("src",a.slideshow.buttonPrev.url).attr("alt",xt.l10n.get("common_prev")),yt("<img />").one("load",function(){var t=yt(this);j.append(y=t.css("display","none"));y.css({position:"absolute",top:(P().height-a.slideshow.buttonNext.height)/2+a.slideshow.buttonNext.y,right:a.slideshow.buttonNext.x,display:"visible"==a.slideshow.nextPrevMode?"block":"none",cursor:"pointer"}).click(function(t){t.preventDefault();E();F()})}).attr("src",a.slideshow.buttonNext.url).attr("alt",xt.l10n.get("common_next")),"hover"==a.slideshow.nextPrevMode&&r.mouseenter(function(){w.add(y).stop(!1,!1).fadeTo(250,.999)}).mouseleave(function(){w.add(y).stop(!1,!1).fadeOut(250)})),!a.disableTouch&&c&&1<a.media.length&&(S=yt('<div data-hide="false" />').css({position:"absolute",bottom:0,right:0}).width(30).height(30).append(yt("<div />").css({background:a.helperBg,"border-top-left-radius":5,position:"absolute",top:0,bottom:0,left:0,right:0,"z-index":10}).fadeTo(0,.75)).append(yt("<div />").css({background:"transparent url('"+a.swipeImage+"') no-repeat center center",position:"absolute",top:0,bottom:0,left:0,right:0,"z-index":10})).attr("data-hide","true"),W.append(S),g=yt("<div />").css({position:"absolute",color:"white","line-height":"30px",top:0,bottom:0,left:0,right:0,"z-index":10}),u=yt("<div />").css({position:"absolute",bottom:0,right:0,display:"none","z-index":10}).width(30).height(30).append(yt("<div />").css({background:a.helperBg,"border-top-left-radius":5,position:"absolute",top:0,bottom:0,left:0,right:0,"z-index":10}).fadeTo(0,.75)).append(g),W.append(u)),lt=null,null!==a.music&&void 0!==a.music&&(lt=new xt.mediaObject({type:"audio",url:a.music})),a.bullets.show&&a.bullets.url&&1<a.media.length){var ct=yt("<div />"),dt=a.bullets,ut=dt.positionX,ht=dt.positionY,pt=a.media.length*dt.size;if(xt.responsive.isDesktopMode()||pt<P().width){for(ct.width(pt).height(dt.size).css({position:"absolute",top:"top"==ht?a.bullets.distanceTop:"center"==ht?P().height/2-dt.size/2:"auto",bottom:"bottom"==ht?a.bullets.distanceBottom:"auto",left:"left"==ut?a.bullets.distanceLeft:"center"==ut?P().width/2-pt/2:"auto",right:"right"==ut?a.bullets.distanceRight:"auto"}),W.append(ct),ft="",gt=0;gt<a.media.length;gt++)ft+='<div data-num="'+gt+'"><\/div>';ct.html(ft).find("div").css({display:"inline-block","background-image":"url('"+dt.url+"')","background-repeat":"no-repeat",cursor:"pointer","background-position":"0 0"}).width(dt.size).height(dt.size).click(function(){L(+yt(this).attr("data-num"))});I.add(function(t){ct.find("div").css("background-position","0 0").eq(t).css("background-position",-dt.size+"px 0")})}}if(a.random){for(bt=a.media,wt=bt.length;wt;mt=Math.round(Math.random()*wt),vt=bt[--wt],bt[wt]=bt[mt],bt[mt]=vt);a.medias=bt}return H(0),{currentItemIndex:function(){return l},onShowMedia:function(t){return I.add(t),this},showNext:function(){return F(),this},showPrev:function(){return D(),this},stopAutoplay:function(){return E(),this},showMedia:function(t){return L(t,!0,!1,!0),this}}}})}(_jq,x5engine),function(u,h){"use strict";u.extend(h,{imGrid:{cell:function(i){function s(){var t=i.offset();e=t.top;n=e+i.outerHeight()}function l(){var t=i.offset();o=t.left;a=o+i.outerWidth()}var e,n,o,a,t,r=!1;i=u(i);this.height=function(t){if(null==t)return i.height();i.height(t-(i.outerHeight()-i.height()))};this.pushY=function(t){i.css("top").match(/^([0-9]+)[a-z]*$/);var e=+RegExp.$1;i.css("top",(e+=t)+"px")};this.html=function(t){if(null==t)return i.html();i.html(t)};this.isAbsolute=function(t){if(null==t)return r;r=t};this.sy=function(){return s(),e};this.ey=function(){return s(),n};this.sx=function(){return l(),o};this.ex=function(){return l(),a};i.offset().top;t=function(){var t=i.css("height"),e;return i.css("height","auto"),e=i.height(),0<i.find("[class*=imCpt]").not("iframe").length&&(e+=30),i.css("height",t),e}();i.height()<t&&i.height(t)},init:function(){var l,c,d;if(h.settings.imGrid.enabled){var t,e,i,n,o=[],a=[],r=u("#imFooPad"),s=0;for(0<r.length&&(i=(n=r.offset().top)+r.innerHeight()),u("[class*=imGrid]").each(function(){var t,e,i=u(this).attr("class");/imGrid\[[0-9]+,\s*[0-9]+[,]*\s*[0-9]*\]/.test(i)&&(i.match(/imGrid\[([0-9]+),\s*([0-9]+)[,]?\s*([0-9]*)\]/),t=+RegExp.$1,e=+RegExp.$2,null!==o[e]&&void 0!==o[e]||(o[e]=[]),null!==a[t]&&void 0!==a[t]||(a[t]=[]),(i=new h.imGrid.cell(this)).isAbsolute(1==+RegExp.$3),o[e][o[e].length]=i,a[t][a[t].length]=i)}),t=0;t<o.length;t++)if(null!==o[t]&&void 0!==o[t]){for(e=s=0;e<o[t].length;e++){if(o[t][e].isAbsolute()&&0!==t)for(l=0;l<o[t-1].length;l++)c=o[t-1][l],d=o[t][e],c.ey()>d.sy()&&(c.sx()<d.ex()||c.ex()>d.sx())&&d.pushY(c.ey()-d.sy());o[t][e].ey()>s&&(s=o[t][e].ey())}for(e=0;e<o[t].length;e++)o[t][e].height(s-o[t][e].sy())}0<r.length&&(i<s?r.remove():r.height(i-n-s-(0<u("#imBtMn").length?u("#imBtMn").outerHeight():0)))}}}})}(_jq,x5engine),function(o,a){"use strict";o.extend(a,{image:{activateLazyLoading:function(){o(".imlazyloading[data-src]").each(function(){var t=o(this),e=t.prev("div"),i=t.attr("id"),n=o("<img />").attr("title",t.attr("data-title")).attr("alt",t.attr("data-alt")).addClass("imlazyloading");t.after(n);t.remove();n.attr("id",i);n.fadeOut(0).one("load",function(){e.remove();n.show();n.trigger("imLazyLoadingEnd")});a.utils.onElementInViewPort(e[0],function(){n.attr("src",t.attr("data-src"));n.trigger("imLazyLoadingStart")})})}}})}(_jq,x5engine),function(s,t,o){"use strict";function i(){l=[];var a=s(o).height(),r=s("#imPageExtContainer").height();s(".imImageSequence").each(function(){var t,e,i,n,o=s(this);"scroll"==(o.data("sequenceType")||"time")&&(t=o.data("sequencePosition")||0,e=o.data("sequenceCount")||1,(i=o.offset().top-a)<0&&(i=0),n=o.offset().top+o.height(),r-a<n&&(n=r-a),n=Math.abs(n-i)/e,l.push({image:o,begin:i+n*t,end:t==e-1?r:i+n*(t+1)}))});n()}function n(){o.requestAnimationFrame(function(){var i=s(o).scrollTop();s.each(l,function(t,e){e.begin<=i&&e.end>=i?e.image.css("opacity",""):e.image.css("opacity","0")})})}function r(t,e){var i,n;setTimeout(function(){r((t+1)%e.length,e)},e[t].delay);i=t;n=e;o.requestAnimationFrame(function(){s.each(n,function(t,e){t==i?(e.image.removeClass("hidden"),e.image.removeClass("out"),e.image.addClass("in")):e.image.hasClass("in")?(e.image.removeClass("in"),e.image.addClass("out")):(e.image.removeClass("out"),e.image.addClass("hidden"))})})}var l;s.extend(t,{imageSequence:(l=[],{start:function(){i();0<l.length&&(s(o).resize(i),s(o).scroll(n));var a,t,e=(a={},s(".imImageSequence").each(function(){var t,e,i,n,o=s(this);"time"==(o.data("sequenceType")||"time")&&(t=o.data("sequenceId")||"",e=o.data("sequencePosition")||0,i=o.data("sequenceElementDelay")||6e3,(n=a[t]||[])[e]={image:o,delay:i},a[t]=n)}),a);for(t in e)r(0,e[t])}})})}(_jq,x5engine,window),function(C,k){"use strict";window.requestAnimFrame;window.cancelAnimFrame;var _=k.utils,g=k.settings;C.extend(k,{imagefx:{opacityIn:function(t,e){C(t).mouseenter(function(){C(this).stop(!1,!1).fadeTo(null,1)}).mouseleave(function(){C(this).stop(!1,!1).fadeTo(null,e)}).fadeTo(0,e)},opacityOut:function(t,e){C(t).mouseleave(function(){C(this).stop(!1,!1).fadeTo(null,1)}).mouseenter(function(){C(this).stop(!1,!1).fadeTo(null,e)})},border:function(t,i,e){function n(t){o.css(a,"0 0 0 "+t+"px "+i)}var o=C(t),a=_.supportsCSS("boxShadow");(o=o.parents(".template-object-wrapper").length?o.parents(".template-object-wrapper").first():o).on("mouseenter",function(){o.stop(!1,!1).animate({"fake-property":e},{step:n})}).on("mouseleave",function(){o.stop(!1,!1).animate({"fake-property":0},{step:n})})},glow:function(t,e,i){function n(t){o.css(a,"0 0 "+t+"px 0 "+i)}i=i||"#FF9900";e=e||5;var o=C(t),a=_.supportsCSS("boxShadow");(o=o.parents(".template-object-wrapper").length?o.parents(".template-object-wrapper").first():o).on("mouseenter",function(){o.stop(!1,!1).animate({"fake-property":e},{step:n})}).on("mouseleave",function(){o.stop(!1,!1).animate({"fake-property":0},{step:n})})},jump:function(i,t,e,n){function o(){!u&&i.is(":visible")&&(d=i.position(),i.css({position:"absolute",top:d.top,left:d.left,width:i.width(),height:i.height()}),u=!0);r=i.height();s=r+ +t.css("padding-top").replace(/px/g,"")+ +t.css("padding-bottom").replace(/px/g,"");t.css("min-height",s+"px")}function a(){i.stop(!1,!1).animate({top:d.top,left:d.left},{duration:100,complete:function(){c.css({overflow:"hidden","z-index":l})}})}var r,s,l,c,d,u;n=!!n;i=C(i);t=C(t);d={top:0,left:0};u=!1;i.one("load",o);i.parents("[id*=imCell_]").on("imObjectAnimationEnd",o);var h=null,p=0,f=!0;k.utils.onElementResize(t.parent()[0],function(t){f||p==t.width?f=f&&!1:(p=t.width,h&&clearTimeout(h),h=setTimeout(function(){u=!1;i.css({position:"",top:"",left:"",width:"",height:""});o()},50))});i.parents("[id*=imCell_]").hasClass("animable")||o();c=i.parents("[id*='imCell']");l=c.css("z-index");i.mouseover(function(){c.css({overflow:"visible","z-index":g.zIndex.menuCell+1});i.stop(!1,!1).animate({top:d.top-r*e/100},{duration:100,complete:function(){n||a()}})}).mouseleave(function(){n&&a()})},rotate:function(t,e,i,n){n=n||.25;var o,a,e=C(e),r=_.supportsCSS("transform"),s=_.supportsCSS("transition"),l=null;t=C(t).css(s,"all "+n+"s ease-in-out 0s").css(r,"none");r&&s&&(a=t.parents("[id*='imCell']"),o=a.css("z-index"),e.mouseover(function(){a.css({overflow:"visible","z-index":g.zIndex.menuCell+1});l&&clearTimeout(l);l=setTimeout(function(){t.css(r,"rotate("+i+"deg)")},10)}).mouseleave(function(){t.css(r,"rotate(0deg)");l&&clearTimeout(l);l=setTimeout(function(){a.css({overflow:"hidden","z-index":o})},1e3*n)}))},overlay:function(t,e,i,n){function o(){r=p.position();h=p.height();u=p.width();s=n.substring(n.indexOf("-")+1);l=n.substring(0,n.indexOf("-"));a.css({width:"",height:""});c=a[0].width;d=a[0].height;u<c&&(d=Math.ceil(u/c*d),c=u);h<d&&(c=Math.ceil(h/d*c),d=h);u=r.left+("center"==s?(u-c)/2:"right"==s?u-c:0);h=r.top+("center"==l?(h-d)/2:"bottom"==l?h-d:0);a.css({position:"absolute",top:h,left:u,"z-index":3}).width(c).height(d)}var a,r,s,l,c,d,u,h,p=C(t),e=C(e);C("<img />").one("load",function(){a=C("<img />").css("display","none").one("load",function(){p.after(a);o();a.on("mouseenter",function(){p.triggerHandler("mouseenter")}).on("mouseleave",function(){p.triggerHandler("mouseleave")});e.on("mouseenter",function(){a.stop(!1,!0).fadeIn(250)}).on("mouseleave",function(){a.stop(!1,!0).fadeOut(250)})}).attr("src",k.settings.currentPath+i)}).attr("src",p.attr("src"));p.parents("[id*=imCell_]").on("imObjectAnimationEnd",o);var f=null,g=0,m=!0;k.utils.onElementResize(e[0],function(t){m||g==t.width?m=m&&!1:(g=t.width,f&&clearTimeout(f),f=setTimeout(function(){o()},50))})},innerZoom:function(o,t,a,r,s){function i(){e=o.width();u=o.height();g=o.attr("style")}function l(){s||(m.css("overflow","visible"),m.parent().css("overflow-y","visible"))}function c(){o.stop(!1,!1).animate({width:e*(s?2:1.5),height:u*(s?2:1.5),top:-u/(s?2:3),left:-e/(s?2:3),opacity:0},{complete:function(){b();o.css("display","none")}})}function d(){o.css("display","block");o.stop(!1,!1).animate({width:e,height:u,top:0,left:0,opacity:1},{complete:function(){b()}})}function n(){var t,e,i,n;o.parent().is("a")||o.wrap("<div />");p=o.parent().css({display:"inline-block",position:"relative"}).width(o.width()).height(o.height()-4);f=p.attr("style");h=C("<span />").css({position:"absolute",top:0,left:0,"font-family":r.family,color:r.color,"font-style":r.style,"font-weight":r.weight,"font-size":r.size,overflow:s?"hidden":"visible","text-align":"center",display:"block",width:"100%"}).html(_.htmlspecialchars_decode(a));p.prepend(h);o.css({position:"absolute",top:0,left:0,"max-width":"none"});p.is("a")&&p.find("a").length&&p.find("a").click(function(t){t.stopImmediatePropagation()});"touchstart"in document||"ontouchstart"in document?function t(){p.one("click",function(){return c(),!1}).one("mouseleave.innerZoom",function(){l();d();t()})}():(t=o.css(k.utils.cssPropertyPrefix("clip-path")))&&0===t.indexOf("inset")&&t.match(/([\-0-9\.]+)%/g)&&0<+RegExp.$1?(e=(100-+RegExp.$1)/100*Math.max(v.height(),o.height()),i=m.offset(),n=!1,m.on("mousemove.pathInnerZoom",function(t){!n&&t.clientY-i.top<e?(l(),c(),n=!0):n&&t.clientY-i.top>e&&(l(),d(),n=!1)}).on("mouseleave.pathInnerZoom",function(){l();d();n=!1})):p.on("mouseenter.normalInnerZoom",function(){l();c()}).on("mouseleave.normalInnerZoom",function(){l();d()})}null==s&&(s=!0);r=C.extend({family:"tahoma",size:"8pt",color:"black",style:"normal",weight:"normal"},r);o=C(o);t=C(t);_.supportsCSS("opacity");var e,u,h,p=null,f=null,g=null,m=o.parents("[id*='imCell_']"),v=o.parents(".template-object-wrapper"),b=(C("body"),function(){s||(m.css("overflow",""),m.parent().css("overflow-y",""))});o.parents("[id*=imCell_]").hasClass("animable")||i();var w=null,y=0,x=!0;k.utils.onElementResize(t[0],function(t){x||y==t.width?x=x&&!1:(y=t.width,w&&clearTimeout(w),w=setTimeout(function(){p.off("click.normalInnerZoom mouseleave.normalInnerZoom");m.off("mousemove.pathInnerZoom mouseleave.pathInnerZoom");p.is("a")||o.unwrap();h&&(h.remove(),h=null);o.add(p).removeAttr("style");g&&o.attr("style",g);f&&p&&(p.attr("style",f),p.is("a")&&p.css({width:"100%"}));i();n()},50))});o.parents("[id*=imCell_]").on("imObjectAnimationEnd",function(){i();n()});s&&o.parent().css("overflow","hidden");e&&u?n():o.one("load",function(){i();n()})},pulse:function(t,e,i,n){function o(){d.css("height","");d.css("width","");e.css("min-height","");r=e.innerWidth()-+e.css("padding-left").replace(/px/g,"")-+e.css("padding-right").replace(/px/g,"");s=e.innerHeight()-+e.css("padding-top").replace(/px/g,"")-+e.css("padding-bottom").replace(/px/g,"");l=t.position();d.innerWidth(r);s<=0&&(s=d.height());e.css("min-height",e.innerHeight()+"px")}function a(){t.off("mouseover").on("mouseover",function(){c||(c=!0,t.css({position:"absolute",top:l.top,left:l.left}),n&&u.css("overflow","hidden"),t.stop(!1,!1).animate({width:Math.round(r*(1+i)),height:Math.round(s*(1+i)),top:l.top-s*(i/2),left:l.left-r*(i/2)},{duration:100,complete:function(){t.stop(!1,!1).animate({width:r,height:s,top:l.top,left:l.left},{duration:100,complete:function(){c=!1;u.css("overflow","visible");t.css({position:"",top:"",left:"",height:"",width:""})}})}}))})}null==n&&(n=!0);t=C(t);e=C(e);var r,s,l,c=!1,d=t.is("img")?t:t.find("img").first(),u=t.parents("[id*='imCell_'], [id*='imHeader_imCell_'], [id*='imFooter_imCell_'], .template-object-wrapper");C("body");0<d.width()&&0<d.height()&&d.attr("src")&&!t.parents("[id*=imCell_]").hasClass("animable")?(o(),a()):d.one("load",function(){o();a()});t.parents("[id*=imCell_]").on("imObjectAnimationEnd",function(){o();a()});var h=null,p=0,f=!0;k.utils.onElementResize(e[0],function(t){f||p==t.width?f=f&&!1:(p=t.width,h&&clearTimeout(h),h=setTimeout(function(){o()},50))})}}})}(_jq,x5engine),function(){"use strict";function l(t){this.time=t.time;this.target=t.target;this.rootBounds=t.rootBounds;this.boundingClientRect=t.boundingClientRect;this.intersectionRect=t.intersectionRect||o();this.isIntersecting=!!t.intersectionRect;var e=this.boundingClientRect,t=e.width*e.height,e=this.intersectionRect,e=e.width*e.height;this.intersectionRatio=t?Number((e/t).toFixed(4)):this.isIntersecting?1:0}function t(t,e){var i,n,o,e=e||{};if("function"!=typeof t)throw new Error("callback must be a function");if(e.root&&1!=e.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=(i=this._checkForIntersections.bind(this),n=this.THROTTLE_TIMEOUT,o=null,function(){o=o||setTimeout(function(){i();o=null},n)});this._callback=t;this._observationTargets=[];this._queuedEntries=[];this._rootMarginValues=this._parseRootMargin(e.rootMargin);this.thresholds=this._initThresholds(e.threshold);this.root=e.root||null;this.rootMargin=this._rootMarginValues.map(function(t){return t.value+t.unit}).join(" ")}function i(t,e,i,n){"function"==typeof t.addEventListener?t.addEventListener(e,i,n||!1):"function"==typeof t.attachEvent&&t.attachEvent("on"+e,i)}function n(t,e,i,n){"function"==typeof t.removeEventListener?t.removeEventListener(e,i,n||!1):"function"==typeof t.detatchEvent&&t.detatchEvent("on"+e,i)}function h(t){var e;try{e=t.getBoundingClientRect()}catch(t){}return e?e.width&&e.height?e:{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.right-e.left,height:e.bottom-e.top}:o()}function o(){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}function a(t,e){for(var i=e;i;){if(i==t)return!0;i=p(i)}return!1}function p(t){return t=t.parentNode,t&&11==t.nodeType&&t.host?t.host:t&&t.assignedSlot?t.assignedSlot.parentNode:t}var u,e;"object"==typeof window&&("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype?"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return 0<this.intersectionRatio}}):(u=window.document,e=[],t.prototype.THROTTLE_TIMEOUT=100,t.prototype.POLL_INTERVAL=null,t.prototype.USE_MUTATION_OBSERVER=!0,t.prototype.observe=function(e){if(!this._observationTargets.some(function(t){return t.element==e})){if(!e||1!=e.nodeType)throw new Error("target must be an Element");this._registerInstance();this._observationTargets.push({element:e,entry:null});this._monitorIntersections();this._checkForIntersections()}},t.prototype.unobserve=function(e){this._observationTargets=this._observationTargets.filter(function(t){return t.element!=e});this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},t.prototype.disconnect=function(){this._observationTargets=[];this._unmonitorIntersections();this._unregisterInstance()},t.prototype.takeRecords=function(){var t=this._queuedEntries.slice();return this._queuedEntries=[],t},t.prototype._initThresholds=function(t){return t=t||[0],(t=Array.isArray(t)?t:[t]).sort().filter(function(t,e,i){if("number"!=typeof t||isNaN(t)||t<0||1<t)throw new Error("threshold must be a number between 0 and 1 inclusively");return t!==i[e-1]})},t.prototype._parseRootMargin=function(t){return t=(t||"0px").split(/\s+/).map(function(t){if(t=/^(-?\d*\.?\d+)(px|%)$/.exec(t),!t)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(t[1]),unit:t[2]}}),t[1]=t[1]||t[0],t[2]=t[2]||t[0],t[3]=t[3]||t[1],t},t.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(i(window,"resize",this._checkForIntersections,!0),i(u,"scroll",this._checkForIntersections,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in window&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(u,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},t.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,n(window,"resize",this._checkForIntersections,!0),n(u,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},t.prototype._checkForIntersections=function(){var r=this._rootIsInDom(),s=r?this._getRootRect():o();this._observationTargets.forEach(function(t){var e=t.element,i=h(e),n=this._rootContainsTarget(e),o=t.entry,a=r&&n&&this._computeTargetAndRootIntersection(e,s),a=t.entry=new l({time:window.performance&&performance.now&&performance.now(),target:e,boundingClientRect:i,rootBounds:s,intersectionRect:a});o?r&&n?this._hasCrossedThreshold(o,a)&&this._queuedEntries.push(a):o&&o.isIntersecting&&this._queuedEntries.push(a):this._queuedEntries.push(a)},this);this._queuedEntries.length&&this._callback(this.takeRecords(),this)},t.prototype._computeTargetAndRootIntersection=function(t,e){var c,d;if("none"!=window.getComputedStyle(t).display){for(var i,n,o,a,r=h(t),s=p(t),l=!1;!l;){if(c=null,d=1==s.nodeType?window.getComputedStyle(s):{},"none"==d.display)return;if(s==this.root||s==u?(l=!0,c=e):s!=u.body&&s!=u.documentElement&&"visible"!=d.overflow&&(c=h(s)),c&&(i=c,n=r,c=d=a=o=void 0,o=Math.max(i.top,n.top),a=Math.min(i.bottom,n.bottom),d=Math.max(i.left,n.left),c=Math.min(i.right,n.right),n=a-o,!(r=0<=(i=c-d)&&0<=n&&{top:o,bottom:a,left:d,right:c,width:i,height:n})))break;s=p(s)}return r}},t.prototype._getRootRect=function(){var t,e;return e=this.root?h(this.root):(t=u.documentElement,e=u.body,{top:0,left:0,right:t.clientWidth||e.clientWidth,width:t.clientWidth||e.clientWidth,bottom:t.clientHeight||e.clientHeight,height:t.clientHeight||e.clientHeight}),this._expandRectByRootMargin(e)},t.prototype._expandRectByRootMargin=function(i){var t=this._rootMarginValues.map(function(t,e){return"px"==t.unit?t.value:t.value*(e%2?i.width:i.height)/100}),t={top:i.top-t[0],right:i.right+t[1],bottom:i.bottom+t[2],left:i.left-t[3]};return t.width=t.right-t.left,t.height=t.bottom-t.top,t},t.prototype._hasCrossedThreshold=function(t,e){var i=t&&t.isIntersecting?t.intersectionRatio||0:-1,n=e.isIntersecting?e.intersectionRatio||0:-1,o,a;if(i!==n)for(o=0;o<this.thresholds.length;o++)if(a=this.thresholds[o],a==i||a==n||a<i!=a<n)return!0},t.prototype._rootIsInDom=function(){return!this.root||a(u,this.root)},t.prototype._rootContainsTarget=function(t){return a(this.root||u,t)},t.prototype._registerInstance=function(){e.indexOf(this)<0&&e.push(this)},t.prototype._unregisterInstance=function(){var t=e.indexOf(this);-1!=t&&e.splice(t,1)},window.IntersectionObserver=t,window.IntersectionObserverEntry=l))}(),function(l,t){var I={dir:"",bindClass:"color",binding:!0,preloading:!0,install:function(){I.addEvent(window,"load",I.init)},init:function(){I.binding&&I.bind();I.preloading&&I.preload()},getDir:function(){var t;return I.dir||(t=I.detectDir(),I.dir=!1!==t?t:"jscolor/"),I.dir},detectDir:function(){for(var n,t=location.href,e=document.getElementsByTagName("base"),i=0;i<e.length;i+=1)e[i].href&&(t=e[i].href);for(e=document.getElementsByTagName("script"),i=0;i<e.length;i+=1)if(e[i].src&&/(^|\/)jscolor\.js([?#].*)?$/i.test(e[i].src))return n=new I.URI(e[i].src).toAbsolute(t),n.path=n.path.replace(/[^\/]+$/,""),n.query=null,n.fragment=null,n.toString();return!1},bind:function(){for(var o,t,e=new RegExp("(^|\\s)("+I.bindClass+")(\\s*(\\{[^}]*\\})|\\s|$)","i"),i=document.getElementsByTagName("input"),n=0;n<i.length;n+=1)if(!i[n].color&&i[n].className&&(t=i[n].className.match(e))){if(o={},t[4])try{o=new Function("return ("+t[4]+")")()}catch(t){}i[n].color=new I.color(i[n],o)}},preload:function(){for(var t in I.imgRequire)I.imgRequire.hasOwnProperty(t)&&I.loadImage(t)},images:{pad:[181,101],sld:[16,101],cross:[15,15],arrow:[7,11]},imgRequire:{},imgLoaded:{},requireImage:function(t){I.imgRequire[t]=!0},loadImage:function(t){I.imgLoaded[t]||(I.imgLoaded[t]=new Image,I.imgLoaded[t].src=I.getDir()+t)},fetchElement:function(t){return"string"==typeof t?document.getElementById(t):t},addEvent:function(t,e,i){t.addEventListener?t.addEventListener(e,i,!1):t.attachEvent&&t.attachEvent("on"+e,i)},fireEvent:function(t,e){var i;t&&(document.createEvent?((i=document.createEvent("HTMLEvents")).initEvent(e,!0,!0),t.dispatchEvent(i)):document.createEventObject?(i=document.createEventObject(),t.fireEvent("on"+e,i)):t["on"+e]&&t["on"+e]())},getElementPos:function(t){var e=t,i=t,n=0,o=0;if(e.offsetParent)for(;n+=e.offsetLeft,o+=e.offsetTop,e=e.offsetParent;);for(;(i=i.parentNode)&&"BODY"!==i.nodeName.toUpperCase();)n-=i.scrollLeft,o-=i.scrollTop;return[n,o]},getElementSize:function(t){return[t.offsetWidth,t.offsetHeight]},getRelMousePos:function(t){var e=0,i=0;return"number"==typeof(t=t||window.event).offsetX?(e=t.offsetX,i=t.offsetY):"number"==typeof t.layerX&&(e=t.layerX,i=t.layerY),{x:e,y:i}},getViewPos:function(){return"number"==typeof pageYOffset?[window.pageXOffset,window.pageYOffset]:document.body&&(document.body.scrollLeft||document.body.scrollTop)?[document.body.scrollLeft,document.body.scrollTop]:document.documentElement&&(document.documentElement.scrollLeft||document.documentElement.scrollTop)?[document.documentElement.scrollLeft,document.documentElement.scrollTop]:[0,0]},getViewSize:function(){return"number"==typeof innerWidth?[window.innerWidth,window.innerHeight]:document.body&&(document.body.clientWidth||document.body.clientHeight)?[document.body.clientWidth,document.body.clientHeight]:document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)?[document.documentElement.clientWidth,document.documentElement.clientHeight]:[0,0]},URI:function(t){function n(t){for(var e,i="";t;)"../"===t.substr(0,3)||"./"===t.substr(0,2)?t=t.replace(/^\.+/,"").substr(1):"/./"===t.substr(0,3)||"/."===t?t="/"+t.substr(3):"/../"===t.substr(0,4)||"/.."===t?(t="/"+t.substr(4),i=i.replace(/\/?[^\/]*$/,"")):"."===t||".."===t?t="":(e=t.match(/^\/?[^\/]*/)[0],t=t.substr(e.length),i+=e);return i}this.scheme=null;this.authority=null;this.path="";this.query=null;this.fragment=null;this.parse=function(t){return t=t.match(/^(([A-Za-z][0-9A-Za-z+.-]*)(:))?((\/\/)([^\/?#]*))?([^?#]*)((\?)([^#]*))?((#)(.*))?/),this.scheme=t[3]?t[2]:null,this.authority=t[5]?t[6]:null,this.path=t[7],this.query=t[9]?t[10]:null,this.fragment=t[12]?t[13]:null,this};this.toString=function(){var t="";return null!==this.scheme&&(t=t+this.scheme+":"),null!==this.authority&&(t=t+"//"+this.authority),null!==this.path&&(t+=this.path),null!==this.query&&(t=t+"?"+this.query),t=null!==this.fragment?t+"#"+this.fragment:t};this.toAbsolute=function(t){var t=new I.URI(t),e=this,i=new I.URI;return null!==t.scheme&&(null!==e.scheme&&e.scheme.toLowerCase()===t.scheme.toLowerCase()&&(e.scheme=null),null!==e.scheme?(i.scheme=e.scheme,i.authority=e.authority,i.path=n(e.path),i.query=e.query):(null!==e.authority?(i.authority=e.authority,i.path=n(e.path),i.query=e.query):(""===e.path?(i.path=t.path,i.query=null!==e.query?e.query:t.query):("/"===e.path.substr(0,1)?i.path=n(e.path):(i.path=null!==t.authority&&""===t.path?"/"+e.path:t.path.replace(/[^\/]+$/,"")+e.path,i.path=n(i.path)),i.query=e.query),i.authority=t.authority),i.scheme=t.scheme),i.fragment=e.fragment,i)};t&&this.parse(t)},color:function(c,t){function d(t,e,i){if(null===t)return[i,i,i];var n=Math.floor(t),o=i*(1-e),a=i*(1-e*(n%2?t-n:1-(t-n)));switch(n){case 6:case 0:return[i,a,o];case 1:return[a,i,o];case 2:return[o,i,a];case 3:return[o,a,i];case 4:return[a,o,i];case 5:return[i,o,a]}}function u(t){return[2*t.pickerInset+2*t.pickerFace+I.images.pad[0]+(t.slider?2*t.pickerInset+2*I.images.arrow[0]+I.images.sld[0]:0),t.pickerClosable?4*t.pickerInset+3*t.pickerFace+I.images.pad[1]+t.pickerButtonHeight:2*t.pickerInset+2*t.pickerFace+I.images.pad[1]]}function h(){var t,e,i,n,o,a,r,s,l;switch(w){case 0:t=1;break;case 1:t=2}e=Math.round(b.hsv[0]/6*(I.images.pad[0]-1));i=Math.round((1-b.hsv[t])*(I.images.pad[1]-1));I.picker.padM.style.backgroundPosition=b.pickerFace+b.pickerInset+e-Math.floor(I.images.cross[0]/2)+"px "+(b.pickerFace+b.pickerInset+i-Math.floor(I.images.cross[1]/2))+"px";n=I.picker.sld.childNodes;switch(w){case 0:for(o=d(b.hsv[0],b.hsv[1],1),a=0;a<n.length;a+=1)n[a].style.backgroundColor="rgb("+o[0]*(1-a/n.length)*100+"%,"+o[1]*(1-a/n.length)*100+"%,"+o[2]*(1-a/n.length)*100+"%)";break;case 1:s=[b.hsv[2],0,0];l=(a=Math.floor(b.hsv[0]))%2?b.hsv[0]-a:1-(b.hsv[0]-a);switch(a){case 6:case 0:o=[0,1,2];break;case 1:o=[1,0,2];break;case 2:o=[2,0,1];break;case 3:o=[2,1,0];break;case 4:o=[1,2,0];break;case 5:o=[0,2,1]}for(a=0;a<n.length;a+=1)r=1-1/(n.length-1)*a,s[1]=s[0]*(1-r*l),s[2]=s[0]*(1-r),n[a].style.backgroundColor="rgb("+100*s[o[0]]+"%,"+100*s[o[1]]+"%,"+100*s[o[2]]+"%)"}}function p(){var t,e;switch(w){case 0:t=2;break;case 1:t=1}e=Math.round((1-b.hsv[t])*(I.images.sld[1]-1));I.picker.sldM.style.backgroundPosition="0 "+(b.pickerFace+b.pickerInset+e-Math.floor(I.images.arrow[1]/2))+"px"}function f(){return I.picker&&I.picker.owner===b}function g(t){var t=I.getRelMousePos(t),e=t.x-b.pickerFace-b.pickerInset,i=t.y-b.pickerFace-b.pickerInset;switch(w){case 0:b.fromHSV(e*(6/(I.images.pad[0]-1)),1-i/(I.images.pad[1]-1),null,s);break;case 1:b.fromHSV(e*(6/(I.images.pad[0]-1)),null,1-i/(I.images.pad[1]-1),s)}}function m(t){var e=I.getRelMousePos(t).y-b.pickerFace-b.pickerInset;switch(w){case 0:b.fromHSV(null,null,1-e/(I.images.sld[1]-1),r);break;case 1:b.fromHSV(null,1-e/(I.images.sld[1]-1),null,r)}}function v(){b.onImmediateChange&&("string"==typeof b.onImmediateChange?new Function(b.onImmediateChange):b.onImmediateChange).call(b)}for(var e in this.required=!0,this.adjust=!0,this.hash=!1,this.caps=!0,this.slider=!0,this.valueElement=c,this.styleElement=c,this.onImmediateChange=null,this.hsv=[0,0,1],this.rgb=[1,1,1],this.minH=0,this.maxH=6,this.minS=0,this.maxS=1,this.minV=0,this.maxV=1,this.pickerOnfocus=!0,this.pickerMode="HSV",this.pickerPosition="bottom",this.pickerSmartPosition=!0,this.pickerButtonHeight=20,this.pickerClosable=!1,this.pickerCloseText="Close",this.pickerButtonColor="ButtonText",this.pickerFace=10,this.pickerFaceColor="ThreeDFace",this.pickerBorder=1,this.pickerBorderColor="ThreeDHighlight ThreeDShadow ThreeDShadow ThreeDHighlight",this.pickerInset=1,this.pickerInsetColor="ThreeDShadow ThreeDHighlight ThreeDHighlight ThreeDShadow",this.pickerZIndex=1e4,t)t.hasOwnProperty(e)&&(this[e]=t[e]);this.hidePicker=function(){f()&&(delete I.picker.owner,document.getElementsByTagName("body")[0].removeChild(I.picker.boxB))};this.showPicker=function(){var l;if(!f()){var t,e,i,n=I.getElementPos(c),o=I.getElementSize(c),a=I.getViewPos(),r=I.getViewSize(),s=u(this);switch(this.pickerPosition.toLowerCase()){case"left":e=0;i=-(t=1);break;case"right":e=0;i=t=1;break;case"top":t=0;i=-(e=1);break;default:t=0;i=e=1}l=(o[e]+s[e])/2,function(t,e){var i,n,o,a,r;if(!I.picker){for(I.picker={box:document.createElement("div"),boxB:document.createElement("div"),pad:document.createElement("div"),padB:document.createElement("div"),padM:document.createElement("div"),sld:document.createElement("div"),sldB:document.createElement("div"),sldM:document.createElement("div"),btn:document.createElement("div"),btnS:document.createElement("span"),btnT:document.createTextNode(b.pickerCloseText)},i=0;i<I.images.sld[1];i+=4)n=document.createElement("div"),n.style.height="4px",n.style.fontSize="1px",n.style.lineHeight="0",I.picker.sld.appendChild(n);I.picker.sldB.appendChild(I.picker.sld);I.picker.box.appendChild(I.picker.sldB);I.picker.box.appendChild(I.picker.sldM);I.picker.padB.appendChild(I.picker.pad);I.picker.box.appendChild(I.picker.padB);I.picker.box.appendChild(I.picker.padM);I.picker.btnS.appendChild(I.picker.btnT);I.picker.btn.appendChild(I.picker.btnS);I.picker.box.appendChild(I.picker.btn);I.picker.boxB.appendChild(I.picker.box)}o=I.picker;o.box.onmouseup=o.box.onmouseout=function(){c.focus()};o.box.onmousedown=function(){y=!0};o.box.onmousemove=function(t){(C||k)&&(C&&g(t),k&&m(t),document.selection?document.selection.empty():window.getSelection&&window.getSelection().removeAllRanges(),v())};"ontouchstart"in window&&(a=function(t){var e={offsetX:t.touches[0].pageX-_.X,offsetY:t.touches[0].pageY-_.Y};(C||k)&&(C&&g(e),k&&m(e),v());t.stopPropagation();t.preventDefault()},o.box.removeEventListener("touchmove",a,!1),o.box.addEventListener("touchmove",a,!1));o.padM.onmouseup=o.padM.onmouseout=function(){C&&(C=!1,I.fireEvent(x,"change"))};o.padM.onmousedown=function(t){switch(w){case 0:0===b.hsv[2]&&b.fromHSV(null,null,1);break;case 1:0===b.hsv[1]&&b.fromHSV(null,1,null)}C=!(k=!1);g(t);v()};"ontouchstart"in window&&o.padM.addEventListener("touchstart",function(t){_={X:t.target.offsetParent.offsetLeft,Y:t.target.offsetParent.offsetTop};this.onmousedown({offsetX:t.touches[0].pageX-_.X,offsetY:t.touches[0].pageY-_.Y})});o.sldM.onmouseup=o.sldM.onmouseout=function(){k&&(k=!1,I.fireEvent(x,"change"))};o.sldM.onmousedown=function(t){k=!(C=!1);m(t);v()};"ontouchstart"in window&&o.sldM.addEventListener("touchstart",function(t){_={X:t.target.offsetParent.offsetLeft,Y:t.target.offsetParent.offsetTop};this.onmousedown({offsetX:t.touches[0].pageX-_.X,offsetY:t.touches[0].pageY-_.Y})});a=u(b);o.box.style.width=a[0]+"px";o.box.style.height=a[1]+"px";o.boxB.style.position="absolute";o.boxB.style.clear="both";o.boxB.style.left=t+"px";o.boxB.style.top=e+"px";o.boxB.style.zIndex=b.pickerZIndex;o.boxB.style.border=b.pickerBorder+"px solid";o.boxB.style.borderColor=b.pickerBorderColor;o.boxB.style.background=b.pickerFaceColor;o.pad.style.width=I.images.pad[0]+"px";o.pad.style.height=I.images.pad[1]+"px";o.padB.style.position="absolute";o.padB.style.left=b.pickerFace+"px";o.padB.style.top=b.pickerFace+"px";o.padB.style.border=b.pickerInset+"px solid";o.padB.style.borderColor=b.pickerInsetColor;o.padM.style.position="absolute";o.padM.style.left="0";o.padM.style.top="0";o.padM.style.width=b.pickerFace+2*b.pickerInset+I.images.pad[0]+I.images.arrow[0]+"px";o.padM.style.height=o.box.style.height;o.padM.style.cursor="crosshair";o.sld.style.overflow="hidden";o.sld.style.width=I.images.sld[0]+"px";o.sld.style.height=I.images.sld[1]+"px";o.sldB.style.display=b.slider?"block":"none";o.sldB.style.position="absolute";o.sldB.style.right=b.pickerFace+"px";o.sldB.style.top=b.pickerFace+"px";o.sldB.style.border=b.pickerInset+"px solid";o.sldB.style.borderColor=b.pickerInsetColor;o.sldM.style.display=b.slider?"block":"none";o.sldM.style.position="absolute";o.sldM.style.right="0";o.sldM.style.top="0";o.sldM.style.width=I.images.sld[0]+I.images.arrow[0]+b.pickerFace+2*b.pickerInset+"px";o.sldM.style.height=o.box.style.height;try{o.sldM.style.cursor="pointer"}catch(t){o.sldM.style.cursor="hand"}o.btn.style.display=b.pickerClosable?"block":"none";o.btn.style.position="absolute";o.btn.style.left=b.pickerFace+"px";o.btn.style.bottom=b.pickerFace+"px";o.btn.style.padding="0 15px";o.btn.style.height="18px";o.btn.style.border=b.pickerInset+"px solid",function(){var t=(t=b.pickerInsetColor.split(/\s+/)).length<2?t[0]:t[1]+" "+t[0]+" "+t[0]+" "+t[1];o.btn.style.borderColor=t}();o.btn.style.color=b.pickerButtonColor;o.btn.style.font="12px sans-serif";o.btn.style.textAlign="center";try{o.btn.style.cursor="pointer"}catch(t){o.btn.style.cursor="hand"}switch(o.btn.onmousedown=function(){b.hidePicker()},o.btnS.style.lineHeight=o.btn.style.height,w){case 0:r="hs.png";break;case 1:r="hv.png"}o.padM.style.backgroundImage="url('"+I.getDir()+"cross.gif')";o.padM.style.backgroundRepeat="no-repeat";o.sldM.style.backgroundImage="url('"+I.getDir()+"arrow.gif')";o.sldM.style.backgroundRepeat="no-repeat";o.pad.style.backgroundImage="url('"+I.getDir()+r+"')";o.pad.style.backgroundRepeat="no-repeat";o.pad.style.backgroundPosition="0 0";h();p();I.picker.owner=b;document.getElementsByTagName("body")[0].appendChild(o.boxB)}((l=this.pickerSmartPosition?[-a[t]+n[t]+s[t]>r[t]&&-a[t]+n[t]+o[t]/2>r[t]/2&&0<=n[t]+o[t]-s[t]?n[t]+o[t]-s[t]:n[t],-a[e]+n[e]+o[e]+s[e]-l+l*i>r[e]?-a[e]+n[e]+o[e]/2>r[e]/2&&0<=n[e]+o[e]-l-l*i?n[e]+o[e]-l-l*i:n[e]+o[e]-l+l*i:0<=n[e]+o[e]-l+l*i?n[e]+o[e]-l+l*i:n[e]+o[e]-l-l*i]:[n[t],n[e]+o[e]-l+l*i])[t],l[e]);I.fireEvent(c,"pickerReady")}};this.importColor=function(){x?this.adjust?!this.required&&/^\s*$/.test(x.value)?(x.value="",n.style.backgroundImage=n.jscStyle.backgroundImage,n.style.backgroundColor=n.jscStyle.backgroundColor,n.style.color=n.jscStyle.color,this.exportColor(o|a)):this.fromString(x.value)||this.exportColor():this.fromString(x.value,o)||(n.style.backgroundImage=n.jscStyle.backgroundImage,n.style.backgroundColor=n.jscStyle.backgroundColor,n.style.color=n.jscStyle.color,this.exportColor(o|a)):this.exportColor()};this.exportColor=function(t){var e;t&o||!x||(e=this.toString(),this.caps&&(e=e.toUpperCase()),this.hash&&(e="#"+e),x.value=e,l(x).triggerHandler("change"));t&a||!n||(n.style.backgroundImage="none",n.style.backgroundColor="#"+this.toString(),n.style.color=.213*this.rgb[0]+.715*this.rgb[1]+.072*this.rgb[2]<.5?"#FFF":"#000");t&r||!f()||h();t&s||!f()||p()};this.fromHSV=function(t,e,i,n){null!==t&&(t=Math.max(0,this.minH,Math.min(6,this.maxH,t)));null!==e&&(e=Math.max(0,this.minS,Math.min(1,this.maxS,e)));null!==i&&(i=Math.max(0,this.minV,Math.min(1,this.maxV,i)));this.rgb=d(null===t?this.hsv[0]:this.hsv[0]=t,null===e?this.hsv[1]:this.hsv[1]=e,null===i?this.hsv[2]:this.hsv[2]=i);this.exportColor(n)};this.fromRGB=function(t,e,i,n){null!==t&&(t=Math.max(0,Math.min(1,t)));null!==e&&(e=Math.max(0,Math.min(1,e)));null!==i&&(i=Math.max(0,Math.min(1,i)));i=function(t,e,i){var n=Math.min(Math.min(t,e),i),o=Math.max(Math.max(t,e),i),a=o-n;return 0==a?[null,0,o]:(t=t===n?3+(i-e)/a:e===n?5+(t-i)/a:1+(e-t)/a,[6==t?0:t,a/o,o])}(null===t?this.rgb[0]:t,null===e?this.rgb[1]:e,null===i?this.rgb[2]:i);null!==i[0]&&(this.hsv[0]=Math.max(0,this.minH,Math.min(6,this.maxH,i[0])));0!==i[2]&&(this.hsv[1]=null===i[1]?null:Math.max(0,this.minS,Math.min(1,this.maxS,i[1])));this.hsv[2]=null===i[2]?null:Math.max(0,this.minV,Math.min(1,this.maxV,i[2]));i=d(this.hsv[0],this.hsv[1],this.hsv[2]);this.rgb[0]=i[0];this.rgb[1]=i[1];this.rgb[2]=i[2];this.exportColor(n)};this.fromString=function(t,e){return t=t.match(/^\W*([0-9A-F]{3}([0-9A-F]{3})?)\W*$/i),!!t&&(6===t[1].length?this.fromRGB(parseInt(t[1].substr(0,2),16)/255,parseInt(t[1].substr(2,2),16)/255,parseInt(t[1].substr(4,2),16)/255,e):this.fromRGB(parseInt(t[1].charAt(0)+t[1].charAt(0),16)/255,parseInt(t[1].charAt(1)+t[1].charAt(1),16)/255,parseInt(t[1].charAt(2)+t[1].charAt(2),16)/255,e),!0)};this.toString=function(){return(256|Math.round(255*this.rgb[0])).toString(16).substr(1)+(256|Math.round(255*this.rgb[1])).toString(16).substr(1)+(256|Math.round(255*this.rgb[2])).toString(16).substr(1)};var i,b=this,w="hvs"===this.pickerMode.toLowerCase()?1:0,y=!1,x=I.fetchElement(this.valueElement),n=I.fetchElement(this.styleElement),C=!1,k=!1,_={},o=1,a=2,r=4,s=8;switch(I.addEvent(c,"focus",function(){b.pickerOnfocus&&b.showPicker()}),I.addEvent(c,"blur",function(){y?y=!1:window.setTimeout(function(){y||(x===c&&b.importColor(),b.pickerOnfocus&&b.hidePicker());y=!1},0)}),x&&(I.addEvent(x,"keyup",i=function(){b.fromString(x.value,o);v()}),I.addEvent(x,"input",i),I.addEvent(x,"blur",function(){x!==c&&b.importColor()}),x.setAttribute("autocomplete","off")),n&&(n.jscStyle={backgroundImage:n.style.backgroundImage,backgroundColor:n.style.backgroundColor,color:n.style.color}),w){case 0:I.requireImage("hs.png");break;case 1:I.requireImage("hv.png")}I.requireImage("cross.gif");I.requireImage("arrow.gif");this.importColor()}};l.extend(t,{jscolor:I});I.install()}(_jq,x5engine),function(q,U,$){"use strict";q.extend(U,{mediaObject:function(t){function o(t){function e(){D=q("<img />");T.thumb?D.attr("src",T.thumb):"string"!=typeof T.url||null===T.url||-1==T.url.indexOf(".gif")&&-1==T.url.indexOf(".png")&&-1==T.url.indexOf(".jpg")&&-1==T.url.indexOf(".jpeg")||D.attr("src",T.url);D.css("cursor","pointer");"random"!=T.effect&&(E=U.effects[T.effect]||(!U.effects[T.effect]&&U.effects.fade?U.effects.fade:{animateIn:function(t,e,i,n){t=t.DOMObject();i=q(i);t.css({position:"absolute",top:0,left:0});i.append(t);t.show(0);q.isFunction(n)&&n()},animateOut:function(t,e,i){q(t.DOMObject()).detach();q.isFunction(i)&&i()}}));T.touchDevice&&"html"!=T.type&&F.on("animate_in_start",function(){F.off("touchstart").on("touchstart",z);F.parent().off("touchmove").on("touchmove",L);F.parent().off("touchend").on("touchend",R);F.off("gesturestart").on("gesturestart",j);F.off("gesturechange").on("gesturechange",W);F.off("gestureend").on("gestureend",N)});q.isFunction(t)&&t(A)}var c,d,u,h,p,f,g,m,v,b,w,y,r,x,C,k,_,I,S,M,O;F&&(F.remove(),F=null);var i="",n=null,o=0,a={},r=!1,s="",l="";switch(T.type){case"video":if(r=!1,"string"==typeof T.url&&(T.url=[{src:T.url}]),"object"==typeof T.url)for(o=0;o<T.url.length&&!r;o++)r|=0<T.url[o].src.search(/\.(mp4|webm|ogg|flac)/gi);d=T.width&&T.contentWidth?Math.min(T.width,T.contentWidth):Math.max(T.width,T.contentWidth);u=T.height&&T.contentHeight?Math.min(T.height,T.contentHeight):Math.max(T.height,T.contentHeight);F=q("<div />").width("100%").attr({"data-width":d,"data-height":u});r?(h=null,p=function(){b("play")},f=function(){b("pause")},F.on("animate_out_start",function(){null!==h&&!0!==h.paused&&h.pause();h.removeEventListener("play",p);h.removeEventListener("pause",f)}),F.on("animate_in_end",function(){function i(){var t=(F.width()-c.outerWidth())/2,e=(F.height()-c.outerHeight())/2;c.css({"margin-top":e+"px","margin-bottom":e+"px","margin-left":t+"px","margin-right":t+"px"})}var t,e;if(F.empty(),c=q("<video />").width("100%").attr({width:"100%",controls:!0,controlsList:"nodownload"}),U.utils.isOnline()&&c.attr("preload","metadata"),1<T.url.length)for(t in T.url)c.append(q("<source />").attr("src",T.url[t].src));else{for(e in T.url)c.attr("src",T.url[e].src);c.on("error",function(){var e=q('<div class="object-generic-error"><div><div>'+U.l10n.get("error_notsupported_video")+"<\/div><\/div><\/div>");e.css({height:u,width:d,"max-height":"100%"});c.replaceWith(e)})}F.css({height:u,width:d,"max-height":"100%"}).attr({cursor:"pointer"}).append(c);h=c.get(0);h.addEventListener("loadeddata",i);h.addEventListener("play",function(){i();p()});h.addEventListener("pause",f)}),g=function(){4!=h.readyState&&(h.removeEventListener("load",A.Play,!1),h.addEventListener("load",A.Play,!1),h.removeEventListener("canplaythrough",A.Play,!1),h.addEventListener("canplaythrough",A.Play,!1))},m="pause",v=null,b=function(t){t!=m&&(m=t,F.triggerHandler("status_change",[m]),null!==v&&clearInterval(v),"play"==t&&(v=setInterval(function(){F.triggerHandler("playing",[h.currentTime])},500)))},A.Play=function(){return void 0!==h.play&&(h.removeEventListener("onreadystatechange",g,!1),h.addEventListener("onreadystatechange",g,!1),h.play(),g(),b("play"),!0)},A.Pause=function(){return!!h.pause&&(h.pause(),b("pause"),!0)},A.Stop=function(){return A.Pause()},A.Volume=function(t){return null!=t?h.volume=t:h.volume},A.CurrentPosition=function(t){return null!=t?h.currentTime=t:h.currentTime},A.Duration=function(){return h.duration},A.Progress=function(){return h.buffered?h.buffered.length:0},A.FullScreen=function(){}):F=void 0!==a["video/mov"]||void 0!==a["video/aiff"]||void 0!==a["video/m4a"]?(y='<object width="'+d+'" height="'+u+'" type="application/quicktime">\n',y+='\t<param name="codebase" value="http://www.apple.com/qtactivex/qtplugin.cab">\n',y+='\t<param name="src" value="'+(w=a["video/mov"]||a["video/aiff"]||a["video/m4a"])+'">\n',y+='\t<param name="autoplay" value="'+(T.autoPlay?"true":"false")+'">\n',y+='\t<param name="controller" value="'+(T.showVideoControls?"true":"false")+'">\n',y+='\t<embed src="'+w+'" width="'+d+'" height="'+u+'" autoplay="'+(T.autoPlay?"true":"false")+'" controller="'+(T.showVideoControls?"true":"false")+'" pluginspage="http://www.apple.com/quicktime/download/" />',q(y+="<\/object>")):(y="",/MSIE/.test(navigator.userAgent)&&(y+='\t<object classid="clsid:6BF52A52-394A-11d3-B153-00C04F79FAA6" width="'+d+'" height="'+u+'">\n',y+='\t\t<param name="url" value="'+a[0]+'" />\n',y+='\t\t<param name="ShowControls" value="'+(T.showVideoControls?"1":"0")+'" />\n',y+='\t\t<param name="uiMode" value="'+(T.showVideoControls?"full":"none")+'" />\n',y+='\t\t<param name="autostart" value="'+(T.autoPlay?"true":"false")+'" />\n',y+='\t\t<param name="ShowDisplay" value="false">\n',y+='\t\t<param name="ShowStatusBar" value="false">\n',y+='\t\t<param name="ShowDisplay" value="false">\n'),y+='<object  width="'+d+'" height="'+u+'" type="application/x-mplayer2">\n',y+='\t<param name="url" value="'+a[0]+'" />\n',y+='\t<param name="ShowControls" value="'+(T.showVideoControls?"1":"0")+'" />\n',y+='\t<param name="uiMode" value="'+(T.showVideoControls?"full":"none")+'" />\n',y+='\t<param name="autostart" value="'+(T.autoPlay?"true":"false")+'" />\n',y+='\t<param name="ShowDisplay" value="false">\n',y+='\t<param name="ShowStatusBar" value="false">\n',y+='\t<param name="ShowDisplay" value="false">\n',y+='\t<embed type="application/x-mplayer2" src="'+a[0]+'" id="MediaPlayer" width="'+d+'" height="'+u+'" ShowControls="'+(T.showVideoControls?"1":"0")+'" ShowStatusBar="0" ShowDisplay="0" autostart="0" />\n',y+="<\/object>\n",y+='<div style="position: absolute; width: 100%; top: '+(u/2+20)+'px; text-align: center;"><a target="_blank" style="color: black; text-decoration: none; font-family: Arial, sans;" href="http://windows.microsoft.com/en-US/windows/downloads/windows-media-player">Install Media Player Plugin<\/a><\/div>\n',/MSIE/.test(navigator.userAgent)&&(y+="\t<\/object>\n"),q(y));e();break;case"audio":case"sound":if(i="imaudioplayer_"+Math.round(1e8*Math.random()),F=q('<audio controls controlsList="nodownload" id="'+i+'"/>').attr({"data-width":T.width,"data-height":T.height}),r=!1,"string"==typeof T.url&&(T.url=[{src:T.url}]),"object"==typeof T.url)for(o=0;o<T.url.length&&!r;o++)r|=0<T.url[o].src.search(/\.(mp3|aac|wav)/gi);if(r){for(s in U.utils.isOnline()&&F.attr("preload","metadata"),T.loop&&F.prop("loop",!0),T.url)F.append(q("<source />").attr("src",T.url[s].src));x=!1;setInterval(function(){x&&F.triggerHandler("playing",[A.CurrentPosition()])},200);A.Play=function(){F.get(0).play();x=!0;F.triggerHandler("status_change",["play"])};A.Pause=function(){F.get(0).pause();x=!1;F.triggerHandler("status_change",["pause"])};A.Stop=function(){return A.Pause()};A.Volume=function(t){return"number"==typeof t?F.get(0).volume=t:F.get(0).volume};A.CurrentPosition=function(t){return"number"==typeof t?F.get(0).currentTime=t:F.get(0).currentTime};A.Duration=function(){return F.get(0).duration};A.Progress=function(){return F.get(0).buffered?1:0}}e();break;case"youtube":H=!1;F=q("<div />").css({"background-color":"black"});n=null;i="imytplayer_"+Math.round(1e8*Math.random(),10);F.append(q("<div />").attr("id",i));-1!=(l=(l=T.url.replace(/https?\:\/\/[w]*\.?youtube\.com\/watch\?v=/g,"")).replace(/https?\:\/\/youtu\.be\/?/g,"")).indexOf("&")&&(l=l.substring(0,l.indexOf("&")));_=null;0===q("#ytjsapi").length&&(_=q("<script />").attr({id:"ytjsapi",src:"//www.youtube.com/iframe_api"}),q("head").append(_),$.onYouTubeIframeAPIReady=function(){U.youtube.jsApiIsLoaded=!0;q("body").triggerHandler(U.youtube.apiLoadedEventName)});C=T.width&&T.contentWidth?Math.min(T.width,T.contentWidth):Math.max(T.width,T.contentWidth);k=T.height&&T.contentHeight?Math.min(T.height,T.contentHeight):Math.max(T.height,T.contentHeight);F.width(C).height(k).attr({"data-width":C,"data-height":k});I=!1;S=function(){C=T.width&&T.contentWidth?Math.min(T.width,T.contentWidth):Math.max(T.width,T.contentWidth);k=T.height&&T.contentHeight?Math.min(T.height,T.contentHeight):Math.max(T.height,T.contentHeight);F.children("div").attr({"data-width":C,"data-height":k});F.find("#"+i).width(C).height(k);U.youtube.jsApiIsLoaded?n=new $.YT.Player(i,{height:k,width:C,videoId:l,events:{onReady:function(){I=!0},onError:function(t){var e="";switch(t.data){case 2:e="The request contains an invalid parameter value. For example, this error occurs if you specify a video ID that does not have 11 characters, or if the video ID contains invalid characters, such as exclamation points or asterisks.";break;case 100:e="The video requested was not found. This error occurs when a video has been removed (for any reason) or has been marked as private.";break;case 101:case 150:e="The owner of the requested video does not allow it to be played in embedded players."}F.empty().append(e)}},playerVars:{controls:T.showVideoControls?"1":"0",wmode:"opaque",modestbranding:"1",rel:0}}):q("body").one(U.youtube.apiLoadedEventName,S)};A.Play=function(){I?"playVideo"in n&&n.playVideo():(P&&clearTimeout(P),P=setTimeout(A.Play,1e3))};A.Pause=function(){I?"pauseVideo"in n&&n.pauseVideo():(P&&clearTimeout(P),P=setTimeout(A.Pause,1e3))};A.Stop=function(){I?n.stopVideo&&"stopVideo"in n?n.stopVideo():"pauseVideo"in n&&n.pauseVideo():(P&&clearTimeout(P),P=setTimeout(A.Stop,1e3))};F.on("animate_in_end",S);e();break;case"vimeo":H=!1;i="imvimeoplayer_"+Math.round(1e8*Math.random(),10);F=q("<div />").css("background-color","black").width(T.width).height(T.height);n=q("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen/>");F.append(n).attr({"data-width":T.width,"data-height":T.height});l=T.url.replace(/[w\.]*vimeo\.com\/?/g,"").replace(/https?\:\/\//g,"").replace(/http?\:\/\//g,"");n.attr({src:"//player.vimeo.com/video/"+l+"?player_id="+i,width:"100%",height:"100%",frameborder:0});e();break;case"code":case"html":(F=q("<div />")).html(U.utils.htmlspecialchars_decode(T.html)).width(T.width).height(T.height).attr({"data-width":T.width,"data-height":T.height});e();break;case"base64html":(F=q("<div />")).html(atob(T.html)).width(T.width).height(T.height).attr({"data-width":T.width,"data-height":T.height});e();break;case"swf":M="swfplayer_"+Math.round(1e3*Math.random());(F=q("<div />").html('<div id="'+M+'"><\/div>').attr({"data-width":T.width,"data-height":T.height})).on("animate_in_end",function(){var t={},e={quality:"high",bgcolor:"#ffffff",play:"true",loop:"false",wmode:"transparent",scale:"noscale",menu:"true",devicefont:"false",salign:"lt",allowscriptaccess:"always",allowFullScreen:"true"},i={id:M,name:M,align:"middle",allowscriptaccess:"always"};U.utils.loadSwfObject(function(){$.swfobject.embedSWF(T.url,M,T.width,T.height,"10.0.0","res/expressInstall.swf",t,e,i)})});e();break;case"dom":F=q(T.url).width(T.width).height(T.height).attr({"data-width":T.width,"data-height":T.height});e();break;case"iframe":case"url":F=q("<iframe />",{allowFrameTransparency:T.allowFrameTransparency?"true":"false",src:T.url,border:"0",frameborder:"0",marginwidth:"0",marginheight:"0","data-width":T.width,"data-height":T.height}).width(T.width).height(T.height);e();break;default:O=function(){var t=B(T.width,T.height,T.contentWidth,T.contentHeight,!0),n,o,a;if(F.css({position:"absolute",left:t.x,top:t.y}),T.touchDevice&&F.css("-webkit-backface-visibility","hidden"),F.width(t.width).height(t.height),T.onclick&&(q.isFunction(T.onclick)?F.click(T.onclick).css("cursor","pointer"):0===T.onclick.indexOf("http")&&(F.css("cursor","pointer"),$.location.href=T.onclick)),T.protect){a=F;F=q("<canvas />");try{F.get(0).getContext&&F.get(0).getContext("2d")?(a.removeAttr("style"),q("body").append(a),n={width:a.width(),height:a.height()},a.detach(),F.attr({"data-width":T.width,"data-height":T.height}).width("100%").height("100%").on("dragstart",function(t){return t.preventDefault(),!1}),o=F.get(0).getContext("2d"),function t(){var e,i;F.parent().length?(i=n.height,(e=n.width)>T.width&&(i=T.width/e*i,e=T.width,i*=1.2,e*=1.2),o.canvas.width=e,o.canvas.height=i,o.clearRect(0,0,e,i),o.drawImage(a[0],0,0,e,i),q("#imContent").one("breakpointChangedOrFluid",t),F.one("image.change",t)):setTimeout(t,100)}()):F=a}catch(t){F=a}F.on("contextmenu",function(){return!1})}e()};F=q("<img />").attr("src",T.url);T.width&&T.height?(F.attr({"data-width":T.width,"data-height":T.height}),O()):(_=q("<img />").css({position:"absolute",top:-1e4,left:-1e4}).one("load",function(){var t=q(this);T.width=t.width();T.height=t.height();F.attr({"data-width":T.width,"data-height":T.height});t.remove();O()}),q("body").prepend(_),_.attr("src",F.attr("src")))}T.selectable||F.attr("unselectable","on").css("user-select","none")}var T=q.extend({width:null,height:null,contentWidth:null,contentHeight:null,type:"image",url:null,thumbUrl:null,html:"",effect:"fade",onclick:null,description:"",thumb:null,moves:[],autoplayTime:5e3,loop:!1,touchDevice:!1,selectable:!1,allowFrameTransparency:!1,protect:!1,deferredCaching:!1,load:null,attached:null,error:null,baseUrl:""},t),e=q($),F=(q(document),null),D=null,A=this,E=null,t="id"+Math.round(1e8*Math.random()),n=/(iPad|iPhone)/i.test(navigator.userAgent);e.imageCache=[];var a=e.imageCache[t]=[],H=!0,r=null,s=null,l=null,c=null,i=null,d=null,u=null,h=null,p=!1,f=!1,g=!1,P=null,B=function(t,e,i,n,o){return t=t||0,e=e||0,i=i||t,n=n||e,(o=!!o)&&"dom"!=T.type&&"html"!=T.type&&(i<t&&(e*=i/t,t=i),n<e&&(t*=n/e,e=n)),{x:(i-t)/2,y:(n-e)/2,width:t,height:e}},m=function(t,e){var i=T.width,n=T.height,o=e.parent().width(),e=e.parent().height();return{x:(-o*t.x+(o-i)/2)*t.z+o/2,y:(-e*t.y+(e-n)/2)*t.z+e/2,z:t.z}},v=function(t,e){var i,n;e>T.moves.length-1||void 0===T.moves[e]||(i=B(T.width*T.moves[e].z,T.height*T.moves[e].z,T.contentWidth,T.contentHeight,!0),n=m(T.moves[e],t),t.animate({left:(T.moves[e].z<=1?i:n).x,top:(T.moves[e].z<=1?i:n).y,width:Math.round(T.width*n.z),height:Math.round(T.height*n.z)},{duration:T.autoplayTime/(T.moves.length-1),complete:function(){v(t,e+1)}}),F.on("animate_out_start",function(){t.stop(!1,!1)}))},z=function(t){q.isFunction(i)&&1==t.touches.length&&i(t);p=!1;f=2==(u=t).touches.length;g=2<t.touches.length},L=function(t){var e,i;!c&&(r&&1==t.touches.length||s&&2==t.touches.length||l&&2<t.touches.length)&&t.preventDefault();q.isFunction(c)&&1==t.touches.length&&(e=n?u:u.touches[0],i=n?t:t.touches[0],c(t,{startX:e.pageX,startY:e.pageY,offsetX:i.pageX-e.pageX,offsetY:i.pageY-e.pageY}));p=!0;h=t},R=function(t){var e,i;p?q.isFunction(r)&&h&&1==u.touches.length&&(e=n?u:u.touches[0],i=n?h:h.touches[0],r(t,{startX:e.pageX,startY:e.pageY,offsetX:i.pageX-e.pageX,offsetY:i.pageY-e.pageY})):F.click()},j=function(t){(g&&l||f&&s)&&t.preventDefault()},W=function(t){g&&l&&t.preventDefault();f&&s&&!d&&t.preventDefault();d&&q.isFunction(d)&&d(t)},N=function(t){g&&q.isFunction(l)?l(t):f&&q.isFunction(s)&&s(t)};this.Cache=function(e){switch(q.extend({load:null,error:null},e),T.type){case"image":/^[0-9]+$/.test(T.url)&&(T.url=U.utils.yaKnowWhatToDo(T.url));a[a.length]=new Image;var i=q(a[a.length-1]);i.one("load",function(){var t;T.width||T.height||(t=i.clone(),q("body").append(t),t.css({width:"auto",height:"auto",position:"absolute",top:-1e4,left:-1e4}),T.width=t.width(),T.height=t.height(),t.remove());T.thumb?(a[a.length]=new Image,(i=q(a[a.length-1])).one("load",function(){o(e.load)}).on("error",function(){T.thumb=null;o(e.load)}),i.attr("src",T.thumb)):o(e.load)}).on("error",function(){q.isFunction(e.error)&&e.error(A,404)});i.attr("src",T.url);break;case"video":case"youtube":case"vimeo":T.thumb?(a[a.length]=new Image,(i=q(a[a.length-1])).one("load",function(){o(e.load)}).on("error",function(){T.thumb=null;o(e.load)}),i.attr("src",T.thumb)):o(e.load);break;default:o(e.load)}};this.TriggerAnimationInStart=function(){return F.triggerHandler("animate_in_start"),A};this.TriggerAnimationInEnd=function(){return F.triggerHandler("animate_in_end"),A};this.TriggerAnimationOutStart=function(){return F.triggerHandler("animate_out_start"),A};this.TriggerAnimationOutEnd=function(){return F.triggerHandler("animate_out_end"),A};this.AnimateIn=function(t,i,e){F.find("embed, object, iframe").css("display","none");var n,o,a,r=null,s=B(F.attr("data-width"),F.attr("data-height"),T.contentWidth,T.contentHeight,!0);F.css("position","absolute");r=0<T.moves.length&&"image"===T.type?{y:(n=m(T.moves[0],F)).y,x:n.x,width:Math.round(s.width*n.z),height:Math.round(s.height*n.z)}:"dom"!=T.type&&"html"!=T.type?{y:s.y,x:s.x,width:s.width,height:s.height}:{y:0,x:0,width:s.width,height:s.height};F.trigger("animate_in_start");"random"==T.effect&&(o=["fade","horizontalSlide","verticalSlide","zoom","elasticFromTop","elasticFromBottom","elasticFromRight","elasticFromLeft","bounceFromTop","bounceFromBottom","bounceFromLeft","bounceFromRight","rotateLinear"],a=Math.max(0,Math.floor(Math.random()*o.length)),E=U.effects[o[a]]||U.effects.fade);E?(o=U.utils.supportsCSS("transformOrigin"),a=U.utils.supportsCSS("transform"),o&&F.css(o,"50% 50%"),a&&F.css(a,"none"),E.animateIn(A,r,t,function(t){var e=t.DOMObject();e.find("embed, object, iframe").css("display","block");e.trigger("animate_in_end");1<T.moves.length&&"image"===T.type&&v(F,1);q.isFunction(i)&&i(t)},e)):F.trigger("animate_in_end")};this.AnimateOut=function(t,e,i){F.find("embed, object, iframe").css("display","none");var n,o;"random"==T.effect&&(n=["fade","horizontalSlide","verticalSlide","zoom","elasticFromTop","elasticFromBottom","elasticFromRight","elasticFromLeft","bounceFromTop","bounceFromBottom","bounceFromLeft","bounceFromRight","rotateLinear"],o=Math.max(0,Math.floor(Math.random()*n.length)),E=U.effects[n[o]]);F.trigger("animate_out_start");null!=E?E.animateOut(A,t,function(t){t.DOMObject().trigger("animate_out_end");q.isFunction(e)&&e(t)},i):F.trigger("animate_out_end")};this.ChangeAnimation=function(t){U.effects[t]&&(E=U.effects[t])};this.DOMObject=function(){return F};this.GetThumb=function(){return D};this.Type=function(){return T.type};this.Play=function(){return!1};this.Pause=function(){return!1};this.Stop=function(){return!1};this.Volume=function(){return 0};this.CurrentPosition=function(){return 0};this.Duration=function(){return 0};this.GetDescription=function(){return U.utils.htmlspecialchars_decode(T.description)};this.AutoplayTime=function(){return T.autoplayTime};this.OnPlaying=function(t){F.on("playing",t)};this.OnStatusChange=function(t){F.on("status_change",t)};this.Width=function(){return 0===T.moves.length?null!==T.width?T.width:F.attr("data-width"):T.moves[0].z*T.width};this.Height=function(){return 0===T.moves.length?null!==T.height?T.height:F.attr("data-height"):T.moves[0].z*T.height};this.ContentHeight=function(t){if(null==t)return T.contentHeight;T.contentHeight=t};this.ContentWidth=function(t){if(null==t)return T.contentWidth;T.contentWidth=t};this.Overlay=function(){return H};this.AfterPinch=function(t){return s=t,A};this.Pinch=function(t){return d=t,A};this.Gesture=function(t){return l=t,A};this.Move=function(t){return c=t,A};this.AfterMove=function(t){return r=t,A};this.BeforeMove=function(t){return i=t,A};this.FullScreen=function(){return!1};this.AppendTo=function(t,e){return t.append(F),q.isFunction(T.attached)?T.attached(this,e):q.isFunction(e)&&e(this),this};T.deferredCaching||this.Cache({load:T.load,error:T.error})}})}(_jq,x5engine,window),function(t,n){"use strict";t.extend(n,{mediaPlayer:function(e){e=t.extend({url:"",type:"audio",width:400,height:400,showVideoControls:!0,target:"body",autoplay:!1,loop:!1,baseUrl:"",controlsHeight:0},e);var i=t(e.target);new n.mediaObject({url:e.url,type:e.type,showVideoControls:e.showVideoControls,effect:"none",width:e.width,height:e.height-(e.autoHideControls||"youtube"==e.type||"vimeo"==e.type?0:e.controlsHeight),baseUrl:e.baseUrl,load:function(t){return i.append(t.DOMObject()).css({"background-color":"audio"!=e.type?e.bgColor:"transparent",position:"relative",margin:"0 auto"}).width(e.width).height(e.height),t.AnimateIn(),!0===e.autoplay?t.Play():"onscreen"==e.autoplay&&n.utils.onElementInViewPort(i[0],function(){t.Play()}),{Stop:function(){t&&t.Stop()},Play:function(){t&&t.Play()}}}})}})}(_jq,x5engine),function(c,d){"use strict";c.extend(d,{initMenu:function(t){function r(t){t.add(t.find("ul")).toggleClass("open-right").toggleClass("open-left")}function o(){"fixed"==c("#imPageExtContainer").css("background-attachment")?(c("#imPageIntContainer").addClass("responsive-menu-effect-push-container"),c("#imPageExtContainer").removeClass("responsive-menu-effect-push-container")):(c("#imPageExtContainer").addClass("responsive-menu-effect-push-container"),c("#imPageIntContainer").removeClass("responsive-menu-effect-push-container"))}var t=c.extend(!0,{menuId:"",responsiveMenuEffect:"none",animationDuration:1e3},t),e=c("body"),a=t.menuId,i="responsive-menu-effect-"+t.responsiveMenuEffect,n=t.animationDuration,s,l;"push"==t.responsiveMenuEffect&&(o(),c("#imContent").on("breakpointChanged",function(){o()}));c("#"+a+" li").each(function(){function t(t){t&&e.add(a).parents("ul").find("."+i).removeClass(i);e.add(e.add(a).parents("li")).add(a).addClass(i)}var e=c(this),i="imMnMnCurrent",n=e.attr("data-link-anchor"),o=e.attr("data-link-hash"),a=c("[data-link-hash="+o+"]"),r=e.attr("data-link-paths");n&&e.on("click",function(){t(!0)});r?(o=r.substring(0,1),r=r.substring(1),d.utils.isCurrentPage(r.split(o),n)&&t()):e.on("click",function(t){t.stopPropagation()})});c("#"+a+" .hamburger-button").on("click",function(){var t;0<c("#"+a+"-menu-opened").length||(c(this).css("visibility","hidden"),c("<div id='"+a+"-menu-opened'><\/div>").appendTo("body"),c("<div id='"+a+"_container-menu-opened'><\/div>").appendTo("#"+a+"-menu-opened"),c("#"+a+"_container > *:not(.hamburger-button)").clone(!0).removeClass("hidden").appendTo("#"+a+"_container-menu-opened"),t=c("#"+a+"-menu-opened").find(".multiple-column"),c(t).css("width",""),c(t).css("left",""),0!==c(t).find("ul").length?c(t).children("ul").css({height:"",overflow:"",display:""}):0!==c("#"+a+"-menu-opened").find(".imLevel").find("ul").length&&c("#"+a+"-menu-opened").find(".imLevel").children("ul").css({height:"",overflow:"",display:""}),c("#"+a+"-menu-opened ul li").each(function(){var t=c(this),e=0;t.on("mouseover",function(){clearTimeout(e);t.children("ul, .multiple-column").stop(!1,!1).show()}).on("mouseleave",function(){e=setTimeout(function(){t.children("ul, .multiple-column").stop(!1,!1).hide()},500)})}),c("#"+a+"-menu-opened .hamburger-menu-close-button").add("#"+a+"-menu-opened .imLevel[data-link-paths]").one("click",function(){e.addClass("menu-"+a+"-towards-closing");e.removeClass("menu-"+a+"-opened");c("#"+a+"-menu-opened").removeClass("animated");e.addClass("menu-"+a+"-closing");c("#imPageExtContainer").off("click.close-menu-event");c(window).off("resize.close-menu-event");setTimeout(function(){e.removeClass("menu-"+a+"-towards-closing");c("#"+a).find(".label-wrapper-over").remove();c("#"+a+"-menu-opened").remove();e.removeClass("menu-"+a+"-closing").removeClass("im-menu-opened").removeClass(i)},n+50);c("#"+a+" .hamburger-button").css("visibility","")}),c("#imPageExtContainer").on("click.close-menu-event",function(t){e.hasClass("menu-"+a+"-opened")&&(t.stopPropagation(),c("#"+a+"-menu-opened .hamburger-menu-close-button").click())}),c(window).on("resize.close-menu-event",function(){e.hasClass("menu-"+a+"-opened")&&c("#"+a+"-menu-opened .hamburger-menu-close-button").click()}),c("#"+a+"-menu-opened .imMnMnCurrent").each(function(){c(this).parents("ul").show(0);c(this).closest(".imLevel").find("> .label-wrapper > .label-inner-wrapper > a").data("linkLevelOpened",1)}),c("#"+a+"-menu-opened #"+a+"_container-menu-opened > ul > .imLevel").each(function(){var e=c(this),t=e.find("> .label-wrapper > .label-inner-wrapper > a");0<t.length&&0<c(this).children("ul").length&&t.on("touchend",function(t){"1"==c(this).data("linkLevelOpened")?c(this).data("linkLevelOpened",0):(t.preventDefault(),c(this).data("linkLevelOpened",1),e.trigger("mouseover"))})}),setTimeout(function(){e.addClass("menu-"+a+"-opened").addClass("im-menu-opened").addClass(i);c("#"+a+"-menu-opened").addClass("animated")},10))});s=c("#"+a);l=c(window);s.find(".imLevel").on("mouseenter",function(){var t,e,i,n=c(this),o=n.find(".multiple-column");0<n.parents("#"+a+"-menu-opened").length||(o.length||"right"==s.css("float")?o.length&&(o.css("left",""),t=n.offset(),console.log(o.outerWidth(!0)),0<(e=t.left+o.outerWidth(!0)-c(window).width())&&o.css("left",-Math.min(e,t.left))):n.find("li").first().is(":visible")||(t=n.offset(),e=n.children("ul"),n.parents("ul").first(),n.parents(".imLevel").length||e.add(e.find("ul")).each(function(){c(this).removeClass("open-right").removeClass("open-left").addClass(c(this).attr("data-original-position"))}),e.attr("data-computed-width")||(i=e.clone(),s.append(i),i.show(0).css({position:"absolute",top:-1e3,width:"",height:"",display:"block"}),e.attr("data-computed-width",i.find("li").outerWidth()),i.remove()),i=+e.attr("data-computed-width"),e.hasClass("open-right")&&t.left+n.outerWidth()+i>l.width()+l.scrollLeft()&&r(e),e.hasClass("open-left")&&t.left-i<l.scrollLeft()&&r(e)))})}})}(_jq,x5engine),function(w,y,x){"use strict";function e(){var e=w("#imHeader"),i=0;return w("#imHeader [id^=imHeader_imMenuObject_]:not(.template-object-wrapper):visible").each(function(){w(this).offset().top+w(this).outerHeight()>i&&(e=w(this),i=e.offset().top+e.outerHeight())}),e}function i(i){i=w.extend({target:null,trigger:null,triggerPartialHide:!0,appear:!1,enabledBreakpoints:null,forceFixed:!0,forceTop:!1,forceLeft:!1,noLeft:!1,useTranslateZ:!1,alwaysVisible:!1},i);var n,o,t,a,r,s,e,l=!1,c=!1,d=w(x),u=!1,h=!1,p=(w("#imFooter"),function(){l=!0;t="function"==typeof i.trigger?i.trigger():w(i.trigger);n=t.offset().top+(i.triggerPartialHide?0:t.outerHeight()),function t(e){e&&e.target!=e.currentTarget||(r=o.parent().offset().left,"fixed"!=o.css("position")&&(a=o.position().left),i.forceFixed&&(f(),b()));w("#imContent").one("change",t)}()}),f=function(){l&&(i.appear?o.stop(!1,!1).animate({top:-o.outerHeight(!0)},{duration:200,complete:function(){o.css({visibility:"hidden",overflow:"hidden"})}}):(o.stop().css({"margin-top":"",left:"",top:"","z-index":""}),i.forceFixed&&o.css("position","")),u=!1)},g=function(){return i.noLeft?"":-d.scrollLeft()+a+r},m=function(){o.css({"margin-top":0,left:g(),bottom:"auto","z-index":y.settings.zIndex.stickyBar+(i.forceTop?1:0)});i.forceFixed&&o.css("position","fixed");i.useTranslateZ&&o.css("-webkit-transform","translateZ(0)")},v=function(t,e){var i=Math.floor(w("#imContent").offset().top+w("#imContent").outerHeight(!0)),e=e;e+o.outerHeight(!0)>=i-t&&(e=i-t-o.outerHeight(!0));o.css("top",e)},b=function(){var t,e;c&&(l||p(),Math.floor(w("#imContent").offset().top+w("#imContent").outerHeight(!0))<=Math.floor(n+o.outerHeight(!0)+parseInt(w("#imContent").css("padding-bottom")))||(t=d.scrollTop(),e=w("#imStickyBarContainer:visible"),e=i.forceTop||0===e.length?0:e.height(),n-e<t||i.alwaysVisible?(u||(i.appear?(m(),h=!0,o.stop(!1,!1).show().css({top:-o.outerHeight(!0),visibility:"visible",overflow:"visible"}).animate({top:0},{duration:500},"swing",function(){h=!1})):m(),u=!0),h||v(t,e)):u&&f(),i.forceLeft&&o.css("left",0)))};this.enable=function(){c=!0;b()};this.disable=function(){var t=c;c=!1;t&&f()};0!==(o=w(i.target)).length&&(i.alwaysVisible||d.scroll(b),d.resize(function(){r=o.parent().offset().left;u&&o.css("left",g());b()}),s=this,e=y.responsive.getCurrentBreakPoint(),-1!=i.enabledBreakpoints.indexOf(e.hash)&&s.enable(),w("#imContent").on("beforeBreakpointChanged.sidebarscroll",function(){s.disable()}).on("breakpointChanged.sidebarscroll",function(t,e){-1!=i.enabledBreakpoints.indexOf(e.hash)&&(l=!1,s.enable())}))}w.extend(y,{sidebarScroll:function(t){new i(t=w.extend({target:"#imSideBarObjects",trigger:"#imSideBarObjects",appear:!1,enabledBreakpoints:null,noLeft:!0},t))},blogSidebarScroll:function(t){new i(t=w.extend({target:"#imBlogSidebar",trigger:"#imBlogSidebar",appear:!1,enabledBreakpoints:null},t))},stickyBar:function(t){t=w.extend({target:"#imStickyBarContainer",trigger:e,triggerPartialHide:!1,appear:!0,enabledBreakpoints:null,forceFixed:!1,forceTop:!0,forceLeft:!0,useTranslateZ:!0,alwaysVisible:!1},t);0==w("header").height()&&(t.alwaysVisible=!0);new i(t)}})}(_jq,x5engine,window),function(c,e){"use strict";function o(){for(var n,l,t=c(window).height(),o=[],a=[],r=[],e=[.01,.5,.99],s={},i=0;i<u.length;i++)n=c(u[i]).height(),l=t/n,s[u[i].id]={start:.01*l,half:.5*l,full:.99*l},t!=n&&e.push(s[u[i].id].half,s[u[i].id].full);for(d=new IntersectionObserver(function(t){for(var i,n,e=0;e<t.length;e++)i=t[e],n=s[i.target.id],-1==o.indexOf(i.target.id)&&i.intersectionRatio>=n.start&&(o.push(i.target.id),c(i.target).trigger("rowEntersInViewport")),-1<o.indexOf(i.target.id)&&i.intersectionRatio<n.start&&(o.splice(o.indexOf(i.target.id),1),c(i.target).trigger("rowExitsFromViewport")),-1==a.indexOf(i.target.id)&&i.intersectionRatio>=n.half&&(a.push(i.target.id),c(i.target).trigger("rowFillsHalfViewport")),-1<a.indexOf(i.target.id)&&i.intersectionRatio<n.half&&(a.splice(a.indexOf(i.target.id),1),c(i.target).trigger("rowNoFillsHalfViewport")),-1==r.indexOf(i.target.id)&&i.intersectionRatio>=n.full&&(r.push(i.target.id),c(i.target).trigger("rowFillsViewport")),-1<r.indexOf(i.target.id)&&i.intersectionRatio<n.full&&(r.splice(r.indexOf(i.target.id),1),c(i.target).trigger("rowNoFillsViewport"))},{threshold:e}),i=0;i<u.length;i++)d.observe(u[i])}function a(){t&&(clearTimeout(t),t=void 0);t=setTimeout(function(){d.disconnect();o();t=void 0},100)}var t,d,u;c.extend(e,{pageRowsObserver:(u=document.querySelectorAll(".imPageRow"),{start:function(){var t,i,n;for(o(),c(window).resize(a),t=0;t<u.length;t++){i=0;n=0;e.utils.onElementResize(u[t],function(t){i==t.width&&n==t.height||(i=t.width,n=t.height,a())})}}})})}(_jq,x5engine),function(o,a){"use strict";o.extend(a,{imPageToTop:{constants:{id:"imPageToTop",visibleClass:"page-to-top-visible"},initializeButton:function(i){var t=a.imPageToTop.constants,e=a.settings.imPageToTop;i=o.extend(!0,{speed:e.speed,appearAt:e.appearAt,imageFile:e.imageFile},i);a.imPageToTop.createButton(i);o(window).on("ready scroll",function(){var e=o("#"+t.id);o(window).scrollTop()>i.appearAt?e.hasClass(t.visibleClass)||(e.addClass(t.visibleClass),e.fadeIn(1e3),e.one("click.scroll-to-top",function(){var t={duration:i.speed,easing:"swing",start:function(){o("body").trigger("pageToTopAnimationInProgress")},complete:function(){o("body").trigger("pageToTopAnimationCompleted")}};a.utils.scrollTo(0,t);e.off("click.scroll-to-top");e.fadeOut(1e3)})):e.hasClass(t.visibleClass)&&(e.removeClass(t.visibleClass),e.fadeOut(1e3))})},createButton:function(t){var e=a.imPageToTop.constants,i=o(document.createElement("div")),n;i.attr("id",e.id);n=o(document.createElement("img"));n.attr("src",a.settings.currentPath+t.imageFile).attr("alt","scroll to top").attr("id",e.id+"_img");o("body").append(i.append(n))}}})}(_jq,x5engine),function(T,F){"use strict";T.extend(F,{panAndZoom:function(t){function c(){function e(t){return t.preventDefault(),!1}var i=Math.min(g.height(),170)-60,n=!1,t=function(t){return n=!1,e(t)};l=T("<div />").css({position:"absolute",right:10,top:10}).mousemove(function(t){n&&(s.css("top",o(t.pageY-r.offset().top)),t=1-(t.pageY-r.offset().top)/(i-10),O(t*(1-C)+C,null,null,!1))}).mouseleave(t).mouseup(t).on("selectstart mousedown",e);var o=function(t){return Math.min(Math.max(t-10,0),i-20)},a={position:"absolute",color:"#aaa",border:"1px solid #ccc",background:k,cursor:"pointer","text-align":"center"},t=T("<div />").width(20).height(20).css(a).css({top:0,"border-radius":"5px 5px 0 0"}).text("+").click(function(t){return t.preventDefault(),O(x+.1),!1}).dblclick(e).on("selectstart mousedown",e),a=T("<div />").width(20).height(20).css(a).css({bottom:0,"border-radius":"0 0 5px 5px"}).text("-").click(function(t){return t.preventDefault(),O(x-.1),!1}).dblclick(e).on("selectstart mousedown",e),r=T("<div />").css({margin:"20px 9px",background:k,border:"1px solid #ccc"}).width(2).height(Math.min(i,u.targetHeight-20)),s=T("<div />").css({"border-radius":5,position:"absolute",margin:"25px 0",bottom:0,left:5,border:"1px solid #aaa",background:k,cursor:"pointer"}).width(10).height(10).mousedown(function(){n=!0}).mouseup(function(){n=!1}).on("dragstart",e).on("selectstart mousedown",e);g.append(l.append(r.append(s)).append(t).append(a));p.on("image.change",function(t,e){n||(e=(e-C)/(1-C),s.css("top",o((1-e)*i)))})}function d(t){u.enableZoom&&(t.preventDefault(),t=0<(t.originalEvent.detail||t.originalEvent.wheelDelta)?-.2:.2,t*=/(Chrome|IE)/gi.test(navigator.userAgent)?-1:1,O(x+t))}var u=T.extend({target:"",url:"",targetWidth:null,targetHeight:null,autoMove:!0,animate:!1,enableZoom:!1,showZoomControl:!1,showNavigator:!1,protect:!1,freedom:"both",handImage:"res/move.png",lensImage:"res/imsearch.png",helperBg:"black",navigatorSize:30},t),h=null,p=null,f=null,l=null,g=null,m=T("html").hasClass("touchevents"),v=null,b=null,w=0,y=0,x=0,C=0,k="#eee",_=null,I=(Math.random()-.5<0?-1:1)*(100+Math.round(20*Math.random()-10)),S=(Math.random()-.5<0?-1:1)*(100+Math.round(20*Math.random()-10)),M=!1,O=function(t,i,n,e){var o,a=null;t=Math.max(Math.min(t,1),C);null!==p&&t!=x&&(null==e&&(e=!0),p.stop(!1,!1),null==i&&(i=(w-u.targetWidth/2)*t/x+u.targetWidth/2),null==n&&(n=(y-u.targetHeight/2)*t/x+u.targetHeight/2),w=i=Math.min(Math.max(i,-v*t+u.targetWidth),0),y=n=Math.min(Math.max(n,-b*t+u.targetHeight),0),o={width:v*t,height:b*t,left:i,top:n},e?p.animate(o,{step:function(t,e){switch(e.prop){case"width":x=t/v;break;case"left":w=i=t;break;case"top":y=n=t}p.triggerHandler("image.change",[x,i,n])},complete:function(){x=t;p.triggerHandler("image.change",[x,i,n])}}):(x=t,null!==a&&window.cancelAnimFrame(a),window.requestAnimFrame(function(){p.css(o).width(v*t).height(b*t).triggerHandler("image.change",[x,i,n])})))};if(0===(g=T(u.target)).length)return!1;g.css({position:"relative",overflow:"hidden"}).width(u.targetWidth).height(u.targetHeight).prepend(F.settings.imLoadingAnimation);h=new F.mediaObject({url:u.url,effect:"fade",contentWidth:u.targetWidth,contentHeight:u.targetHeight,touchDevice:m,protect:u.protect,load:function(t){var e,i,n,o,a,r={x:0,y:0},s={x:0,y:0},l=null;(p=t.DOMObject()).css({display:"none",position:"absolute"});"ver"==u.freedom?(v=u.targetWidth,b=u.targetWidth*p.attr("data-height")/p.attr("data-width")):v="hor"==u.freedom?(b=u.targetHeight,u.targetHeight*p.attr("data-width")/p.attr("data-height")):(b=p.attr("data-height"),p.attr("data-width"));g.empty().prepend(p);(C=u.targetWidth/v)*b>u.targetHeight&&(C=u.targetHeight/b);u.enableZoom?(O(Math.min(u.targetWidth,u.targetHeight)/Math.max(b,v),(-v+u.targetWidth)/2,(-b+u.targetHeight)/2,!1),u.showZoomControl&&c()):O(1,(-v+u.targetWidth)/2,(-b+u.targetHeight)/2,!1);m?(e=x,a=o=n=i=null,t.BeforeMove(function(t){t.preventDefault();e=x;p.stop(!1,!1);r={x:t.touches[0].pageX,y:t.touches[0].pageY};s={x:w,y:y};i=n=null;M=!0}).Move(function(t){M&&(t.preventDefault(),o=i,a=n,y=n=s.y-(r.y-t.touches[0].pageY),w=i=s.x-(r.x-t.touches[0].pageX),(n<-b*x+u.targetHeight||0<n)&&(y=n=s.y-(r.y-t.touches[0].pageY)/2),(i<-v*x+u.targetWidth||0<i)&&(w=s.x-(r.x-t.touches[0].pageX)/2),p.css("top",n),p.css("left",i),r={x:t.touches[0].pageX,y:t.touches[0].pageY},s={x:w,y:y})}).AfterMove(function(t){t.preventDefault();null!==i&&null!==n&&(null!==o&&null!==a&&(i+=6*(i-o),n+=6*(n-a)),p.stop(!1,!1).animate({top:Math.min(Math.max(n,-b*x+u.targetHeight),0),left:Math.min(Math.max(i,-v*x+u.targetWidth),0)},{duration:1e3,easing:"iOsSwing",step:function(t,e){"top"==e.prop&&(y=t);"left"==e.prop&&(w=t)}}));M=!1}),u.enableZoom&&h.Pinch(function(t){M=!1;t.preventDefault();O(t.scale*e,null,null,!1)})):(u.showNavigator&&function(){var e={x:0,y:0},i={x:0,y:0},a=u.targetWidth/v*b,r=u.targetWidth,s=null;a>u.targetHeight&&(r=u.targetHeight/b*v,a=u.targetHeight);var r=r*u.navigatorSize/100,a=a*u.navigatorSize/100,n=new F.mediaObject({url:u.url,effect:"none",width:r,height:a,contentWidth:r,contentHeight:a,touchDevice:!1,deferredCaching:!0,protect:u.protect});n.Cache({load:function(){var t=null,o;f=T("<div />").css({position:"absolute",top:-r-10,left:10,background:k,border:"1px solid "+k}).width(r).height(a).mousedown(function(t){M=!0;e={x:t.pageX,y:t.pageY};i={x:-1*o.css("border-left-width").replace(/px/g,""),y:-1*o.css("border-top-width").replace(/px/g,"")}}).mouseup(function(){M=!1}).mouseleave(function(){M=!1}).mousemove(function(t){M&&(t.preventDefault(),w=(i.x+(e.x-t.pageX))/r*v,y=(i.y+(e.y-t.pageY))/a*b,w=Math.min(Math.max(w,-v*x+u.targetWidth),0),y=Math.min(Math.max(y,-b*x+u.targetHeight),0),p.css({top:y,left:w}).triggerHandler("image.change",[x,w,y]))}).on("dragstart",function(t){return t.preventDefault(),!1});o=T("<div />").css({position:"absolute",top:0,bottom:0,left:0,right:0,border:"0px solid "+k,background:"transparent"}).fadeTo(0,.75);p.on("image.change",function(t,e,i,n){null!==s&&window.cancelAnimFrame(s);s=window.requestAnimFrame(function(){o.css({"border-top-width":-n/e/b*a,"border-bottom-width":a- -n/e/b*a-u.targetHeight*a/(b*e),"border-left-width":-i/e/v*r,"border-right-width":r- -i/e/v*r-u.targetWidth*r/(v*e)})})});g.append(f.append(n.DOMObject()).append(o)).mouseleave(function(){t=setTimeout(function(){f.stop(!1,!1).animate({top:-f.height()-20})},1e3)}).mouseenter(function(){null!==t&&(clearTimeout(t),t=null);f.stop(!1,!1).animate({top:10})});f.on("mousewheel DOMMouseScroll",d)}})}(),p.mousedown(function(t){1!=t.which||u.autoMove||(p.stop(!1,!1).css("cursor","move"),M=!0,r={x:t.pageX,y:t.pageY},s={x:p.position().left,y:p.position().top})}).mouseup(function(){u.autoMove||(M=!1,p.css("cursor","auto"))}).mouseleave(function(){M=!1;p.css("cursor","auto");null!==l&&window.cancelAnimFrame(l)}).mousemove(function(t){var o,a,e,i;t.preventDefault();u.autoMove?(M=!0,o=t.pageX-g.offset().left-u.targetWidth/2,a=t.pageY-g.offset().top-u.targetHeight/2,e=Math.abs(o/a),i="","ver"==u.freedom?i+="ns":"hor"==u.freedom?i+="ew":e<1.5&&.5<e?(i+=a<0?"n":"s",i+=o<0?"w":"e"):1<e?i+=o<0?"w":"e":e<1&&(i+=a<0?"n":"s"),p.css("cursor",i+"-resize"),null!==l&&window.cancelAnimFrame(l),function t(e){var i=o*x*e/400,e=a*x*e/400,n;M&&(y=Math.min(Math.max(y-e,-b*x+u.targetHeight),0),w=Math.min(Math.max(w-i,-v*x+u.targetWidth),0),p.css({top:y,left:w}).triggerHandler("image.change",[x,w,y]));n=new Date;l=window.requestAnimFrame(function(){t(new Date-n)})}(0)):M&&(w=Math.min(Math.max(s.x-(r.x-t.pageX),-v*x+u.targetWidth),0),y=Math.min(Math.max(s.y-(r.y-t.pageY),-b*x+u.targetHeight),0),p.css({top:y,left:w}).triggerHandler("image.change",[x,w,y]))}),u.enableZoom&&p.dblclick(function(){O(1!=x?1:C)}),p.on("mousewheel DOMMouseScroll",d).on("dragstart",function(){return!1}),g.append(_=T("<div />").css({position:"absolute",bottom:0,right:0}).width(30).height(30).append(T("<div />").css({background:u.helperBg,"border-top-left-radius":5,position:"absolute",top:0,bottom:0,left:0,right:0}).fadeTo(0,.75)).append(T("<div />").css({background:"transparent url('"+(u.enableZoom?u.lensImage:u.handImage)+"') no-repeat center center",position:"absolute",top:0,bottom:0,left:0,right:0}))).mouseenter(function(){_.stop(!1,!1).animate({right:-30,bottom:-30})}).mouseleave(function(){_.stop(!1,!1).animate({right:0,bottom:0})}));h.TriggerAnimationInStart();p.fadeIn();u.animate&&function t(e){!M&&C+.05<x&&(w+=e/1e3*I*x,((y+=e/1e3*S*x)<-b*x+u.targetHeight||0<y)&&(S*=-1,y=Math.min(Math.max(y,-b*x+u.targetHeight),0)),(w<-v*x+u.targetWidth||0<w)&&(I*=-1,w=Math.min(Math.max(w,-v*x+u.targetWidth),0)),p.css({top:y,left:w}).triggerHandler("image.change",[x,w,y]));var i=new Date;window.requestAnimFrame(function(){t(new Date-i)})}(0)}})}})}(_jq,x5engine),function(s,e,n){"use strict";function i(){n.requestAnimationFrame(function(){l=[];c=s(n).height();t=-1;var r=e.utils.getCurrentBrowser();s(".imParallax").each(function(){var t=s(this),e=t.find(".imParallaxBackground"),i,n;if(0!=e.length)if(i=e.data("parallaxDirection")||"down","down"!=i||"Microsoft Edge"!=r&&"Microsoft Internet Explorer"!=r){if("fixed"==i)return n=Math.round((c-t.height())/2),(e.css("top",(0<n?-n:0)+"px"),e.css("bottom",(0<n?-n:0)+"px"),e.css("visibility","visible"),"Microsoft Internet Explorer"==r)?void 0:void e.css("background-attachment","fixed");var o=t.offset().top+t.height()/2,a=c/2+t.height()/2,n=e.data("parallaxZoom")||0,t=(Math.round(t.height()*(1+n/100))-t.height())/2;l.push({background:e,focusPoint:o,maxDistance:a,hidden:!0,direction:i,translateYMax:t});e.css("will-change","transform")}else e.css("visibility","visible")});o()})}function o(){var i=((document.documentElement||document.body.parentNode||document.body).scrollTop||n.pageYOffset)+c/2;t!=i&&(t=i,s.each(l,function(t,o){var e=o.focusPoint-i,a;e>o.maxDistance?e=o.maxDistance:e<-o.maxDistance&&(e=-o.maxDistance);a=Math.round(e*o.translateYMax/o.maxDistance);"up"!=o.direction&&(a=-a);o.background.each(function(){var e,i=s(this),n=i.data("parallaxLevels")||1;1<n&&"fixed"!=o.direction?(e=i.data("parallaxLevel")||0,n=("down"==o.direction?n-e:e+1)/n,i.css("transform","translate3d(0, "+Math.round(a*n)+"px, 0")):i.css("transform","translate3d(0, "+a+"px, 0)")});o.hidden&&(o.background.css("visibility","visible"),o.hidden=!1)}))}var l,c,t,a;s.extend(e,{parallax:(l=[],c=0,a=!(t=-1),{start:function(){var t;a||(a=!0,e.responsive.isMobileDevice()?n.requestAnimationFrame(function(){c=s(n).height();s(".imParallax").each(function(){var t=s(this),e=t.find(".imParallaxBackground");0!=e.length&&("fixed"==(e.data("parallaxDirection")||"down")&&(t=Math.round((c-t.height())/2),e.css("top",(0<t?-t:0)+"px"),e.css("bottom",(0<t?-t:0)+"px")),e.css("visibility","visible"))})}):(i(),t=document.getElementById("imContent"),e.utils.onElementResize(t,function(){i()}),function t(e){n.requestAnimationFrame(function(){e();t(e)})}(o)))}})})}(_jq,x5engine,window),function(e,o){"use strict";e.extend(o,{passwordpolicy:{requiredPolicy:!1,minimumCharacters:6,includeUppercase:!1,includeNumeric:!1,includeSpecial:!1,init:function(t){t=e.extend({requiredPolicy:!1,minimumCharacters:6,includeUppercase:!1,includeNumeric:!1,includeSpecial:!1},t);o.passwordpolicy.requiredPolicy="true"==t.requiredPolicy;o.passwordpolicy.minimumCharacters=parseInt(t.minimumCharacters);o.passwordpolicy.includeUppercase="true"==t.includeUppercase;o.passwordpolicy.includeNumeric="true"==t.includeNumeric;o.passwordpolicy.includeSpecial="true"==t.includeSpecial;"true"==t.requiredPolicy&&o.imForm.activeFocusPasswordPolicy(o.passwordpolicy.getPolicy())},getMinimumCharacters:function(){return o.passwordpolicy.minimumCharacters},getPolicy:function(){var t=["form_password"];return t.push("form_password_length"),o.passwordpolicy.includeUppercase&&t.push("form_password_upper"),o.passwordpolicy.includeNumeric&&t.push("form_password_numeric"),o.passwordpolicy.includeSpecial&&t.push("form_password_special"),t},isValidPassword:function(t){if(o.passwordpolicy.requiredPolicy){var e=!o.passwordpolicy.includeUppercase||o.passwordpolicy.includeUppercase&&/[A-Z]/.test(t),i=!o.passwordpolicy.includeNumeric||o.passwordpolicy.includeNumeric&&/[0-9]/.test(t),n=!o.passwordpolicy.includeSpecial||o.passwordpolicy.includeSpecial&&/[!?<>#$%&*@()]/.test(t);return t.length>=o.passwordpolicy.minimumCharacters&&e&&i&&n}return 0<t.length}}})}(_jq,x5engine),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.ResizeObserver=e()}(this,function(){"use strict";function o(t,i){var n=-1;return t.some(function(t,e){return t[0]===i&&(n=e,!0)}),n}function e(){this.__entries__=[]}function i(){function t(){a&&(a=!1,n());r&&i()}function e(){l(t)}function i(){var t=Date.now();if(a){if(t-s<c)return;r=!0}else r=!(a=!0),setTimeout(e,o);s=t}var n,o,a,r,s;this.connected_=!1;this.mutationEventsAdded_=!1;this.mutationsObserver_=null;this.observers_=[];this.onTransitionEnd_=this.onTransitionEnd_.bind(this);this.refresh=(n=this.refresh.bind(this),r=a=!(o=20),s=0,i)}function f(t){return parseFloat(t)||0}function g(i){for(var t=[],e=arguments.length-1;0<e--;)t[e]=arguments[e+1];return t.reduce(function(t,e){return t+f(i["border-"+e+"-width"])},0)}function m(t){var e=t.clientWidth,i=t.clientHeight;if(!e&&!i)return p;var n=h(t).getComputedStyle(t),o=function(t){for(var o,a,e={},i=0,n=["top","right","bottom","left"];i<n.length;i+=1)o=n[i],a=t["padding-"+o],e[o]=f(a);return e}(n),a=o.left+o.right,r=o.top+o.bottom,s=f(n.width),l=f(n.height);return"border-box"===n.boxSizing&&(Math.round(s+a)!==e&&(s-=g(n,"left","right")+a),Math.round(l+r)!==i&&(l-=g(n,"top","bottom")+r)),t!==h(t).document.documentElement&&(e=Math.round(s+a)-e,i=Math.round(l+r)-i,1!==Math.abs(e)&&(s-=e),1!==Math.abs(i)&&(l-=i)),w(o.left,o.top,s,l)}function b(t){return a?v(t)?w(0,0,(e=(e=t).getBBox()).width,e.height):m(t):p;var e}function w(t,e,i,n){return{x:t,y:e,width:i,height:n}}function y(t){this.broadcastWidth=0;this.broadcastHeight=0;this.contentRect_=w(0,0,0,0);this.target=t}function x(t,e){var i,n,o,a=(i=(a=e).x,n=a.y,o=a.width,e=a.height,a="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(a.prototype),u(a,{x:i,y:n,width:o,height:e,top:n,right:i+o,bottom:e+n,left:i}),a);u(this,{target:t,contentRect:a})}function C(t,e,i){if(this.activeObservations_=[],this.observations_=new n,"function"!=typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t;this.controller_=e;this.callbackCtx_=i}function k(t){if(!(this instanceof k))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var e=i.getInstance(),e=new C(t,e,this);_.set(this,e)}var t,n="undefined"!=typeof Map?Map:((t={size:{configurable:!0}}).size.get=function(){return this.__entries__.length},e.prototype.get=function(t){return t=o(this.__entries__,t),t=this.__entries__[t],t&&t[1]},e.prototype.set=function(t,e){var i=o(this.__entries__,t);~i?this.__entries__[i][1]=e:this.__entries__.push([t,e])},e.prototype.delete=function(t){var e=this.__entries__,t=o(e,t);~t&&e.splice(t,1)},e.prototype.has=function(t){return!!~o(this.__entries__,t)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,e){var i,n,o;for(void 0===e&&(e=null),i=0,n=this.__entries__;i<n.length;i+=1)o=n[i],t.call(e,o[1],o[0])},Object.defineProperties(e.prototype,t),e),a="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,r="undefined"!=typeof global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),l="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(r):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)},c=2,s=["top","right","bottom","left","width","height","size","weight"],d="undefined"!=typeof MutationObserver,v,_;i.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t);this.connected_||this.connect_()};i.prototype.removeObserver=function(t){var e=this.observers_,t=e.indexOf(t);~t&&e.splice(t,1);!e.length&&this.connected_&&this.disconnect_()};i.prototype.refresh=function(){this.updateObservers_()&&this.refresh()};i.prototype.updateObservers_=function(){var t=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return t.forEach(function(t){return t.broadcastActive()}),0<t.length};i.prototype.connect_=function(){a&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),d?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)};i.prototype.disconnect_=function(){a&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)};i.prototype.onTransitionEnd_=function(t){var e=t.propertyName;void 0===e&&(e="");s.some(function(t){return!!~e.indexOf(t)})&&this.refresh()};i.getInstance=function(){return this.instance_||(this.instance_=new i),this.instance_};i.instance_=null;var u=function(t,e){for(var o,i=0,n=Object.keys(e);i<n.length;i+=1)o=n[i],Object.defineProperty(t,o,{value:e[o],enumerable:!1,writable:!1,configurable:!0});return t},h=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||r},p=w(0,0,0,0);return v="undefined"!=typeof SVGGraphicsElement?function(t){return t instanceof h(t).SVGGraphicsElement}:function(t){return t instanceof h(t).SVGElement&&"function"==typeof t.getBBox},y.prototype.isActive=function(){var t=b(this.target);return(this.contentRect_=t).width!==this.broadcastWidth||t.height!==this.broadcastHeight},y.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},C.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof h(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new y(t)),this.controller_.addObserver(this),this.controller_.refresh())}},C.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof h(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},C.prototype.disconnect=function(){this.clearActive();this.observations_.clear();this.controller_.removeObserver(this)},C.prototype.gatherActive=function(){var e=this;this.clearActive();this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},C.prototype.broadcastActive=function(){var t,e;this.hasActive()&&(t=this.callbackCtx_,e=this.activeObservations_.map(function(t){return new x(t.target,t.broadcastRect())}),this.callback_.call(t,e,t),this.clearActive())},C.prototype.clearActive=function(){this.activeObservations_.splice(0)},C.prototype.hasActive=function(){return 0<this.activeObservations_.length},_=new("undefined"!=typeof WeakMap?WeakMap:n),["observe","unobserve","disconnect"].forEach(function(e){k.prototype[e]=function(){return(t=_.get(this))[e].apply(t,arguments);var t}}),void 0!==r.ResizeObserver?r.ResizeObserver:k}),function(o,a){"use strict";o.extend(!0,a,{responsive:{interfaceName:"media-query-to-js",init:function(){var t,e,i=o(window).width();a.settings.breakPoints&&a.settings.breakPoints.length&&(o("body").append('<div id="'+a.responsive.interfaceName+'" />'),t=null,e=a.responsive.getCurrentBreakPoint(),o(window).on("resize",function(){t&&clearTimeout(t);t=setTimeout(function(){var t;a.utils.isInFullScreenMode()||o(window).width()!=i&&(i=o(window).width(),(t=a.responsive.getCurrentBreakPoint())&&e&&(e.hash!=t.hash?(o("#imContent").trigger("beforeBreakpointChanged",t).trigger("breakpointChanged",t).trigger("breakpointChangedOrFluid",t),e=t):t.fluid&&o("#imContent").trigger("breakpointChangedOrFluid",t)))},50)}))},getCurrentBreakPoint:function(){for(var t=o("#"+a.responsive.interfaceName).width(),e=a.settings.breakPoints,i=0;i<e.length;i++)if(e[i].end<=t)return e[i];throw"Breakpoint not found!";},isDesktopMode:function(){return a.settings.breakPoints.length<2||a.responsive.getCurrentBreakPoint().hash==a.settings.breakPoints[0].hash},isMobileDevice:function(){if(a.settings.breakPoints.length<3)return!1;var t=a.settings.breakPoints[a.settings.breakPoints.length-2];return o(window).width()<=t.start&&Modernizr.touchevents},resolutionRedirect:function(t){var e,i,n;if(t=o.extend({execute:!0,defaultUrl:"",rules:[]},t),e=o("#"+a.responsive.interfaceName),i=(e.length&&0<e.innerWidth()?e:o(window)).innerWidth(),0<i)for(n=0;n<t.rules.length;n++)if(t.rules[n].min<=i&&i<t.rules[n].max)return t.execute&&(location.href=t.rules[n].url),t.rules[n].url;return t.defaultUrl?(t.execute&&(location.href=t.defaultUrl),t.defaultUrl):""},touchHelper:function(){var t=!1,e="touchstart"in document||"ontouchstart"in document;o("body").one("mousemove",function(){t=!0});this.isTouch=function(){return e};this.isTouchOnly=function(){return this.isTouch()&&!t}}}});a.boot.push(a.responsive.init,!1,"first")}(_jq,x5engine),function(h,t){"use strict";h.extend(t,{imRollover:function(n){function d(t){var e,i;switch((t=h.extend({tick:!1,reset:!0},t)).reset&&function(){h(n.id).parent().height()<n.height&&h(n.id).parent().height(n.height);switch(n.movement){case"CONTINUE":switch(n.direction){case"UP":s.css({left:0,top:n.height});break;case"BOTTOM":s.css({left:0,top:-s.height()});break;case"LEFT":s.css("left",a.width()).width(u(s.html()));break;case"RIGHT":l=u(s.html());s.css("left",-Math.abs(l)).width(l)}break;case"PAGINATE":switch(n.direction){case"BOTTOM":s.css({left:0,top:-s.height()+n.height});break;case"UP":s.css({left:0,top:0});break;case"RIGHT":l=u(s.html());s.css("left",-l+a.width()).width(l);break;case"LEFT":s.css("left",0).width(u(s.html()))}break;default:switch(n.direction){case"UP":s.css({left:0,top:-s.height()+n.height});break;case"BOTTOM":s.css({left:0,top:0});break;case"LEFT":l=u(s.html());s.css("left",-l+a.width()).width(l);break;case"RIGHT":l=u(s.html());s.css("right",-l+a.width()).width(l)}}}(),n.movement){case"PAGINATE":switch(n.direction){case"UP":i=s.css("top").replace("px","");(i=isNaN(parseInt(i,10))?0:parseInt(i,10))>n.height-s.outerHeight()?s.animate({top:i-n.height},{duration:"medium",complete:function(){r=setTimeout(function(){d({reset:!1})},1e3*n.time)},easing:o}):s.animate({top:0},{duration:"medium",complete:function(){r=setTimeout(function(){d({reset:!1})},1e3*n.time)},easing:o});break;case"BOTTOM":i=s.css("top").replace("px","");(i=isNaN(parseInt(i,10))?0:parseInt(i,10))<=0?s.animate({top:i+n.height},{duration:"medium",complete:function(){r=setTimeout(function(){d({reset:!1})},1e3*n.time)},easing:o}):s.animate({top:n.height-s.height()},{duration:"medium",complete:function(){r=setTimeout(function(){d({reset:!1})},1e3*n.time)},easing:o});break;case"LEFT":e=s.css("left").replace("px","");(e=isNaN(parseInt(e,10))?0:parseInt(e,10))>-s.width()+a.width()?s.animate({left:e-a.width()},{duration:"medium",complete:function(){r=setTimeout(function(){d({reset:!1})},1e3*n.time)},easing:o}):s.animate({left:0},{duration:"medium",complete:function(){r=setTimeout(function(){d({reset:!1})},1e3*n.time)},easing:o});break;case"RIGHT":e=s.css("left").replace("px","");(e=isNaN(parseInt(e,10))?0:parseInt(e,10))<0?s.animate({left:e+a.width()},{duration:"medium",complete:function(){setTimeout(function(){d({reset:!1})},1e3*n.time)},easing:o}):s.animate({left:-s.width()+a.width()},{duration:"medium",complete:function(){setTimeout(function(){d({reset:!1})},1e3*n.time)},easing:o})}break;case"CONTINUE":switch(n.direction){case"UP":s.animate({top:-s.outerHeight()},{duration:1e3*n.time,complete:function(){s.css({top:n.outerHeight});d()},easing:o});break;case"BOTTOM":s.animate({top:n.height},{duration:1e3*n.time,complete:function(){s.css({top:-s.height()});d()},easing:o});break;case"LEFT":s.animate({left:-s.width()},{duration:1e3*n.time,complete:function(){s.css({left:a.width()});d()},easing:o});break;case"RIGHT":s.animate({left:a.width()},{duration:1e3*n.time,complete:function(){s.css({left:-s.width()});d()},easing:o})}break;case"SINGLE":switch(n.direction){case"UP":s.animate({top:0},{duration:1e3*n.time,easing:o});break;case"BOTTOM":s.animate({top:-s.height()+n.height},{duration:1e3*n.time,easing:o});break;case"RIGHT":l=u(s.html());s.animate({left:-l+a.width()},{duration:1e3*n.time,easing:o});break;case"LEFT":s.animate({left:0},{duration:1e3*n.time,easing:o})}break;default:switch(n.direction){case"UP":s.animate({top:0},{duration:1e3*n.time,complete:function(){n.direction="BOTTOM";d()},easing:o});break;case"BOTTOM":s.animate({top:-s.height()+n.height},{duration:1e3*n.time,complete:function(){n.direction="UP";d()},easing:o});break;case"RIGHT":l=u(s.html());s.animate({left:-l+a.outerWidth()},{duration:1e3*n.time,complete:function(){n.direction="LEFT";d()},easing:o});break;case"LEFT":s.animate({left:0},{duration:1e3*n.time,complete:function(){n.direction="RIGHT";d()},easing:o})}}}function e(){"PAGINATE"!=n.movement?d():r=setTimeout(function(){d()},1e3*n.time)}function i(){s.stop()}var u;n=h.extend({id:null,movement:"ALTERNATE",direction:"UP",effect:"LINEAR",autostart:!1},n);var o,a=h(n.id),r=null,s=(n.time,null),l=0,c={top:+a.css("padding-top").replace(/px/,""),right:+a.css("padding-right").replace(/px/,""),bottom:+a.css("padding-bottom").replace(/px/,""),left:+a.css("padding-left").replace(/px/,"")};switch(n.effect){case"SWING":o="swing";break;case"BOUNCE":o="imBounce";break;default:o="linear"}void 0!==a.attr("id")&&null!==a.attr("id")||a.attr("id","rollover_"+Math.round(1e3*Math.random()));u=function(t){var e=h("<div><div>"+t+"<\/div><\/div>").css({position:"absolute",top:-1e3}).width(5e7),i=e.children().css({width:"auto","white-space":"UP"==n.direction||"BOTTOM"==n.direction?"normal":"nowrap",display:"inline-block","padding-top":c.top,"padding-bottom":c.bottom,"padding-right":c.right,"padding-left":c.left,"max-width":"100%"}),t=0;return a.append(e),t=i.outerWidth(!0)+30,e.remove(),t};!function t(){a.is(":visible")?(a.height(n.height).css({position:"relative",overflow:"hidden"}),h("#"+a.attr("id")+"_runner").length<1&&a.wrapInner('<div id="'+a.attr("id")+'_runner">'),s=h("#"+a.attr("id")+"_runner").css({position:"absolute","padding-top":c.top,"padding-bottom":c.bottom,"padding-right":c.right,"padding-left":c.left,"white-space":"UP"==n.direction||"BOTTOM"==n.direction?"normal":"nowrap","max-width":"UP"==n.direction||"BOTTOM"==n.direction?"100%":"none",width:"100%","box-sizing":"border-box"}),n.mouselock&&("PAGINATE"!=n.movement?a.mouseenter(function(){s.pauseAnim()}).mouseleave(function(){s.resAnim()}):a.mouseover(function(){null!==r&&clearTimeout(r)}).mouseleave(function(){r=setTimeout(function(){d({reset:!1})},1e3*n.time)})),n.autostart&&e(),a.data("imRollover",{start:function(){e()},stop:function(){i()},disable:function(){i();h(s.eq(0).contents()).unwrap();a.height("auto")}})):setTimeout(t,300)}()}})}(_jq,x5engine),function(At,Et){"use strict";At.extend(Et,{imShowBox:function(u,r,a){function s(t,e){var i,n,o;u.showThumbs&&void 0!==u.media[t]&&null!==u.media[t]&&((i=At("<div class='im-showbox-thumb' data-index='"+t+"'>")).css({"background-position":"center center","background-repeat":"no-repeat","background-size":"cover",width:u.thumbSize,height:u.thumbSize,display:"none",cursor:"pointer","box-shadow":"0 0 2px "+u.background}),o="",n=u.media[t].type,o=void 0===u.media[t].thumbUrl?-1!=["video","youtube","vimeo"].indexOf(n)?Et.settings.currentPath+"res/video_thumb.svg":"image"==n?u.media[t].url:Et.settings.currentPath+"res/impage.png":u.media[t].thumbUrl,At("<img/>").on("load",function(){i.css("background-image",'url("'+o+'")');At.isFunction(e)&&e(t,i)}).attr("src",o),s(t+1,e))}function h(t){B.find(".im-showbox-thumb").css("opacity",1);B.find(".im-showbox-thumb[data-index="+t+"]").css("opacity",.6);var e=u.thumbSize+20,e=j.width()/2-(t*e+e/2);B.css("left",e);ot&&(B.animate({bottom:0},500),ot=!1)}function i(t){S=At(document.createElement("div"));W.append(S);S.addClass("showbox-bg");t&&S.prepend(Et.settings.imLoadingAnimation);S.css({position:"fixed","background-color":u.background,top:0,left:0,bottom:0,right:0,display:"none","z-index":Et.settings.zIndex.showBox}).fadeTo(z,u.opacity);W.append(C);C.show().click(Mt);u.radialBg&&(/Firefox/i.test(navigator.userAgent)?S.css({"background-image":"-moz-radial-gradient(center 45deg, ellipse farthest-corner, "+Et.utils.hex2rgb(u.background,80,80,80)+" 0%, "+Et.utils.hex2rgb(u.background,40,40,40)+" 40%, "+Et.utils.hex2rgb(u.background)+" 100%)"}):/Chrome/i.test(navigator.userAgent)&&S.css({background:"-webkit-gradient(radial, 50% 50%, 0, 50% 50%, 500, from("+Et.utils.hex2rgb(u.background,80,80,80)+"), to("+Et.utils.hex2rgb(u.background)+"))"}))}function p(t){var e=y[t].Width()/y[t].Height(),i=y[t].Width()+rt,n=y[t].Height()+st,o=Q?j.width():j.width()-2*u.windowPadding-(M.outerWidth()+O.outerWidth()),a=Q?j.height():j.height()-2*u.windowPadding-Math.max(H.outerHeight(),T.outerHeight(),F.outerHeight())-P.outerHeight(),r=y[t].GetDescription(),s=null,l;return r&&((s=k.clone()).css({position:"absolute",top:-1e3,right:"auto",left:"auto",bottom:"auto"}).width(i).html(r),W.append(s),n+=s.outerHeight()),o<i&&(n=(o-rt)/e+st,i=o,s&&(s.width(i),n+=s.outerHeight())),a<n&&(i=(a-rt)*e+rt,e=n=a,s&&(s.width(i),e-=a=s.outerHeight(),l=s.width(),t=Math.round(y[t].Width()*e/y[t].Height()),s.width(t),s.outerHeight()<=a?i=Math.round(t):s.width(l))),l=0,s&&(l=s.outerHeight(),s.remove()),{width:i,height:n,dHeight:l}}function f(t){u.showProgress&&1<u.media.length&&H.html(t+1+"/"+u.media.length)}function l(){return u.zoomEnabled&&it&&et<6&&(tt=!0,et++,yt()),!1}function c(){return u.zoomEnabled&&it&&1<et&&(1==--et&&(tt=!1),yt()),!1}function d(){var e=Et.utils.fullScreenElement();e&&e!==C.get(0)||(tt&&wt(),y[q].DOMObject().is("iframe")&&-1!=navigator.userAgent.indexOf("X5")||kt(q,null,null,!0))}function g(t){switch(t.keyCode){case 37:case 40:t.preventDefault();St();break;case 39:case 38:t.preventDefault();It();break;case 27:t.preventDefault();(Q?gt:Mt)()}}function n(){X=setTimeout(function(){It();X=null;n()},u.autoplayTime)}function m(){null!==X&&clearTimeout(X)}function v(){u.sound&&(N=new Audio(u.sound)).play()}var t=At("html").hasClass("touchevents")?{innerBorder:0,borderWidth:{left:0,right:0,top:0,bottom:0},windowPadding:0}:{},e,o,Dt;u=At.extend({},Et.settings.imShowBox,u,t);r=r||0;a=At(a);o=r;a.width()&&a.height()&&!a.children("img").length||((Ot=a.children("img")).length?a=Ot:(e=!1,a.children().each(function(){var t=At(this);e||0===t.width()||0===t.height()||(a=t,e=!0)})));var b=At("html").hasClass("touchevents"),w=/(iPad|iPhone)/i.test(navigator.userAgent),y=[],x=null,C=null,k=null,_=null,I=null,S=null,M=null,O=null,T=null,F=null,D=null,A=null,E=null,H=null,P=null,B=null,z="fade"!=u.effect&&"custom"!=u.effect?250:2,L="fade"!=u.effect?250:2,R=null,j=At(window),W=At("body"),t=At("head"),N=null,q=null,U=a.css("visibility"),$=a.width(),Y=a.height(),V=!1,X=null,G=null,Z=null,J=null,K=null,Q=!1,tt=!1,et=1,it=!1,nt=!0,ot=!0,at=Et.l10n.get,rt=2*u.innerBorder+u.borderWidth.left+u.borderWidth.right,st=2*u.innerBorder+u.borderWidth.top+u.borderWidth.bottom,lt=0,ct=0,dt=function(){for(var t={forceStop:!1},e=0;e<u.media.length;e++)t[e]={loadStarted:!1,loadEnded:!1};return t}(),ut=function(t,i,n){u.media[t]&&ht(t,function(t,e){n?ut(t+n,i,n):(ut(t+1,i,1),ut(t-1,i,-1));i(t,e)})},ht=function(e,i){var n;dt.forceStop||dt[e].loadStarted||(dt[e].loadStarted=!0,n=u.media[e].load,void 0!==u.media[e].effect&&null!==u.media[e].effect||(u.media[e].effect=u.transitionEffect),new Et.mediaObject(At.extend({},u.media[e],{touchDevice:b,android:!1,allowFrameTransparency:u.allowFrameTransparency,load:function(t){y[e]=t;At.isFunction(i)&&i(e,t);b&&t.AfterMove(function(t,e){t.preventDefault();tt||((Math.abs(e.offsetX)>Math.abs(e.offsetY)?e.offsetX:e.offsetY)<0?It:St)()}).Gesture(function(t){t.preventDefault();t.scale<.9&&Mt()}).AfterPinch(function(t){t.preventDefault();tt?(t.scale<1?c:l)():t.scale<.9&&Mt()});At.isFunction(n)&&n(t);dt[e].loadEnded=!0}})))},pt=function(){I.css("box-shadow",u.shadow)},ft=function(){I.css("box-shadow","")},gt=function(){return u.fullScreenEnabled&&Et.utils.isFullScreenNativelySupported()&&(Q?mt():(lt=window.pageXOffset,ct=window.pageYOffset,function(){(Q=!0,Et.utils.enterFullScreen(C.get(0)),F.html(u.buttonExitFS).attr("title",at("showbox_tip_fs_exit","Exit FullScreen")),At(document).on("imFullScreenClose",mt),R!=null)&&clearTimeout(R);R=setTimeout(Ft,4e3);At(document).on("mousemove",bt);At("#imShowBox").on("click",bt)}())),!1},mt=function(){Q&&(Q=!1,Et.utils.exitFullScreen(),vt());F.html(u.buttonEnterFS).attr("title",at("showbox_tip_fs_enter","Enter FullScreen"));At(document).off("imFullScreenClose",mt);At(document).off("mousemove",bt);At("#imShowBox").off("click",bt);null!=R?(clearTimeout(R),R=null):Tt()},vt=function(){(0<lt||0<ct)&&setTimeout(function(){window.scrollTo(lt,ct);ct=lt=0},100)},bt=function(){null!=R?(clearTimeout(R),R=null):Tt();R=setTimeout(Ft,4e3)},wt=function(){return u.zoomEnabled&&it&&tt&&(tt=!(et=1),yt()),!1},yt=function(){var t;V?((t=y[q].DOMObject()).css({transform:"scale3d("+et+", "+et+", 1)","transform-origin":"50% 50% 0","transition-property":"transform","transition-duration":tt?"300ms":"0"}),tt?(t.addClass("grabbable"),H.fadeOut(),k.fadeOut(),x.css({backgroundColor:"transparent",borderColor:"transparent"}),ft()):(t.removeClass("grabbable"),H.fadeIn(),k.fadeIn(),x.css({backgroundColor:u.boxColor,borderColor:u.borderColor}),pt()),t.parent().css({overflow:tt?"visible":"hidden",transform:"translate3d(0, 0, 0)"}).attr("data-x",0).attr("data-y",0),Ct(),xt()):x.on("showboxReady",yt)},xt=function(){var t,e,i;u.zoomEnabled&&(t={cursor:"pointer",position:"absolute",top:"0"},e=u.fullScreenEnabled?F.outerWidth():0,it?(i=0,D.css(t).css({display:"block",right:i+=T.outerWidth()+e}),et<6?D.children().removeClass("disabled"):D.children().addClass("disabled"),A.css(t).css({display:tt?"block":"none",right:i+=D.outerWidth()}),E.css(t).css({display:tt?"block":"none",right:i+=A.outerWidth()})):(1==u.media.length?D.css("display","none"):D.css(t).css({display:"block",right:T.outerWidth()+e}).children().addClass("disabled"),A.css("display","none"),E.css("display","none")))},Ct=function(){var r=y[q].DOMObject(),s=r.parent(),l={},c={},d=!1,u=!1,h=!1,p=!1;_.off("mousedown.zoom touchstart.zoom").on("mousedown.zoom touchstart.zoom",function(t){tt&&(p=r.outerHeight()*et>j.height(),((h=r.outerWidth()*et>j.width())||p)&&(t.preventDefault(),l="mousedown"==t.type?{x:t.pageX,y:t.pageY}:{x:t.originalEvent.targetTouches[0].pageX,y:t.originalEvent.targetTouches[0].pageY},r.removeClass("grabbable").addClass("grabbing"),u=!0))});j.off("mousemove.zoom touchmove.zoom").on("mousemove.zoom touchmove.zoom",function(t){var e;u&&(d=!0,c="mousemove"==t.type?{x:t.pageX,y:t.pageY}:{x:t.originalEvent.targetTouches[0].pageX,y:t.originalEvent.targetTouches[0].pageY},e=p?parseInt(s.attr("data-y"))+(c.y-l.y):s.attr("data-y"),t=h?parseInt(s.attr("data-x"))+(c.x-l.x):s.attr("data-x"),s.css("transform","translate3d("+t+"px, "+e+"px, 0)"))});j.off("mouseup.zoom touchend.zoom").on("mouseup.zoom touchend.zoom",function(t){var e,i,n,o,a;u&&(u=!1,r.removeClass("grabbing").addClass("grabbable"),!d||l.x===c.x&&l.y===c.y||("mouseup"==t.type&&(c={x:t.pageX,y:t.pageY}),e=l,i=c,n=h,o=p,a=parseInt(s.attr("data-x"))+(i.x-e.x),t=parseInt(s.attr("data-y"))+(i.y-e.y),i=(r.outerHeight()*et-j.height())/2,e=(r.outerWidth()*et-j.width())/2,o&&(t<=-i?t=-i:i<=t&&(t=i)),n&&(a<=-e?a=-e:e<=a&&(a=e)),o?s.attr("data-y",t):t=s.attr("data-y"),n?s.attr("data-x",a):a=s.attr("data-x"),s.css("transform","translate3d("+a+"px, "+t+"px, 0)")),d=!1)})},kt=function(i,n,o,a){dt[i].loadEnded?_t(i,n,o,a):dt[i].loadStarted?setTimeout(function(){kt(i,n,o,a)},100):ut(r=i,function(t){t==i&&_t(i,n,o,a)})},_t=function(e,i,t,n){function r(e){null!==q?(k.stop(!1,!1).fadeOut(z/2),y[q].AnimateOut(_,function(t){t.DOMObject().detach();At.isFunction(e)&&e()},i)):At.isFunction(e)&&e()}function s(){y[e].AppendTo(_);_.width(o.width-rt).height(o.height-o.dHeight-st);y[e].ContentWidth(o.width-rt);y[e].ContentHeight(o.height-o.dHeight-st);var t=null;nt&&(t=u.media[e].effect,y[e].ChangeAnimation("none"),nt=!1);y[e].AnimateIn(_,function(){""!==y[e].GetDescription()&&k.html(y[e].GetDescription()).fadeIn(z);null!==t&&y[e].ChangeAnimation(t);w&&y[e].DOMObject().is("iframe")?_.css({overflow:"scroll","-webkit-overflow-scrolling":"touch"}):_.css({overflow:"hidden","-webkit-overflow-scrolling":""});V=!0;x.trigger("showboxReady")},i)}function l(){var t;q=e;d||n?(t=function(){s()},u.shadow&&ft(),x.stop(!1,!1).animate({width:o.width-rt,height:o.height-st,left:(j.width()-o.width)/2,top:c()},{duration:32<x.width()?L:z,complete:function(){x.css("overflow","visible").trigger("showboxReady");u.shadow&&pt();At.isFunction(t)&&t()}})):s()}var o=p(e),a=null!==q?p(q):{width:0,height:0},c,d;i=i||!1;t=t||!1;V=!1;it="image"==u.media[e].type;f(e);h(e);c=function(){var t=(j.height()-o.height)/2,e=Math.max(H.outerHeight(),T.outerHeight(),F.outerHeight())+u.windowPadding,i=P.outerHeight()+u.windowPadding;if(!Q){if(t<e)return e;if(t<i)return t-(i-t)}return t};d=a.width!=o.width||a.height!=o.height;t||!d?(r(),l()):r(l)},It=function(){return tt&&wt(),m(),q+1<y.length?kt(q+1):kt(0),!1},St=function(){return tt&&wt(),m(),kt(q-1<0?y.length-1:q-1,!0),!1},Mt=function(){function t(){return!!G&&(G.attr("content",K+", maximum-scale=4, user-scalable=yes"),j.scrollLeft(Z),j.scrollTop(J),!0)}var e,i,n;switch(C.off("click"),W.off("keydown",g),j.off("resize",d),S.stop(!1,!1).fadeOut(z,function(){S.remove()}),null!==q&&y[q].Stop(),X&&clearTimeout(X),"zoom"!=u.effect&&"hide"!=u.effect||q==o||(a.css("visibility",U),u.effect="fade"),At.isFunction(u.onClose)&&u.onClose(),N&&N.pause(),u.effect){case"fade":x.stop(!1,!1).fadeOut(z,function(){C.remove();!t()&&u.fullScreenEnabled&&Et.utils.isFullScreenNativelySupported()&&vt()});break;case"move":x.stop(!1,!1).animate({top:-x.outerHeight()},{duration:z,complete:function(){C.remove();!t()&&u.fullScreenEnabled&&Et.utils.isFullScreenNativelySupported()&&vt()}});break;case"zoom":case"hide":e=a.offset();e.left-=j.scrollLeft();e.top-=j.scrollTop();i=y[q].DOMObject();k.fadeOut(z);a.find("img");a.is("img")&&(n=a.clone().css({width:"100%",height:"100%",visibility:"visible"}).fadeIn(0),i.before(n));i.css({width:"100%",height:"100%"}).fadeOut(z);_.animate({width:$,height:Y},{duration:z});""!==u.shadow&&ft();x.animate({top:e.top,left:e.left,width:$,height:Y,padding:0},{duration:z,complete:function(){"hide"==u.effect&&a.css("visibility",U);C.remove();!t()&&u.fullScreenEnabled&&Et.utils.isFullScreenNativelySupported()&&vt()}});break;default:C.remove();S.stop().remove();!t()&&u.fullScreenEnabled&&Et.utils.isFullScreenNativelySupported()&&vt()}dt.forceStop=!0},Ot=function(){var t;u.buttons&&(t={cursor:"pointer",position:"absolute"},1<u.media.length&&(O.stop(!0,!0).css(t).css({top:(j.height()-O.height())/2,left:0}).fadeIn(z),M.stop(!0,!0).css(t).css({top:(j.height()-M.height())/2,right:0}).fadeIn(z)),u.fullScreenEnabled&&F.stop(!0,!0).css(t).css({top:0,display:"block",right:T.outerWidth()}),xt())},Tt=function(){C.removeClass("imHideShowBoxControls")},Ft=function(){C.addClass("imHideShowBoxControls");R=null},x=At('<div id="imShowBox"/>'),C=At('<div id="imShowBoxWrapper"/>'),_=At("<div />"),k=At("<div />"),T=At('<div id="imShowBoxClose"/>').html(u.buttonClose),M=At('<div id="imShowBoxNext"/>').html(u.buttonRight),O=At('<div id="imShowBoxPrev"/>').html(u.buttonLeft),F=At('<div id="imShowBoxFullScreenToggle"/>').html(u.buttonEnterFS),D=At('<div id="imShowBoxZoomIn"/>').html(u.buttonZoomIn),A=At('<div id="imShowBoxZoomOut"/>').html(u.buttonZoomOut),E=At('<div id="imShowBoxZoomRestore"/>').html(u.buttonZoomRestore),H=At('<div id="imShowBoxProgress"/>'),P=At('<div id="imShowBoxThumbs"/>'),B=At('<div id="imShowBoxThumbsDragger"/>');switch(M.css({display:"none"}).click(It).attr("title",at("showbox_tip_next","Next")).on("selectstart mousedown",function(){return!1}),O.css({display:"none"}).click(St).attr("title",at("showbox_tip_prev","Previous")).on("selectstart mousedown",function(){return!1}),_.addClass(u.boxClass).css({position:"relative",height:"100%",overflow:"hidden"}),k.css({"font-family":u.fontFamily,"font-size":u.fontSize,color:u.textColor,"padding-top":0,"padding-left":u.innerBorder,"padding-right":u.innerBorder,"padding-bottom":u.innerBorder,"text-align":u.textAlignment,"font-style":u.fontStyle,"font-weight":u.fontWeight,"line-height":1.4,position:"absolute",right:0,left:0,bottom:0}),T.css({position:"absolute",right:0,top:0,cursor:"pointer",display:"block"}).click(Mt).attr("title",at("showbox_tip_close","Close")),F.css({display:"none"}).click(gt).attr("title",at(Et.utils.isFullScreenNativelySupported()?"showbox_tip_fs_enter":"showbox_tip_fs_unavailable"),Et.utils.isFullScreenNativelySupported()?"Enter FullScreen":"FullScreen unavailable").children().addClass(Et.utils.isFullScreenNativelySupported()?"":"disabled"),D.css({display:"none"}).click(l).attr("title",at("showbox_tip_zoom_in","Zoom In")),A.css({display:"none"}).click(c).attr("title",at("showbox_tip_zoom_out","Zoom Out")),E.css({display:"none"}).click(wt).attr("title",at("showbox_tip_zoom_restore","Zoom Restore")),H.css({position:"absolute",padding:10,top:0,left:0,"text-shadow":"0 0 2px "+u.background}).addClass("im-common-button-text-style"),P.css({position:"absolute",bottom:0,left:0,width:"100%",display:"none"}),B.css({position:"absolute",bottom:-(u.thumbSize+20),left:0,width:u.media.length*(u.thumbSize+20),"transition-duration":"200ms"}),P.append(B),x.click(function(t){t.stopPropagation()}),C.append(x).append(T).append(F).append(D).append(A).append(E).append(H).append(P).css({position:"fixed",top:0,left:0,bottom:0,right:0,display:"none","z-index":Et.settings.zIndex.showBox+1}),b||C.append(O).append(M),x.append(_).append(k).append(Et.settings.imLoadingAnimation).css({position:"fixed","background-position":"center center","background-repeat":"no-repeat","border-radius":u.borderRadius,"z-index":Et.settings.zIndex.showBox+2,overflow:"visible"}),[T,O,M,F,D,A,E,H,P].map(function(t){t.css("z-index",Et.settings.zIndex.showBox+3)}),V?Ot():x.on("showboxReady",Ot),I="transparent"==u.boxColor&&(0===u.borderWidth.top&&0===u.borderWidth.bottom&&0===u.borderWidth.left&&0===u.borderWidth.right||"transparent transparent transparent transparent"==u.borderColor)?_:x,b&&(J=j.scrollTop(),Z=j.scrollLeft(),(G=t.find('meta[name="viewport"]')).length||(G=At('<meta name="viewport" content="initial-scale=1" />'),t.append(G)),K=G.attr("content"),G.attr("content",K+", user-scalable=no, maximum-scale=1")),u.autoplay&&x.one("showboxReady",n),u.showThumbs&&(P.css({display:"block",height:u.thumbSize+20}),s(0,function(t,e){!function(t,e){if(e.css({float:"left",margin:"10px"}),0<t)for(var i,n=t-1;0<=n;n--)if(0<(i=B.find("[data-index="+n+"]")).length)return i.after(e);B.prepend(e)}(t,e);e.fadeIn(z).click(function(){return kt(t),!1})})),u.effect){case"none":case"fade":case"move":i();x.css({width:32,height:32,left:(j.width()-32)/2,"background-color":u.boxColor,top:"move"!=u.effect?(j.height()-32)/2:-50,padding:u.innerBorder,"border-top-width":u.borderWidth.top,"border-right-width":u.borderWidth.right,"border-bottom-width":u.borderWidth.bottom,"border-left-width":u.borderWidth.left,"border-style":"solid","border-color":u.borderColor,display:"move"!=u.effect?"none":"block"});Dt=function(){ut(r,function(t){t===r&&(x.find(".imLoadAnim").remove(),kt(r,!1,!1),v())});W.keydown(g);j.resize(d)};"move"!=u.effect?x.fadeIn(z,Dt):(x.animate({top:(j.height()-32)/2},{duration:z}),Dt());break;case"zoom":case"hide":Dt=a.offset();Dt.left-=j.scrollLeft();Dt.top-=j.scrollTop();i();x.css({width:a.width(),height:a.height(),left:Dt.left,top:Dt.top,padding:0,"background-color":"transparent","border-top-width":0,"border-right-width":0,"border-bottom-width":0,"border-left-width":0,display:"none"}).fadeIn(z);ut(r,function(t,e){var i,n,o;t===r&&(q=t,it="image"==u.media[t].type,f(t),i=null,a.is("img")&&(i=a.clone().css({width:"100%",height:"100%"}),_.append(i)),"hide"==u.effect&&a.css("visibility","hidden"),x.find(".imLoadAnim").remove(),n=p(t),(o=e.DOMObject()).css({top:0,left:0,width:"100%",height:"100%",display:"none"}),_.append(o),_.stop(!0,!0).animate({width:n.width-rt,height:n.height-n.dHeight-st},{duration:z}),e.TriggerAnimationInStart(),x.css({"background-color":u.boxColor,"border-top-width":0,"border-right-width":0,"border-bottom-width":0,"border-left-width":0,"border-style":"solid","border-color":u.borderColor}).stop(!0,!0).animate({padding:u.innerBorder,width:n.width-rt,height:n.height-st,"border-top-width":u.borderWidth.top,"border-right-width":u.borderWidth.right,"border-bottom-width":u.borderWidth.bottom,"border-left-width":u.borderWidth.left,top:(j.height()-n.height)/2,left:(j.width()-n.width)/2},{duration:z,complete:function(){h(t);V=!0;x.trigger("showboxReady");o.width(n.width-rt).height(n.height-n.dHeight-st);kt(t);""!==u.shadow&&pt();e.TriggerAnimationInEnd()}}),i&&i.fadeOut(function(){i.remove()}),o.fadeIn(z),k.empty().fadeOut(z),v(),W.keydown(g),j.resize(d))});break;case"custom":u.customEffect&&(i(!0),x.css({width:32,height:32,left:(j.width()-32)/2,"background-color":u.boxColor,top:"move"!=u.effect?(j.height()-32)/2:-50,padding:u.innerBorder,"border-top-width":u.borderWidth.top,"border-right-width":u.borderWidth.right,"border-bottom-width":u.borderWidth.bottom,"border-left-width":u.borderWidth.left,"border-style":"solid","border-color":u.borderColor,display:"none"}),ut(r,function(t){t===r&&(S.find(".imLoadAnim").remove(),x.fadeIn(z,function(){function t(){x.addClass(u.customEffect)}x.find(".imLoadAnim").remove();kt(r,!1,!1);-1<navigator.userAgent.indexOf("MS IE")?setTimeout(t,2):t();v()}))}),W.keydown(g),j.resize(d))}return!1}})}(_jq,x5engine),function(p,f){"use strict";p.extend(f,{imSlider:{Horizontal:function(t,e){var i,s,l,n=p(t),o=0,c=n.find(".imGlContent"),d=n.find(".imRunner"),u=0,a=p("html").hasClass("touchevents"),r=null,h=p.extend({helperBg:"black",swipeImage:"res/move.png",visibleImagesCount:0},e);a?(n.find(".imLeftArrow").add(n.find(".imRightArrow")).css("visibility","hidden"),s=d.find("img").outerWidth(!0),l=null,new f.mediaObject({type:"dom",url:t+" .imRunner",width:d.width(),height:d.height(),effect:"none",touchDevice:!0,load:function(t){var e,i,n,o,a=d.width(),r=c.width();t.TriggerAnimationInStart().TriggerAnimationInEnd().BeforeMove(function(t){d.stop(!1,!1);n=t.touches[0].pageX;o=u;s=d.find("img").outerWidth(!0);e=null}).Move(function(t){t.preventDefault();i=e;u=e=o-(n-t.touches[0].pageX);(e<-a+r||0<e)&&(u=o-(n-t.touches[0].pageX)/2);window.cancelAnimFrame(l);l=window.requestAnimFrame(function(){d.css("left",u)});n=t.touches[0].pageX;o=u}).AfterMove(function(t){t.preventDefault();e&&(i&&(e+=6*(e-i)),t=Math.abs(e%s),s/2<t?e-=s-t:e+=t,d.stop(!1,!1).animate({left:Math.min(Math.max(e,-a+r),0)},{duration:1e3,easing:"iOsSwing",step:function(t,e){"left"==e.prop&&(u=t)}}))})}}),r=p('<div data-hide="false" />').css({position:"absolute",bottom:0,right:0}).width(30).height(30).append(p("<div />").css({background:h.helperBg,"border-top-left-radius":5,position:"absolute",top:0,bottom:0,left:0,right:0}).fadeTo(0,.75)).append(p("<div />").css({background:"transparent url('"+h.swipeImage+"') no-repeat center center",position:"absolute",top:0,bottom:0,left:0,right:0})),c.append(r)):(i=d.find("img").length,n.find(".imLeftArrow").not(".hiddenArrow").off("click").on("click",function(){o=0===o?i-h.visibleImagesCount:(o-=h.visibleImagesCount,Math.max(o,0));u=-d.find("img").eq(o).position().left;d.stop(!1,!1).animate({left:u})}),n.find(".imRightArrow").not(".hiddenArrow").off("click").on("click",function(){var t=i-h.visibleImagesCount;o=t<=o?0:(o+=h.visibleImagesCount,Math.min(o,t));u=-d.find("img").eq(o).position().left;d.stop(!1,!1).animate({left:u})}))},Vertical:function(t,e){var i,s,l,n=p(t),o=0,c=n.find(".imGlContent"),d=n.find(".imRunner").on("dragstart",function(){return!1}),u=0,a=p("html").hasClass("touchevents"),r=null,h=p.extend({helperBg:"black",swipeImage:"res/move.png",visibleImagesCount:0},e);a?(n.find(".imTopArrow").add(n.find(".imBottomArrow")).css("visibility","hidden"),s=0,l=null,new f.mediaObject({type:"dom",url:t+" .imRunner",width:d.width(),height:d.height(),effect:"none",touchDevice:!0,load:function(t){var e,i,n,o,a=d.height(),r=c.height();t.TriggerAnimationInStart().TriggerAnimationInEnd().BeforeMove(function(t){d.stop(!1,!1);n=t.touches[0].pageY;o=u;s=d.find("img").outerHeight(!0);e=null}).Move(function(t){t.preventDefault();i=e;u=e=o-(n-t.touches[0].pageY);(e<-a+r||0<e)&&(u=o-(n-t.touches[0].pageY)/2);window.cancelAnimFrame(l);l=window.requestAnimFrame(function(){d.css("top",u)});n=t.touches[0].pageY;o=u}).AfterMove(function(t){t.preventDefault();e&&(i&&(e+=6*(e-i)),t=Math.abs(e%s),s/2<t?e-=s-t:e+=t,d.stop(!1,!1).animate({top:Math.min(Math.max(e,-a+r),0)},{duration:1e3,easing:"iOsSwing",step:function(t,e){"top"==e.prop&&(u=t)}}))})}}),r=p('<div data-hide="false" />').css({position:"absolute",bottom:0,right:0}).width(30).height(30).append(p("<div />").css({background:h.helperBg,"border-top-left-radius":5,position:"absolute",top:0,bottom:0,left:0,right:0}).fadeTo(0,.75)).append(p("<div />").css({background:"transparent url('"+h.swipeImage+"') no-repeat center center",position:"absolute",top:0,bottom:0,left:0,right:0})),c.append(r)):(i=d.find("img").length,n.find(".imTopArrow").off("click").on("click",function(){o=0===o?i-h.visibleImagesCount:(o-=h.visibleImagesCount,Math.max(o,0));u=-d.find("img").eq(o).position().top;d.stop(!1,!1).animate({top:u})}),n.find(".imBottomArrow").off("click").on("click",function(){var t=i-h.visibleImagesCount;o=t<=o?0:(o+=h.visibleImagesCount,Math.min(o,t));u=-d.find("img").eq(o).position().top;d.stop(!1,!1).animate({top:u})}))},Page:function(t,e){var i,r=p(t),n=p(t+" .imSPage"),s=p(t+" .imRunner").on("dragstart",function(){return!1}),l=0,o=p("html").hasClass("touchevents"),c=n.width(),d=n.length*c,a=null,n=p.extend({helperBg:"black",swipeImage:"res/move.png"},e);1!=e.fluidMode?(s.width(d),o?(new f.mediaObject({type:"dom",url:t+" .imRunner",width:d,height:s.height(),effect:"none",touchDevice:!0,load:function(t){var i,n,e,o,a=r.width();t.TriggerAnimationInStart().TriggerAnimationInEnd().BeforeMove(function(t){s.stop(!1,!1);e=t.touches[0].pageX;o=l;i=null}).Move(function(t){t.preventDefault();n=i;l=i=o-(e-t.touches[0].pageX);(i<-d+a||0<i)&&(l=o-(e-t.touches[0].pageX)/2);s.css("left",l);e=t.touches[0].pageX;o=l}).AfterMove(function(t,e){t.preventDefault();i&&(t=Math.abs(i%c),i+=t,30<Math.abs(e.offsetX)&&(i+=i-t-n<0?-c:c),s.stop(!1,!1).animate({left:Math.min(Math.max(i,-d+a),0)},{duration:1e3,easing:"iOsSwing",step:function(t,e){"left"==e.prop&&(l=t)}}))})}}),a=p('<div data-hide="false" />').css({position:"absolute",bottom:0,right:0}).width(30).height(30).append(p("<div />").css({background:n.helperBg,"border-top-left-radius":5,position:"absolute",top:0,bottom:0,left:0,right:0}).fadeTo(0,.75)).append(p("<div />").css({background:"transparent url('"+n.swipeImage+"') no-repeat center center",position:"absolute",top:0,bottom:0,left:0,right:0})),r.append(a)):((i=p(t+" .imSControls")).length&&i.remove(),r.append('<div class="imSControls"><p class="imPPrev">&lt;<\/p><p class="imPNext">&gt;<\/p><\/div>'),i.css({"border-radius":"10px 10px 0 0",color:"black",bottom:-i.height()-50}),p(t+" .imPPrev").off("click").on("click",function(){0<l+c?l=-d+c:l+=c;s.animate({left:l})}),p(t+" .imPNext").off("click").on("click",function(){l-c<-d+c?l=0:l-=c;s.animate({left:l})}),r.mouseleave(function(){i.stop(!0,!0).animate({bottom:-i.height()-50})}).mouseover(function(){i.stop(!0,!0).animate({bottom:0})}))):s.width("auto")}}})}(_jq,x5engine),function(v,b){"use strict";v.extend(b,{imSplashBox:function(n){function u(){var t,e;switch(s=m?(i=m.DOMObject(),o.add(i).css({width:"",height:"",right:"",bottom:""}),r=m.Width(),m.Height()):(r=-1<n.desiredWidth?n.desiredWidth:o.width(),-1<n.desiredHeight?n.desiredHeight:o.height()),t=c.width()-40,e=c.height()-40,t<r?(r=t,o.add(i).outerWidth(r),s=o.outerHeight()):o.add(i).outerWidth(r),i.length&&e<s&&(r*=e/s,s=e,o.add(i).outerHeight(s).outerWidth(r)),n.position){case"center":a={left:(c.width()-r)/2,top:(c.height()-s)/2};break;case"center-left":a={left:n.margin,top:(c.height()-s)/2};break;case"center-right":a={left:c.width()-r-n.margin,top:(c.height()-s)/2};break;case"bottom":a={left:(c.width()-r)/2,top:c.height()-s-n.margin};break;case"bottom-right":a={left:c.width()-r-n.margin,top:c.height()-s-n.margin};break;case"bottom-left":a={left:n.margin,top:c.height()-s-n.margin};break;case"top":a={left:(c.width()-r)/2,top:n.margin};break;case"top-right":a={left:c.width()-r-n.margin,top:n.margin};break;case"top-left":a={left:n.margin,top:n.margin}}o.css(a)}function h(t){n.cookie&&v.imCookie(d,"true",{expires:0});v.isFunction(n.onClose)&&n.onClose();o.fadeOut(200,function(){o.remove();l&&l.pause()});e.off("keydown",p);t.stopPropagation()}function f(e){var i=m?m.DOMObject():o.find(".splashContent");setTimeout(function(){var t;switch(u(),c.resize(function(){clearTimeout(t);t=setTimeout(u,100)}),o.find(".close").click(h),i.click(function(){v.isFunction(n.link)?n.link.call(o):""!==n.link&&(location.href=n.link)}),n.effect){case"fromtop":o.css({top:-v(window).height()-s});o.fadeIn(0);o.animate(a,{duration:500,complete:e});break;case"frombottom":o.css({top:v(window).height()+s});o.fadeIn(0);o.animate(a,{duration:500,complete:e});break;case"fromleft":o.css({left:-r});o.fadeIn(0);o.animate(a,{duration:500,complete:e});break;case"fromright":o.css({left:r+c.width()});o.fadeIn(0);o.animate(a,{duration:500,complete:e});break;case"fade":o.fadeIn(500,e);break;default:o.css("display","");o.addClass(n.effect);v.isFunction(e)&&e()}n.sound&&n.sound&&(l=new Audio(n.sound)).play()},500)}var o,a,r,s,t='<img class="imCloseInn" src=\''+b.settings.currentPath+"res/imClose.png' />",l=null,i=v(),c=v(window),e=v("body"),d="im_splash"+(n=v.extend(!0,{id:"splash",effect:"fade",position:"center",shadow:!0,margin:10,cookie:!1,priority:0,link:"",media:null,text:"",sound:"",onClose:null,elementClose:t,offlineTimeStamp:0,desiredWidth:-1,desiredHeight:-1},n)).id+(!b.utils.isOnline()&&n.offlineTimeStamp?"_"+n.offlineTimeStamp:""),p,g,m;return n.cookie&&"true"==v.imCookie(d)?!1:(t='<div id="'+n.id+'" class="splashbox">',""!==n.elementClose&&(t+='<div style="text-align: right; "><div class="imClose close">'+n.elementClose+"<\/div><\/div>"),n.text&&(t+='<div class="splashContent" style="overflow: hidden;">'+n.text+"<\/div>"),t+=n.media?'<div class="splashContent mediaTarget" style="overflow: hidden;"><\/div>':"",t+="<\/div>",v("body").append(t),o=v("#"+n.id).fadeOut(0).css({zIndex:b.settings.zIndex.splashBox+n.priority}),n.shadow&&o.css("box-shadow","0px 3px 7px #000"),p=function(t){27==t.keyCode&&h(t)},e.keydown(p),n.media?(g=n.media.load,m=new b.mediaObject(v.extend(n.media,{load:function(t){t.AppendTo(v(".mediaTarget"));t.DOMObject().css("position","");setTimeout(function(){f(function(){v.isFunction(g)&&g(t)})},100)}}))):f(),{close:function(){v.isFunction(h)&&h()}})}})}(_jq,x5engine),function(q,U){"use strict";q.extend(U,{textTabs:function(l){var I,S,M;if(null!==(l=q.extend({target:null,width:0,height:0,effect:"horizontalSlide",tabPosition:"top",autoplay:!1,interval:5e3,setTabScrollWidth:!1,setContainerHeight:!1,setDynamicHeight:!1,enableFixedHeight:!1,fixedHeight:200,cleanCssContent:!1,slideshow:{active:!1,nextPrevMode:"hover",buttonPrev:{url:"",x:0,y:0},buttonNext:{url:"",x:0,y:0}}},l)).target){var a=q(l.target),r=a.find(".tab").not(".tab-scroller"),c=a.find(".tab-scroller"),t=a.find(".text-tabs-outer"),d=a.find(".text-tabs-inner"),u=a.find("[id*="+a.attr("id")+"]"),h=a.find(".text-container"),s=(h.position(),h.width(),[]),p=0,e=q("html").hasClass("touchevents"),f=0,i=null,g=r.width()+1,m=r.height()+1,v=d.height(),b=d.width(),n=null,o=null,w=null,y=0,x=!0;l.setTabScrollWidth&&0<c.filter(":visible").length?t.css({maxWidth:h.width()-c.eq(0).outerWidth(!0)-c.eq(1).outerWidth(!0)}):t.css({maxWidth:""});var C=t.height(),k=t.width(),_=q("#"+a[0].id+"_tab0").find(".text-tab-content.text-inner.grid-prop.current-tab");if(!0!==l.enableFixedHeight||e)if(!0===l.setContainerHeight){for(0<_.length&&0==p&&_.css("height","auto"),S=0,M=0,h.height("auto"),u.height("auto").width(h.width()),M=0;M<u.length;M++)S=Math.max(u.eq(M).outerHeight(!0),S);for(M=0;M<u.length;M++)u.eq(M).height(S);0<_.length&&0==p&&(I=parseInt(q("#"+a[0].id+" .text-container").css("min-height"))-parseInt(q(_).css("padding-top"))-parseInt(q(_).css("padding-bottom"))+"px",_.css("height",I));h.height(S)}else!0===l.setDynamicHeight?(I=u.eq(0)&&1==u.eq(0).find(".text-inner").length?u.eq(0).find(".text-inner").outerHeight(!0):"",h.css("height",I)):h.css("height","");else h.height(l.fixedHeight);if(0<_.length&&0==p)try{_.data("imRollover").start()}catch(t){}e||q("#"+a[0].id+" .tab").addClass("not-mobile");(window.navigator.userAgent.match(/iPad/i)||window.navigator.userAgent.match(/iPhone/i))&&a.css("-webkit-text-size-adjust","none");var O=function(e,t,i,n){var o;e!=p&&(W(e),(o=s[p].DOMObject().find(".text-inner").data("imRollover"))&&(null!=n&&n?o.disable():o.stop()),h.css("overflow-x","hidden"),s[e].DOMObject().wrapInner('<div class="temp-wrapper" style="overflow-x: hidden; width: '+h.width()+'px;" />'),s[p].AnimateOut(h,function(t){t.DOMObject().hide(0);setTimeout(function(){N(e)},100)},t),s[e].AnimateIn(h,function(t){t.DOMObject().find(".temp-wrapper").contents().unwrap();h.css("overflow-x","");t=t.DOMObject().find(".text-inner").data("imRollover");t&&t.start()},t),r.parent(".tab-border").removeClass("selected-tab-border"),r.removeClass("selected-text-tab").eq(e).addClass("selected-text-tab").parent(".tab-border").addClass("selected-tab-border"),i&&D(e),p=e)},T=function(t){t=!!t;P();O((p+1)%s.length,!1,t)},F=function(t){t=!!t;P();O(p-1<0?s.length-1:p-1,!0,t)},D=function(t,e){e=null!=e;var i,n="bottom"==l.tabPosition||"top"==l.tabPosition,o=n?g:m,a=n?b:v,r=n?k:C,s=f+t*o<r/2;return!0===l.setDynamicHeight&&(i=u.eq(t)&&1==u.eq(t).find(".text-inner").length?u.eq(t).find(".text-inner").outerHeight(!0):"",h.css("height",i)),2==c.length&&!(!e&&t*-o<=f&&f<=(t+1)*-o+r)&&(o=s?t*-o:t*-o+r-o,f=Math.min(0,Math.max(-a+r,o)),d.stop(!1,!1),void(n?d.animate({left:f}):d.animate({top:f})))},A=function(){null!==i&&clearTimeout(i);i=setTimeout(function(){T(!0);A()},l.interval)},E=function(){null!==i&&clearTimeout(i)},H=function(t){t.TriggerAnimationInStart().TriggerAnimationInEnd().AfterMove(function(t,e){t.preventDefault();((Math.abs(e.offsetX)>Math.abs(e.offsetY)?e.offsetX:e.offsetY)<0?T:F)(!0)})},P=function(){var t=h.get(0).scrollWidth==h.get(0).clientWidth,e;for(s=[],e=0;e<u.length;e++)s[s.length]=new U.mediaObject({url:"#"+u.eq(e).attr("id"),type:"dom",effect:l.effect,width:l.width,height:u.eq(e).height(),contentWidth:h.width(),contentHeight:u.eq(e).height(),touchDevice:t,load:H,selectable:!0})};r.off("click").on("click",function(t){return t.preventDefault(),t=+q(this).attr("data-index"),j(t),!1}).css("left",0);var B,z,L,R,j=function(t){0!=x&&null!==t&&!1!==t&&(P(),E(),O(t,t<p,!0))},W=function(t){var e;x=!1;q("#"+a[0].id+" .text-container").append(q('<div class="grid-prop text-tab-content-place-holder">'));q("#"+a[0].id+" .grid-prop.text-tab-content-place-holder").css("min-height",h.height());q("#"+a[0].id+" .grid-prop.text-tab-content-place-holder").css("height","100%");q("#"+a[0].id+" .text-tab-content.current-tab").css("display","block");q("#"+a[0].id+" .text-tab-content").css("position","").addClass("detach");q("#"+a[0].id+" .text-tab-content").removeClass("current-tab grid-prop").css("opacity","");"horizontalSlide"!=l.effect&&"bounceFromLeft"!=l.effect&&"elasticFromLeft"!=l.effect&&"elasticFromRight"!=l.effect||(e=-1*q("#"+a[0].id+" .text-container").width(),q("#"+a[0].id+"_tab"+t).css("left",e))},N=function(t){var e,i,n,o;for(q("#"+a[0].id+" .text-tab-content").removeClass("detach"),q("#"+a[0].id+" .text-tab-content").addClass("grid-prop"),q("#"+a[0].id+" .grid-prop").removeClass("current-tab"),q("#"+a[0].id+" .text-container").find("[data-index='"+t+"']").addClass("current-tab"),e=!!window.MSInputMethodContext&&!!document.documentMode,i=0;i<u.length;i++)n=q("#"+a[0].id+"_tab"+i),l.cleanCssContent?(n.css({display:"","transform-origin":"",transform:"",left:0,top:0,height:"100%",width:"100%"}),e||n.css("position",""),q("#"+a[0].id+"_tab"+i+" div").hasClass("text-tab-content")&&(q("#"+a[0].id+"_tab"+i+" .text-tab-content").css({display:"","transform-origin":"",transform:"",left:0,top:0,height:"100%",width:"100%"}),e||q("#"+a[0].id+"_tab"+i+" .text-tab-content").css("position",""))):(n.css("height","100%"),e||n.css("position",""),q("#"+a[0].id+"_tab"+i+" div").hasClass("text-tab-content")&&(q("#"+a[0].id+"_tab"+i+" .text-tab-content").css("height","100%"),e||q("#"+a[0].id+"_tab"+i+" .text-tab-content").css("position","")));q("#"+a[0].id+"_tab"+t).css("opacity","").addClass("current-tab");o=q("#"+a[0].id+"_tab"+t).find(".text-tab-content.text-inner.grid-prop.current-tab");0<o.length&&(t=parseInt(q("#"+a[0].id+" .text-container").css("min-height"))-parseInt(q(o).css("padding-top"))-parseInt(q(o).css("padding-bottom"))+"px",q(o).css("position","relative"),"Desktop"==U.responsive.getCurrentBreakPoint().name&&q(o).css("height",t));q("#"+a[0].id+" .text-tab-content-place-holder").remove();x=!0};return l.slideshow.active&&"none"!=l.slideshow.nextPrevMode&&(B=null!=(B=q(l.target).css("padding-top"))?parseFloat(B):0,q("<img />").one("load",function(){var t=q(this);n=t.css({position:"absolute",top:-1e3});h.after(n);n.css({top:(h.height()-n.height())/2+l.slideshow.buttonPrev.y+B,left:0,display:"visible"==l.slideshow.nextPrevMode?"block":"none",cursor:"pointer","z-index":1e3}).click(function(t){t.preventDefault();E();F()})}).attr("src",l.slideshow.buttonPrev.url),q("<img />").one("load",function(){var t=q(this);o=t.css({position:"absolute",top:-1e3});h.after(o);t.css({top:(h.height()-o.height())/2+l.slideshow.buttonNext.y+B,right:0,display:"visible"==l.slideshow.nextPrevMode?"block":"none",cursor:"pointer","z-index":1e3}).click(function(t){t.preventDefault();E();T()})}).attr("src",l.slideshow.buttonNext.url),"hover"==l.slideshow.nextPrevMode&&h.parent().mouseenter(function(){null!==w&&(clearTimeout(w),w=null);null!==o&&null!==n&&o.add(n).stop(!1,!1).fadeTo(250,.999)}).mouseleave(function(){null!==o&&null!==n&&(null!==w&&clearTimeout(w),w=setTimeout(function(){o.add(n).stop(!1,!1).fadeOut(250)},50))})),2==c.length&&(c.eq(1).off("click").on("click",function(){"top"==l.tabPosition||"bottom"==l.tabPosition?-b+k<f&&(y=Math.abs((f-k)%g),f=Math.max(-b+k,f-g+y),d.stop(!1,!1).animate({left:f+1})):f>-d.height()+t.height()&&(y=Math.abs((f-C)%m),f=Math.max(-v+C,f-m+y),d.stop(!1,!1).animate({top:f+1}))}),c.eq(0).off("click").on("click",function(){"top"==l.tabPosition||"bottom"==l.tabPosition?f<0&&(y=f%g!=0?g-Math.abs(f%g):0,f=Math.min(0,f+g-y),d.stop(!1,!1).animate({left:f-1})):f<0&&(y=f%m!=0?m-Math.abs(f%m):0,f=Math.min(0,f+m-y),d.stop(!1,!1).animate({top:f-1}))}),e&&(e=h.get(0).scrollWidth==h.get(0).clientWidth,R=L=z=0,new U.mediaObject({type:"dom",url:d,effect:"none",touchDevice:e,load:function(t){t.TriggerAnimationInStart()}}).BeforeMove(function(){z=f}).Move(function(t,e){t.preventDefault();L="bottom"==l.tabPosition||"top"==l.tabPosition?(f=Math.max(-b+k,Math.min(0,z+e.offsetX)),d.stop(!1,!1).css("left",f),R=e.offsetX-L,e.offsetX):(f=Math.max(-v+C,Math.min(0,z+e.offsetY)),d.stop(!1,!1).css("top",f),R=e.offsetY-L,e.offsetY)}).AfterMove(function(t){var i;t.preventDefault();"bottom"==l.tabPosition||"top"==l.tabPosition?10<Math.abs(L)&&(i=f+10*R,i+=R<0?Math.abs((i-k)%g):Math.abs(i%g),d.stop(!1,!1).animate({left:Math.max(-b+k,Math.min(0,i))},{step:function(t){f=t},duration:1e3,easing:"iOsSwing"})):10<Math.abs(L)&&(i=f+10*R,i+=R<0?Math.abs((i-C)%m):Math.abs(i%m),d.stop(!1,!1).animate({top:Math.max(-v+C,Math.min(0,i))},{step:function(t){f=t},duration:1e3,easing:"iOsSwing"}))}))),l.autoplay&&A(),{disable:function(){O(0,!1,!1);r&&(D(0,!1),r.eq(0).click(),c.off("click"),r.off("click"));n&&n.remove();o&&o.remove();D=function(){};T=function(){};F=function(){};N(0)}}}}})}(_jq,x5engine),function(M,O){"use strict";M.extend(O,{imTip:{constants:{locked:"imFixedTip",classId:"imTip",arrowClassId:"imTipArrow",borderClassId:"imTipArrowBorder",visibleClassId:"imTipVisible",topClassId:"imTipTop",bottomClassId:"imTipBottom",leftClassId:"imTipLeft",rightClassId:"imTipRight"},Show:function(s,h){function x(){clearTimeout(l);c&&(s.removeClass(r),d&&(d.find("object, embed").remove(),d.removeClass(p.constants.visibleClassId),setTimeout(function(){w&&w.remove();u=!1;s.attr("title",v).attr("alt",b)},e)))}var l=null,t=O.settings.imTip,c=!1,d=null,e=200,u=!1,p=O.imTip,i=O.utils,n=O.imForm,o=p.constants.classId,f=i.createId(o),g=p.constants.arrowClassId,m=p.constants.borderClassId,a=n.constants.mark,r=p.constants.locked,v="",b="",w=null,y=M(window);s=M(s);h=M.extend(!0,{classes:t.classes,arrow:t.arrow,shape:t.shape,position:t.position,effect:t.effect,showTail:t.showTail,hideOnFocus:!1,hideOnBlur:!1,persistant:t.persistant,unique:t.unique,text:"",width:0,target:s},h);s.attr("id")||s.attr("id",i.createId(o+"_target"));b=s.attr("alt");v=s.attr("title");s.attr("title","").attr("alt","");"text"in h&&h.text&&(h.text=h.text.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"'));var C,k=function(t,e,i){var l,c,d,u;!function(t,e){switch(e.removeClass(p.constants.topClassId),e.removeClass(p.constants.bottomClassId),e.removeClass(p.constants.leftClassId),e.removeClass(p.constants.rightClassId),t){case"top":e.addClass(p.constants.topClassId);break;case"bottom":e.addClass(p.constants.bottomClassId);break;case"left":e.addClass(p.constants.leftClassId);break;case"right":e.addClass(p.constants.rightClassId)}}(t,e);var n=h.target.offset(),o=0,a=e.find("."+g),r=e.find("."+m),s=0;if(void 0===n?n={top:0,left:0,bottom:0,right:0}:(n.top-=h.target.scrollTop(),n.left-=h.target.scrollLeft()),i=i||0,h.showTail&&(o="classic"==h.shape?("top"==t||"bottom"==t?r.outerHeight():r.outerWidth())-+e.css("borderWidth").replace(/(\d+)px/,"$1"):a.outerWidth()),"top"==t){if(i<3&&n.top-e.outerHeight()-o-10-y.scrollTop()<0)return k("bottom",e,i+1);d=n.left+(h.target.outerWidth()-e.outerWidth())/2;u=n.top-e.outerHeight()-o;(d=Math.max(d,10))+e.outerWidth()>y.width()&&(d=y.width()+y.scrollLeft()-e.outerWidth()-10);s=Math.floor((e.innerWidth()-o)/2);"bloated"==h.shape||"round"==h.shape?(c=(l=3-o)+2,a.css({borderLeftColor:"transparent",borderRightColor:"transparent",borderBottomColor:"transparent",position:"absolute",left:s,bottom:c}),r.css({borderLeftColor:"transparent",borderRightColor:"transparent",borderBottomColor:"transparent",position:"absolute",left:s,bottom:l})):"polygon"!=h.shape&&"classic"!=h.shape&&a.css({position:"absolute",left:s,bottom:-o})}else if("bottom"==t){if(i<3&&n.top+h.target.outerHeight()+o-y.scrollTop()>y.height())return k("left",e,i+1);d=n.left+(h.target.outerWidth()-e.outerWidth())/2;u=n.top+h.target.outerHeight()+o;(d=Math.max(d,10))+e.outerWidth()>y.width()&&(d=y.width()+y.scrollLeft()-e.outerWidth()-10);s=Math.floor((e.innerWidth()-o)/2);"bloated"==h.shape||"round"==h.shape?(c=(l=3-o)+2,a.css({borderLeftColor:"transparent",borderRightColor:"transparent",borderTopColor:"transparent",position:"absolute",left:s,top:c}),r.css({borderLeftColor:"transparent",borderRightColor:"transparent",borderTopColor:"transparent",position:"absolute",left:s,top:l})):"polygon"!=h.shape&&"classic"!=h.shape&&a.css({position:"absolute",left:s,top:-o,transform:"rotate(180deg)"})}else if("left"==t){if(i<3&&n.left-e.outerWidth()-y.scrollLeft()<0)return k("top",e,i+1);if(d=n.left-e.outerWidth()-o,(u=n.top+(h.target.outerHeight()-e.outerHeight())/2)-y.scrollTop()<0)return k("bottom",e,i+1);if(u+e.outerHeight()-y.scrollTop()>y.height())return k("top",e,i+1);"bloated"==h.shape||"round"==h.shape?(c=(l=5-o)+2,a.css({borderRightColor:"transparent",borderBottomColor:"transparent",borderTopColor:"transparent",position:"absolute",right:c,top:(e.innerHeight()-o)/2}),r.css({borderRightColor:"transparent",borderBottomColor:"transparent",borderTopColor:"transparent",position:"absolute",right:l,top:(e.innerHeight()-o)/2})):"classic"!=h.shape&&a.css({position:"absolute",right:3-o,top:(e.innerHeight()-o)/2,transform:"rotate(-90deg)"})}else if("right"==t){if(i<3&&n.left+h.target.outerWidth()+e.outerWidth()-y.scrollLeft()>y.width())return k("top",e,i+1);if(d=n.left+h.target.outerWidth()+o,(u=n.top+(h.target.outerHeight()-e.outerHeight())/2)-y.scrollTop()<0)return k("bottom",e,i+1);if(u+e.outerHeight()-y.scrollTop()>y.height())return k("top",e,i+1);"bloated"==h.shape||"round"==h.shape?(c=(l=5-o)+2,a.css({borderLeftColor:"transparent",borderBottomColor:"transparent",borderTopColor:"transparent",position:"absolute",left:c,top:(e.innerHeight()-o)/2}),r.css({borderLeftColor:"transparent",borderBottomColor:"transparent",borderTopColor:"transparent",position:"absolute",left:l,top:(e.innerHeight()-o)/2})):"classic"!=h.shape&&a.css({position:"absolute",left:3-o,top:(e.innerHeight()-o)/2,transform:"rotate(90deg)"})}return[u,d]},_=function(t,e){s.hasClass(r)&&(e.css({top:t[0],left:t[1]}),e.addClass(p.constants.visibleClassId))},I=function(){clearTimeout(l);c=!1},S=function(){h.persistant||(clearTimeout(l),l=setTimeout(x,250),c=!0)};return(0===(C=M("[tiptarget="+s.attr("id")+"]")).length||0<C.length&&-1==C.html().indexOf(h.text))&&(h.unique&&0<M("."+o).length&&(M("."+o).remove(),e=0),s.addClass(r),c=!1,function(){var t,e,i,n,o,a,r;u||(t=M("[tiptarget="+s.attr("id")+"]"),t.length?t!==null&&t.html().indexOf(h.text)==-1&&t.find("."+m).before("<br />"+h.text):(w=M('<div style="position: absolute; top: 0; left: 0;" />'),e=M('<div tiptarget="'+s.attr("id")+'" class="'+O.imTip.constants.classId+" "+h.classes+'" id="'+f+'">'+(h.showTail?'<div class="'+O.imTip.constants.borderClassId+'"><\/div><div class="'+O.imTip.constants.arrowClassId+'"><\/div>':"")+"<\/div>"),M("body").append(w.append(e)),e.append('<div class="imTipContent">'+h.text+"<\/div>"),d=M("#"+f).css({zIndex:O.settings.zIndex.tip}),u=!0,h.width>0?d.width(h.width):(d.css("white-space","nowrap"),i=d.find("."+g).outerWidth(),n=d.find("."+m).outerWidth()),h.arrow||(d.find("."+g).fadeOut(),d.find("."+m).fadeOut()),d.add(s).mouseleave(S).mouseenter(I),clearTimeout(l),c=!1,d.find("img").length>0?(o=d.find("img"),a=o.attr("src"),o.removeAttr("src").one("load",function(){var t=k(h.position,d);setTimeout(function(){_(t,d)},100)}).attr("src",a)):(r=k(h.position,d),setTimeout(function(){_(r,d)},100))))}()),!0===h.hideOnFocus?s.hasClass("imDatePickerIcon")?(s.parent().prev("input[type=text]").focus(function(){c=!0;s.removeClass(a);x()}),s.click(function(){s.parent().prev("input[type=text]").focus()})):s.on("click focus",function(){c=!0;s.removeClass(a);x()}):"object"!=typeof h.hideOnFocus&&"string"!=typeof h.hideOnFocus||(M(h.hideOnFocus).click(function(){c=!0;M(h.hideOnFocus).removeClass(a);s.removeClass(a);x()}),s.click(function(){c=!0;s.removeClass(a);M(h.hideOnFocus).removeClass(a);x()})),!0===h.hideOnBlur&&s.on("blur",function(){c=!0;s.removeClass(a);x()}),f}}})}(_jq,x5engine),function(l,c){"use strict";l.extend(c,{topicSendAbuse:function(e){e=l.extend(!0,{postUrl:"#",text:"",target:""},e);l.ajax({url:e.postUrl,type:"GET"}).done(function(){e.text&&c.imTip.Show(e.target,{target:l(e.target),text:e.text})})},topicCommentsMultipleColumnsBuild:function(t,e){var i=l(t).find(".topic-comments.multiple-columns"),n,o;for(i.removeClass("visible"),n="";250*e>l(t).width()&&1<e;)e--;o=15*(e-1);1<o&&(n+="calc(");n+=100/e+"%";1<o&&(n+=" - "+o/e+"px)");i.find(".topic-comment").css("width",n);i.masonry({initLayout:!1,itemSelector:"#"+t.id+" .topic-comment",columnWidth:"#"+t.id+" .topic-comment",fitWidth:!0,horizontalOrder:!1,transitionDuration:0,gutter:15});i.on("layoutComplete",function(){i.addClass("visible")});i.masonry()},topicCommentsMultipleColumnsResize:function(t,i){var n=null,o=0;c.utils.onElementResize(document.getElementById(t),function(t,e){o!=t.width&&(o=t.width,n&&clearTimeout(n),n=setTimeout(function(){c.topicCommentsMultipleColumnsBuild(e,i)},50))})},topic:function(t){var t=l.extend({target:null},t),s=l(t.target);s.length&&(s.find(".variable-star-rating").each(function(){var i=l(this),t=i.width(),n=i.children("span"),o=n.width(),a=t/5,r=i.attr("data-url");i.mousemove(function(t){var e=Math.floor((t.pageX-i.offset().left)/a)+1;n.width(e*a);i.off("mouseleave").mouseleave(function(){n.width(o)});i.off("click").one("click",function(){var t;void 0!==r?c.utils.isOnline()&&l.ajax({url:r,type:"POST",data:{x5topicid:i.attr("data-id"),rating:e,imJsCheck:"jsactive"},success:function(){c.utils.isOnline()&&l.imCookie("vtd"+i.attr("data-id"),e,{path:"/"});window.top.location.reload()}}):(t=e,i.parent().find("input[type=hidden]").remove(),i.after('<input type="hidden" name="rating" value="'+t+'">'),s.find('input[name="star-full"]').val("full"),o=t*a,i.parents(".topic-summary").hasClass("star")&&c.utils.showOfflineMessage(c.l10n.get("cmn_only_when_online")))})})}),s.find(".topic-add-review-btn").on("click",function(){var t=s.find(".topic-form");t.hasClass("visible")?t.removeClass("visible"):(t.addClass("visible"),setTimeout(function(){c.utils.scrollToPoint(s,"fast",!1,void 0,0)},100))}))}})}(_jq,x5engine),function(t,e){t.extend(e.utils,{yaKnowWhatToDo:function(t){var e,i,n="jaD9sD3AW423lka25_uncz2j3n9N-2na9HWB23'N@22d23",o="";try{for(i=e=0;e<t.length;e+=3,i++)o+=String.fromCharCode(parseInt(t.substring(e,e+3),10)-n.charCodeAt(i%n.length));return o}catch(t){return""}},encrypt:function(t,e){for(var i="",n=0;n<t.length;n++)i+=String.fromCharCode(t.charCodeAt(n)+e.charCodeAt(n%e.length));return escape(i)},decrypt:function(t,e){var i="",n;for(t=unescape(t),n=0;n<t.length;n++)i+=String.fromCharCode(t.charCodeAt(n)-e.charCodeAt(n%e.length));return unescape(i)},encrypt2:function(t,e){for(var i="",n=0;n<t.length;n++)i+=String.fromCharCode(t.charCodeAt(n)+e[n%e.length]);return(i=encodeURIComponent(i)).replace(/%2F/g,"*-*slash*.*")},decrypt2:function(t,e){var i="",n;for(t=t.replace(/\*-\*slash\*\.\*/g,"%2F"),t=decodeURIComponent(t),n=0;n<t.length;n++)i+=String.fromCharCode(t.charCodeAt(n)-e[n%e.length]);return i}})}(_jq,x5engine),function(t,f){"use strict";t.extend(f.utils,{getCurrentDate:function(t,e){t=null!=t?t:"date";var i=f.l10n.get,n=f.utils.imFormatInt,o=new Date,a="";switch(t){case"hour":a=n(o.getHours())+":"+n(o.getMinutes());a+=e?":"+n(o.getSeconds()):"";break;case"date":var r=i("date_format"),s=i("date_days"),l=i("date_months"),c=i("date_full_months"),d=i("date_full_days"),u=o.getFullYear().toString(),h=n(parseInt(o.getDate(),10)),p=n(parseInt(o.getMonth(),10)+1),a=r.replace(/\[yyyy\]/g,u).replace(/\[yy\]/g,u.substring(2)).replace(/\[aaaa\]/g,u).replace(/\[aa\]/g,u.substring(2)).replace(/\[mm\]/g,p).replace(/\[dd\]/g,h).replace(/\[D\]/g,0<=parseInt(o.getDay(),10)-1?s[parseInt(o.getDay(),10)-1]:s[6]).replace(/\[DD\]/g,0<=parseInt(o.getDay(),10)-1?d[parseInt(o.getDay(),10)-1]:d[6]).replace(/\[M\]/g,l[parseInt(o.getMonth(),10)]).replace(/\[MM\]/g,c[parseInt(o.getMonth(),10)])}return a}})}(_jq,x5engine),function($,x5engine){"use strict";var resizeObserver={observer:null,callbacks:{}};$.extend(x5engine.utils,{checkBrowserCompatibility:function(){var t=$('<div style="display: none;" class="media-test" />'),e=!!$.imCookie("browser-check-proceed"),i=$("body"),n;if(i.append(t),n="absolute"==t.css("position"),(n=(n=n&&("justify"==t.css("text-align")||!!window.MSInputMethodContext&&!!document.documentMode))&&"Microsoft Internet Explorer"!==x5engine.utils.getCurrentBrowser())||e)return t.remove(),!0;var n=x5engine.l10n,e=n.get("browser_compat_1","Your browser is too old and does not provide the features needed to view this website."),t=n.get("browser_compat_2","Stay up to date and [1]download a modern browser[/1] or [2]proceed anyway[/2]."),n=n.get("browser_compat_link","http://outdatedbrowser.com/"),t=t.replace(/\[1\]/g,'<a href="'+n+'" target="blank">').replace(/\[2\]/g,'<a href="#" class="proceed-button">').replace(/\[\/[0-9]+\]/g,"<\/a>"),o=$('<div class="browser-comp-message"><div><p>'+e+"<\/p><p>"+t+"<\/p><\/div><\/div>");return i.append(o),o.find(".proceed-button").on("click",function(){$.imCookie("browser-check-proceed","true");o.remove()}),!1},getCurrentBrowser:function(){var t=navigator.userAgent,t=-1<t.indexOf("Firefox")?"Mozilla Firefox":-1<t.indexOf("Opera")||-1<t.indexOf("OPR")?"Opera":-1<t.indexOf("Trident")?"Microsoft Internet Explorer":-1<t.indexOf("Edge")?"Microsoft Edge":-1<t.indexOf("Edg")?"Chromium Edge":-1<t.indexOf("Chrome")?"Google Chrome or Chromium":-1<t.indexOf("Safari")?"Apple Safari":"unknown";return t},isAddEventListenerPassiveOptionSupported:function(){var e=!1,t;try{t={get passive(){e=!0}};window.addEventListener("test",t,t);window.removeEventListener("test",t,t)}catch(t){e=!1}return e},isElementInViewport:function(t,e){(e=void 0===e?0:e)>$(t).outerHeight()&&(e=$(t).outerHeight()-1);var i=$(window),n={top:i.scrollTop(),left:i.scrollLeft()};return n.right=n.left+i.width(),n.bottom=n.top+i.height(),i={top:$(t).offset().top,left:$(t).offset().left},i.right=i.left+$(t).outerWidth(),i.bottom=i.top+$(t).outerHeight(),!(n.right<i.left||n.left>i.right||n.bottom-e<i.top||n.top+e>i.bottom)},onElementInViewPort:function(t,e,i){var n;$.isFunction(e)&&(x5engine.utils.isElementInViewport(t,i)?e():(n=function(){x5engine.utils.isElementInViewport(t,i)&&(e(),$(window).off("scroll",n))},$(window).on("scroll",n)))},onLazyLoadedElement:function(t,e){var i;$.isFunction(e)&&(i=function(){$(t).off("imLazyLoadingEnd",".imlazyloading",i);e()},$(t).on("imLazyLoadingEnd",".imlazyloading",i))},onElementResize:function(t,e){$.isFunction(e)&&t&&""!=t.id&&(null==resizeObserver.observer&&(resizeObserver.observer=new ResizeObserver(function(t){for(var n,i=0;i<t.length;i++)n=t[i],n.target.id in resizeObserver.callbacks&&resizeObserver.callbacks[n.target.id](n.contentRect,n.target)})),resizeObserver.callbacks[t.id]=e,resizeObserver.observer.observe(t))},revealObject:function(t){var e,i,n=$(t),o=$("#imContent");x5engine.utils.supportAnimation(t)?(e=$("#imPage"),i=(n[0].id||"without-id")+"_animation-in-progress",n.on("webkitAnimationEnd oanimationend msAnimationEnd animationend",function(){n.off("webkitAnimationEnd oanimationend msAnimationEnd animationend");n.trigger("imObjectAnimationEnd");e.removeClass(i);o.trigger("change")}),n.addClass("animated"),n.trigger("imObjectAnimationStart"),e.addClass(i)):n.trigger("imObjectAnimationStart").trigger("imObjectAnimationEnd");o.trigger("change")},supportAnimation:function(){return!$("html").hasClass("no-cssanimations")},imPreloadImages:function(t){var e=$(window),i,n;for(e.x5ImageCache=[],i=e.x5ImageCache,n=0;n<t.length;n++)i[n]=new Image,i[n].src=t[n]},imHasScrollBar:function(t){return t=$(t)[0],t.clientHeight<t.scrollHeight||t.clientWidth<t.scrollWidth},imGetLayer:function(t){return $(t)},imCodeProtection:function(t){var i=!1;$(document).keyup(function(t){17==t.keyCode&&(i=!1)});$(document).keydown(function(t){var e=t.keyCode;if(17==e&&(i=!0),(67==e||88==e)&&!0===i)return t.preventDefault(),!1});document.oncontextmenu=function(){return window.alert("Copyright "+t+". All rights reserved."),!1}},imFocus:function(t,e){$(t).css("background-color",e)},supportsCSS:function(t){var e=document.createElement("div"),i=["Khtml","Ms","O","Moz","Webkit"],n=5;if(t in e.style)return t;for(t=t.replace(/^[a-z]/,function(t){return t.toUpperCase()});n--;)if(i[n]+t in e.style)return i[n]+t;return!1},cssPropertyPrefix:function(t){return/Firefox/i.test(navigator.userAgent)?"-moz-"+t:/Chrome/i.test(navigator.userAgent)||/Safari/i.test(navigator.userAgent)||/Incomedia/i.test(navigator.userAgent)?"-webkit-"+t:/MSIE (7|8|9)/i.test(navigator.userAgent)?"-ms-"+t:/Opera/i.test(navigator.userAgent)?"-o-"+t:t},scrollTo:function(t,e){var i;$.isFunction(e)&&(i=e,e={complete:function(){i()}});"number"!=typeof t&&(t=(t=$(t)).length&&(t=t[0]).getClientRects().length?t.getBoundingClientRect().top+t.ownerDocument.defaultView.pageYOffset:0);$("html, body").stop().animate({scrollTop:t},e)},scrollToPoint:function(t,e,i,n,o){var a,e=e||"fast";$.isFunction(n)&&(a=n,n={complete:function(){a()}});"number"!=typeof t&&(t=(t=$(t)).length&&(t=t[0]).getClientRects().length?t.getBoundingClientRect().top+t.ownerDocument.defaultView.pageYOffset:0);i||0<(i=0<$("#imStickyBarContainer:visible").length?$("#imStickyBarContainer:visible").height():0)&&i<t&&(t-=i);o&&(t-=o);$("html, body").stop().animate({scrollTop:t},e,n)},autoHeight:function(){$(".autoHeight").height("auto")},offset:function(t){var e=$("body"),t=$(t).offset();return"relative"==e.css("position")&&(t.top-=e.offset().top),t},imPopUpWin:function(t,e,i,n,o,a){return a=a||1,e=e||"",i=i||-1,n=n||-1,a=!0===(o=o||!1)?"":-1==i||-1==n?"width="+screen.width+",height="+screen.height+",top=0,left=0,scrollbars="+a+",location=no,directories=no,status=no,menubar=no,toolbar=no,resizable=no":(o=screen.width?(screen.width-i)/2:100,"width="+i+",height="+n+",top="+(screen.height?(screen.height-n)/2:100)+",left="+o+",scrollbars="+a+",location=no,directories=no,status=no,menubar=no,toolbar=no,resizable=no"),window.open(t,e,a).focus(),!1},switchFocus:function(t){$(t).find(":input").each(function(){var t=$(this).attr("type");"button"!=t&&"submit"!=t&&"reset"!=t&&($(this).focus(function(){$(this).addClass("imFormFocus")}),$(this).blur(function(){$(this).removeClass("imFormFocus")}))})},popup:function(t){(new x5engine.utils.Gui).showPopUp(t)},loadedPageGo:function(){setTimeout(function(){eval(atob("aWYoJCgiI2dvLW1lc3NhZ2UiKS5sZW5ndGggPCAxKXt2YXIgdHh0ID0gImEiO3doaWxlKDEpe3R4dCA9IHR4dCArPSAiYSI7fX0="))},6e3)},loadSwfObject:function(e){$("[src*=swfobject]").length||$("body").find("script").last().after('<script src="'+x5engine.settings.currentPath+'res/swfobject.js"><\/script>'),function t(){"object"==typeof swfobject&&$.isFunction(window.swfobject.embedSWF)?$.isFunction(e)&&e():setTimeout(t,500)}()},isInFullScreenMode:function(){return!!(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement)},setupPage:function(t){setTimeout(function(){var setupDm=atob("eDVlbmdpbmUuaW1TcGxhc2hCb3goe3Bvc2l0aW9uOiAiYm90dG9tLWxlZnQiLCB0ZXh0OiBbVEVYVF0sIGlkOiAiZG0tbWVzc2FnZSIsIGVsZW1lbnRDbG9zZTogIlgifSk=");eval(setupDm.replace("[TEXT]",decodeURIComponent(atob(t))))},5e3)},setupPageGo:function(t,a){var setupGo=atob("eDVlbmdpbmUuaW1BZHZlcnRpc2luZy5zaG93UG9wdXAoe3Bvc2l0aW9uOiAicmlnaHQiLCB0ZXh0OiBbVEVYVF0sIGlkOiAiZ28tbWVzc2FnZSIsIGFjY2VwdEJ1dHRvbjogdHJ1ZSwgdGV4dEJ1dHRvbjogW0FDVElPTl0sIGFjdGlvbkJ1dHRvbjogImh0dHBzOi8vd3d3LndlYnNpdGV4NS5jb20vc3RhcnQ/aWNtX3NvdXJjZT1pY21nb19iYW5uZXIifSk7");eval(setupGo.replace("[TEXT]",decodeURI(atob(t))).replace("[ACTION]",decodeURI(atob(a))))},linkHtml:function(t,e){var i=e.content||"",n,t;return t?(n=x5engine.settings.islocal?t.html.offline:t.html.upload,t={},t[x5engine.settings.links.htmlPlaceholder]=i,t[x5engine.settings.links.cssPlaceholder]=e.cssClass||"",t[x5engine.settings.links.baseUrlPlaceholder]=e.baseUrl||"",x5engine.utils.replaceMap(n,t)):i},linkJs:function(t,e){return t?(t=x5engine.settings.islocal?t.js.offline:t.js.upload,t=e.jsonly?t.jsonly:t.complete,x5engine.utils.replaceAll(t,x5engine.settings.links.baseUrlPlaceholder,e.baseUrl||"")):""}})}(_jq,x5engine),function(o,t){function e(t,e,i){function n(){}n.prototype=e.prototype;t.prototype=new n;t.prototype.constructor=t;e.prototype.constructor=e;t._super=e.prototype;i&&o.extend(t.prototype,i)}function i(){this.__options=null;this._fullScreenElement=null;this.__savedStyles={}}function a(){a._super.constructor.apply(this,arguments);this.exit=o.proxy(n("exitFullscreen"),document);this._DEFAULT_OPTIONS=o.extend(!0,{},this._DEFAULT_OPTIONS,{styles:{width:"100%",height:"100%"}});o(document).bind(this._prefixedString("fullscreenchange")+" MSFullscreenChange",o.proxy(this._fullScreenChange,this)).bind(this._prefixedString("fullscreenerror")+" MSFullscreenError",o.proxy(this._fullScreenError,this))}function r(){r._super.constructor.apply(this,arguments);this._DEFAULT_OPTIONS=o.extend({},this._DEFAULT_OPTIONS,{styles:{position:"fixed",zIndex:"2147483647",left:0,top:0,bottom:0,right:0,backgroundColor:"black"}});this.__delegateKeydownHandler()}var s,n,l;o.extend(t.utils,{enterFullScreen:function(t){l.isFullScreen()||l.open(t,{toggleClass:"im-fullscreen-entered",styles:{overflow:"hidden"}})},exitFullScreen:function(){l.isFullScreen()&&l.exit()},isFullScreen:function(){return l.isFullScreen()},fullScreenElement:function(){return l.element()},isFullScreenNativelySupported:function(){var t=navigator.userAgent.match(/Android.*Chrome\/(\d+)\./);return t&&parseInt(t[1])<37?!1:(t=n("fullscreenEnabled"),s(n("fullscreenElement"))&&(!s(t)||!0===t))}});s=function(t){return void 0!==t};n=function(t,e){var i,n=[["",""],["exit","cancel"],["screen","Screen"]],o=["","o","ms","moz","webkit","webkitCurrent"],a,r;for("string"==typeof t&&(e=t,t=document),a=0;a<n.length;++a)for(e=e.replace(n[a][0],n[a][1]),r=0;r<o.length;++r)if(i=o[r],i+=0===r?e:e.charAt(0).toUpperCase()+e.substr(1),s(t[i]))return t[i]};i.prototype={"native":n,_DEFAULT_OPTIONS:{styles:{boxSizing:"border-box",MozBoxSizing:"border-box",WebkitBoxSizing:"border-box"},toggleClass:null},__documentOverflow:"",__htmlOverflow:"",_preventDocumentScroll:function(){this.__documentOverflow=document.body.style.overflow;this.__htmlOverflow=document.documentElement.style.overflow;o(this._fullScreenElement).is("body, html")||o("body, html").css("overflow","hidden")},_allowDocumentScroll:function(){document.body.style.overflow=this.__documentOverflow;document.documentElement.style.overflow=this.__htmlOverflow},_fullScreenChange:function(){this.__options&&(this.isFullScreen()?(this._preventDocumentScroll(),this._triggerEvents()):(this._allowDocumentScroll(),this._revertStyles(),this._triggerEvents(),this._fullScreenElement=null))},_fullScreenError:function(t){this.__options&&(this._revertStyles(),this._fullScreenElement=null,t&&o(document).trigger("imFullScreenError",[t]))},_triggerEvents:function(){o(this._fullScreenElement).trigger(this.isFullScreen()?"imFullScreenOpen":"imFullScreenClose");o(document).trigger("imFullScreenChange",[this.isFullScreen(),this._fullScreenElement])},_saveAndApplyStyles:function(){var t,e=o(this._fullScreenElement);for(t in this.__savedStyles={},this.__options.styles)this.__savedStyles[t]=this._fullScreenElement.style[t],this._fullScreenElement.style[t]=this.__options.styles[t];e.is("body")&&(document.documentElement.style.overflow=this.__options.styles.overflow);this.__options.toggleClass&&e.addClass(this.__options.toggleClass)},_revertStyles:function(){0<=navigator.userAgent.indexOf("Edge")&&o("#imPageExtContainer, .showbox-bg").show();var t,e=o(this._fullScreenElement);for(t in this.__options.styles)this._fullScreenElement.style[t]=this.__savedStyles[t];e.is("body")&&(document.documentElement.style.overflow=this.__savedStyles.overflow);this.__options.toggleClass&&e.removeClass(this.__options.toggleClass)},open:function(t,e){0<=navigator.userAgent.indexOf("Edge")&&o("#imPageExtContainer, .showbox-bg").hide();t!==this._fullScreenElement&&(this.isFullScreen()&&this.exit(),this._fullScreenElement=t,this.__options=o.extend(!0,{},this._DEFAULT_OPTIONS,e),this._saveAndApplyStyles())},exit:null,isFullScreen:null,isNativelySupported:function(){return t.utils.isFullScreenNativelySupported()}};e(a,i,{VENDOR_PREFIXES:["","o","moz","webkit"],_prefixedString:function(e){return o.map(this.VENDOR_PREFIXES,function(t){return t+e}).join(" ")},open:function(t){a._super.open.apply(this,arguments);n(t,"requestFullscreen").call(t)},exit:o.noop,isFullScreen:function(){return null!==n("fullscreenElement")},element:function(){return n("fullscreenElement")}});e(r,i,{__isFullScreen:!1,__delegateKeydownHandler:function(){o(document).delegate("*","keydown.fullscreen",o.proxy(this.__keydownHandler,this));var t=o._data(document).events.keydown;t.splice(0,0,t.splice(t.delegateCount-1,1)[0])},__keydownHandler:function(t){return!this.isFullScreen()||27!==t.which||(this.exit(),!1)},_revertStyles:function(){r._super._revertStyles.apply(this,arguments);this._fullScreenElement.offsetHeight},open:function(){r._super.open.apply(this,arguments);this.__isFullScreen=!0;this._fullScreenChange()},exit:function(){this.__isFullScreen&&(this.__isFullScreen=!1,this._fullScreenChange())},isFullScreen:function(){return this.__isFullScreen},element:function(){return this.__isFullScreen?this._fullScreenElement:null}});l=new(t.utils.isFullScreenNativelySupported()?a:r)}(_jq,x5engine),function(d,u){"use strict";d.extend(u.utils,{Gui:function(){function o(t){s.add(r).fadeOut(t,function(){d(this).remove()})}var a=u.settings.imPopUp,r=null,s=null,l=d("body"),c=d(window);d(document);this.showPopUp=function(t){var i,e,n;(t=d.extend(!0,{width:a.width,borderRadius:a.borderRadius,backGround:a.background,effect:a.effect,textColor:a.textColor,boxColor:a.boxColor,opacity:a.opacity,shadow:a.shadow,graphics:!0},t)).text=t.text.replace(/&amp;/g,"&").replace(/\&gt;/g,">").replace(/\&lt;/g,"<");t.graphics?(i="none"!=t.effect?200:0,r&&s&&r.add(s).remove(),e=function(){r.width(Math.min(t.width,c.width()-40)).css({top:(c.height()-r.outerHeight())/2,left:(c.width()-r.outerWidth())/2})},s=d('<div id="imGuiPopUpBg"><\/div>').css("z-index",u.settings.zIndex.popup).click(function(){o(i)}).fadeOut(1,function(){d(this).fadeTo(i,t.opacity)}),r=d('<div id="imGuiPopUp">'+t.text+'<div id="imCloseButton" class="imGuiButton">OK<\/div><\/div>').css({zIndex:u.settings.zIndex.popup+1,"border-radius":t.borderRadius+"px","box-shadow":""!==t.shadow?t.shadow:"0"}).hide(0),r.find(".imGuiButton").css("border-radius",t.borderRadius+"px").click(function(){o(i)}),l.append(s,r),e(),r.fadeIn(i),n=null,d(window).on("resize",function(){clearTimeout(n);n=setTimeout(e,50)}),l.keydown(function t(e){switch(e.keyCode){case 13:case 27:case 32:e.preventDefault();o(i)}l.off("keydown",t)})):window.alert(t.text.replace(/<br[\s]*\/>/g,"\n").replace(/<([A-Z][A-Z0-9]*)\b[^>]*\/?>/g,""))};this.removeLabels=function(){d(".imGuiLabel").remove()};this.showLabel=function(t){var e,i,n=d("<div class='imGuiLabel'>"+t.text+"<\/div>").css({"box-shadow":t.shadow,"border-radius":"3px"});d("body").append(n);null!==t.object?(e=(i=d(t.object)).offset(),t=Math.max(0,e.top+Math.floor((i.outerHeight()-n.outerHeight())/2)),n.css({position:"absolute",top:t,left:e.left+i.outerWidth()+10})):(n.css({width:200,height:50,padding:10}),i=n.outerHeight(),n.css({position:"fixed",bottom:-i,right:30,overflow:"hidden",cursor:"pointer"}).animate({bottom:10}));n.fadeTo(300,.8).click(function(){n.fadeOut(100,function(){n.remove()})})}}})}(_jq,x5engine),function(i,a){"use strict";i.extend(a.utils,{imFormatInt:function(t){return t<10?"0"+t:t},hex2rgb:function(t,e,i,n,o){return a.utils.shiftColor(t,e,i,n,o)},shiftColor:function(t,e,i,n,o){var a,r;if(o|=!1,"transparent"===t)return"rgba(0,0,0,0)";if(0===t.indexOf("#"))for(a=t.replace("#","").match(/(.{2})/g),r=0;r<a.length;r++)a[r]=parseInt(a[r],16);else if(0===t.indexOf("rgb"))for(a=t.match(/[0-9]+/gi),r=0;r<a.length;r++)a[r]=parseInt(a[r]);for(a.length<4&&(a[3]=255),e&&(a[0]+=e),i&&(a[1]+=i),n&&(a[2]+=n),r=0;r<3;r++)255<a[r]&&(o?a[r]=255:a[r]-=255),a[r]<0&&(o?a[r]=0:a[r]+=255);return"rgba("+a.join(", ")+")"},rgb2hex:function(t){return(t=t.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===t.length?"#"+("0"+parseInt(t[1],10).toString(16)).slice(-2)+("0"+parseInt(t[2],10).toString(16)).slice(-2)+("0"+parseInt(t[3],10).toString(16)).slice(-2):""},rgbDiff:function(t,e,i,n,o,a){var r,s,l,c=1;return null!=a?(r=(a=a.replace(/[^\d,]/g,"").split(","))[0],s=a[1],l=a[2],4==a.length&&(c=a[3])):(r=t,s=e,l=i,null!=n&&(c=n)),127<o&&(o=127),"rgba("+(r+=127<r?-o:o)+","+(s+=127<s?-o:o)+","+(l+=127<l?-o:o)+","+c+")"},createId:function(t){t=t||"imObj";for(var e=0;0<i("#"+t+e).length;)e++;return t+e},imHash:function(t){for(var a,e="QWERTYUIOPASDFGHJKLZXCVBNMqwertyuiopasdfghjklzxcvbnm1234567890",i="",n=0,o=t.length-1;0<=o;o--)n+=t.charCodeAt(o)*Math.pow(2,t.length-o);for(n*=834,n+="",a=0;0<n.length;)a+=2*(parseInt(n.charAt(0),10)+5),n=n.substr(1),e.length-1<a&&(a-=e.length-1),i+=e.charAt(a);return i},round:function(t,e){return e=e||0,(Math.round(t*Math.pow(10,e))/Math.pow(10,e)).toFixed(e)},isOdd:function(t){return 0==isNaN(t)?t%2==1:null}})}(_jq,x5engine),function(t,l){"use strict";t.extend(l.utils,{htmlspecialchars:function(t){return t?t.replace(/\"/g,"''").replace(/</g,"&lt;").replace(/>/g,"&gt;"):""},htmlspecialchars_decode:function(t){return t?t.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#039;/g,"'"):""},escapeRegExp:function(t){return t.replace(/[-.*+?^${}()|[\]\/\\]/g,"\\$&")},htmlDecode:function(t){var e=document.createElement("div");return e.innerHTML=t,0===e.childNodes.length?"":e.childNodes[0].nodeValue},emailTo:function(t,e,i,n){for(var s,l,o="",a=[],r=0;r<t.length;r++)s=parseInt(t.charAt(r),10),l=e.substring(0,s),e=e.substring(s),o=l+o;i&&a.push("subject="+i);n&&a.push("body="+n);location.href="mailto:"+o+(a.length?"?"+a.join("&"):"")},trim:function(t,i){for(var e=function(t){for(var e=0;e<i.length;e++)if(t==i.charAt(e))return!0;return!1};t.length&&e(t.charAt(0));)t=t.substring(1);for(;t.length&&e(t.charAt(t.length-1));)t=t.substring(0,t.length-1);return t},isValidEmail:function(t){var e,i;return t?(i=t.indexOf("@"),-1!=i&&i==t.lastIndexOf("@")&&!/[/\\\?\^\$]+/g.test(t)&&(e=t.substring(0,i),i=t.substring(i+1),!(!e.length||!i.length)&&"."!=i.charAt(0)&&"."!=i.charAt(i.length-1)&&-1!=i.indexOf(".")&&"."!=e.charAt(0)&&"."!=e.charAt(e.length-1))):!1},isNullOrEmpty:function(t){return null==t||""==t},replaceAll:function(t,e,i){return t.replace(new RegExp(l.utils.escapeRegExp(e),"g"),i)},replaceMap:function(t,e){for(var i in e)t=l.utils.replaceAll(t,i,e[i]);return t},occurrences:function(t,e,i){if(t+="",(e+="").length<=0)return 0;for(var n=0,o=0,a=i?1:e.length;t.length>o;){if((o=t.indexOf(e,o))<0)return n;++n;o+=a}},splitWordByText:function(t,e,i){if(t=t.trim(),i&&l.utils.isOdd(l.utils.occurrences(t,i)))return l.utils.splitWordByText(t,e);for(var n,o=[],a="",r=!1,s=0;s<t.length;s++)n=t.charAt(s),i&&n==i&&(r=!r),n==e&&!r||n==i||(a+=n),(n!=e||r)&&s!=t.length-1||(o.push(a),a="");return o}})}(_jq,x5engine),function(l,c){"use strict";l.extend(c.utils,{getParam:function(t){var e,i="",n=0;return t+="=",0<(i=0!==window.location.search?window.decodeURI(window.location.search):i).length&&-1!=(e=i.indexOf(t))?(e+=t.length,-1==(n=i.indexOf("&",e))&&(n=i.length),i.substring(e,n)):null},imOpenLocation:function(t){document.location=t},isOnline:function(){return!c.settings.islocal},location:function(t,e,i,n){var o,a=-1,r="",e=e||c.utils.currentPagePath,s=-1!=(o=t.indexOf("#"))?t.substring(o):"";return(void 0===i&&(i=!0),void 0===n&&(n=window),-1!=t.indexOf("../")||0===t.indexOf("/")||(r=s?t.replace(s,""):t,(e=-1!=(a=e.indexOf("#"))?e.substring(0,a):e)!=r&&(0!==r.indexOf("http")&&(e=e.substring(e.lastIndexOf("/")+1)),-1!=(a=r.indexOf("/"))&&(r=r.substring(0,a))),r!=e&&""!==r))?(n.location.href=t,!0):(t={start:function(){l("body").trigger("scrollToAnchorAnimationInProgress")},complete:function(){i&&(n.location.hash=s);l("body").trigger("scrollToAnchorAnimationCompleted")}},c.utils.scrollTo(s||0,t),!1)},isCurrentPage:function(t,e){if(t)for(var i=0;i<t.length;i++)if(t[i]==location.pathname)return!e||e===location.hash.replace(/^#/g,"");return!1},queryStringToObject:function(){var t=window.location.search.substring(1);return""==t?null:function(t){for(var e=t.split("&"),i={},n=0;n<e.length;n++){var o=e[n].split("="),a=decodeURIComponent(o[0]),r=decodeURIComponent(o[1]);void 0===i[a]?i[a]=r:"string"==typeof i[a]?(o=[i[a],r],i[a]=o):i[a].push(r)}return i}(t)}})}(_jq,x5engine),function(t,e){t.extend(e,{youtube:{jsApiIsLoaded:!1,apiLoadedEventName:"youtube_api_loaded"}})}(_jq,x5engine),function t(){x5engine.l10n.loaded()&&x5engine.settings.loaded&&x5engine.cart.loaded?x5engine.boot.run():setTimeout(t,250)}()